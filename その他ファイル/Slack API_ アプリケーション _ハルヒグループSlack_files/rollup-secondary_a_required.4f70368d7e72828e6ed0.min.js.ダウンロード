(()=>{var Xe=Object.defineProperty;var o=(s,r)=>Xe(s,"name",{value:r,configurable:!0});(globalThis.webpackChunkwebapp=globalThis.webpackChunkwebapp||[]).push([["rollup-secondary_a_required","TS.enterprise","TS.utility"],{5717746259:()=>{(function(){TS.registerModule("api",{})})()},3357051215:()=>{(function(){TS.registerModule("automount",{onStart:function(){var s=TS.redux.getStoreInstance();setTimeout(()=>{TS.interop.automount.mountAllWithStore(s)},0)}})})()},4592601333:()=>{(function(){TS.registerModule("bots",{legacyEnsureBotsInDataArePresent:function(s){var r=TS.interop.utility.extractAllBotIds(s);return TS.interop.bots.ensureBotsArePresent(r)}})})()},4739508455:()=>{(function(){TS.registerModule("channels",{switched_sig:new signals.Signal,joined_sig:new signals.Signal,left_sig:new signals.Signal,deleted_sig:new signals.Signal,onStart:function(){TS.channels.deleted_sig.add(s=>{TS.channels.temp_list_of_removed_channels[s]=!0}),TS.channels.joined_sig.add(s=>{delete TS.channels.temp_list_of_removed_channels[s.id]})},temp_list_of_removed_channels:{},legacyOnJoin:function(s,r,a){if(!s){r.error==="name_taken"||r.error==="is_archived"||(r.error==="restricted_action"?TS.generic_dialog.alert(TS.interop.i18n.t("<p>You don\u2019t have permission to create new channels.</p><p>Talk to your Workspace Owner.</p>","channels")()):(TS.error("failed to join channel"),TS.generic_dialog.alert(TS.interop.i18n.t("Oops, something went wrong.","client")())));return}var t,n;if(r.channel&&(n=TS.interop.channels.upsertChannel(r.channel),t=r.channel.id),!t){TS.error("no channel_id?!!");return}if(TS.model.requested_channel_joins[t]&&delete TS.model.requested_channel_joins[t],!n){TS.error("no channel?!!");return}a.request_in_background||!TS.interop.channels.getNeedsCreatedMessageState(n.name)&&!n.never_needs_joined_msg&&(n.needs_joined_message=!0)},legacyAlertSetTopicError:function(s){var r=_.get(s,"data.error"),a=TS.interop.i18n.t("Oooops!","channels")(),t=TS.interop.rules.channels.getChannelTopicError(r);TS.generic_dialog.alert(t,a)}})})()},7503965831:()=>{(function(){TS.registerModule("click",{onStart:function(){a(),r()},addHandler:function(i,d,m){_.isFunction(i)&&(m=d,d=i,i=null),s.push({selector:i,fn:d,prevent_on_drag:m||!1})},test:function(){return{addAll:r,setupBinding:a,handlers:function(){return s},resetHandlers:function(){s=[]},unbind:function(){$("body").off("click.ts_dot_click"),$("body").off("mousedown.ts_dot_click_mousedown")}}}});var s=[],r=o(function(){TS.click.addHandler(".inline_attachment.clickable, .inline_attachment.clickable + .reply_broadcast_rule",function(i,d){var m=["a",".media_caret",".msg_inline_video_buttons_div"].join(",");if(!$(i.target).closest(m).length){var u;d.is(".reply_broadcast")||d.closest(".reply_broadcast_rule").length?u=d.closest(".message_body").find('[data-action="open_conversation"]'):u=d.find(".attachment_from_url_link"),u[0]&&u[0].click()}},!0)},"_addAll"),a=o(function(){var i={};$("body").on("mousedown.ts_dot_click_mousedown",function(d){i.x=d.clientX,i.y=d.clientY}),$("body").on("click.ts_dot_click",function(d){if(!d.isDefaultPrevented()){var m=$(d.target);if(!(m.parents("[data-reactroot]").length||m.parents(".ReactModalPortal").length)){for(var u=t(d),f,p,v=0;v<s.length;v+=1)if(f=s[v],p=null,!(f.prevent_on_drag&&(d.clientX!=i.x||d.clientY!=i.y))){if(f.selector){if(p=m.closest(f.selector),!p.length)continue;f.fn(d,p,u),d.isDefaultPrevented()&&TS.has_pri[n]&&TS.log(n,`click on ${f.selector}`)}else f.fn(d,u);if(d.isDefaultPrevented())return}}}})},"_setupBinding"),t=o(function(i){var d=$(i.target);if(d.closest("#member_stars_list").length)return"starred_items";if(d.closest("#member_mentions").length)return"mentions";if(d.closest("#file_list").length)return"file_list";if(d.closest("#file_preview_scroller").length)return"file_preview";if(d.closest("#member_preview_scroller").length)return"member_preview";if(d.closest("#convo_scroller").length)return"conversation";if(d.closest("#groups_tab").length)return"groups";if(d.closest("#threads_msgs_scroller_div").length)return"threads";if(d.closest("#channel_page_scroller").length){var m=TS.shared.legacyGetActiveModelOb(),u="channel_page";return m.is_group&&!m.is_mpim?u="group_page":(m.is_im||m.is_mpim)&&(u="im_page"),u}return null},"_getPreviewOrigin"),n=2003})()},6081137529:()=>{(function(){TS.registerModule("compression",{compress:function(d,m,u,f){var p=Date.now();if(u){var v=LZString.compress(m),S=Date.now()-p;return TS.has_pri[i]&&TS.log(i,`${d} took ${S}ms to _compress immediately str.length: ${m.length}`),f({k:d,str:v})}t(d,m,function(k,P){var O=Date.now()-p;TS.has_pri[i]&&TS.log(i,`${d} took ${O}ms for the compression worker to callback (${P}ms spent within the worker) result.length: ${k.length}`),f({k:d,str:k})})},terminate:function(){s&&s.terminate(),s=null}});var s=null,r=0,a={},t=o(function(d,m,u){s||n(),r+=1;var f=`job_key${r}`;a[f]=function(p,v){u(p,v),delete a[f]},s.postMessage({request:"compress",input:m,job_key:f,k:d})},"_doCompressionJob"),n=o(function(){if(s){TS.error("_makeWorker but there is a _worker");return}var d=_.get(TS,"boot_data.vvv_paths.lz_string","/js/libs/lz-string-1.4.4.js"),m=TS.environment.is_dev;(TS.qs_args.local_assets||m)&&d.indexOf("http")!==0&&(d=`${location.protocol}//${location.host}${d}`),s=TS.utility.makeWebWorker(`function() {			self.importScripts('${d}');			self.onmessage = function(e) {				var start = Date.now();				var result;				if (e.data.request === 'compress') {					result = LZString.compress(e.data.input)				}				var elapsed = Date.now() - start;				postMessage({					request: e.data.request,					result: result,					job_key: e.data.job_key,					k: e.data.k,					elapsed: elapsed				});			}		}`,function(u){var f=a[u.data.job_key];if(!f){TS.error(`e.data.job_key:${u.data.job_key} had no record in _callbacks??`);return}f(u.data.result,u.data.elapsed)})},"_makeWorker"),i=488})()},1345352986:()=>{(function(){TS.registerModule("enterprise",{})})()},5406923728:()=>{(function(){TS.registerModule("enterprise.workspaces",{onStart:function(){},showRequestDialog:function(){let{displayModernToast:s=_.noop}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var r="#generic_dialog",a=".dialog_go",t="enterprise.teams.creationrequests.create",n="#input_ws_team_name",i="#textarea_ws_team_message",d,m;function u(){var f=$(r),p=f.find(a);return d&&m?(p.removeAttr("disabled"),!0):(p.attr("disabled",!0),!1)}o(u,"checkForm"),TS.generic_dialog.start({title:TS.interop.i18n.t("Request creation of a new workspace","enterprise_workspaces")(),body:TS.templates.ws_request_dialog(),show_cancel_button:!0,show_go_button:!0,go_button_text:TS.interop.i18n.t("Send Request","enterprise_workspaces")(),onGo:function(){var f=$(r),p=$(n),v=_.escape(p.val()),S=$(i),k=S.val(),P=f.find(a);P.addClass("ladda-button"),P.attr("data-style","expand-right");var O=Ladda.create(P[0]);O.start();var I={name:_.unescape(v),reason:k};return TS.boot_data.app==="client"&&(I.enterprise_token=TS.model.enterprise_api_token),TS.interop.api.callExpedited(t,I).then(function(){s({type:"success",teamName:v}),TS.generic_dialog.end(),TS.generic_dialog.cancel()}).catch(function(q){if(!q||!q.data){TS.error(`WTF: error, but no response or data on ${t}?`,q);return}var Y=q.data;s({type:"error",errorType:Y.error,teamName:v}),TS.error(`${t} failed with error: ${Y.error||"undefined"}`),O.stop()}),!1}}),$(n).on("keyup change",function(){d=TS.ui.validation.validate($(n)),u()}),$(i).on("keyup change",function(){m=TS.ui.validation.validate($(i)),u()}),$(n).focus(),$(r).find(a).attr("disabled",!0)}})})()},9645596735:()=>{(function(){TS.registerModule("groups",{switched_sig:new signals.Signal})})()},6191325158:()=>{(function(){TS.registerModule("ims",{switched_sig:new signals.Signal,onStart:function(){TS.prefs.display_real_names_override_changed_sig.add(a),TS.prefs.team_display_real_names_changed_sig.add(a),TS.members.changed_profile_sig.add(r)},getDisplayNameOfUserForIm:function(n){return s(n)}});var s=o(function(n){if(n._display_name)return n._display_name;const i=TS.interop.members.getMemberById(n.user);if(!i)return n.name;const d=TS.interop.rules.members.getPrefCompliantMemberName(i);return d===n.user||d===i.id?n.name:(n._display_name=d,n._display_name)},"_getDisplayNameCached"),r=o(function(n){var i=_.find(TS.model.ims,{user:n.id});i&&t(i)},"_memberRealNameChanged"),a=o(function(){TS.model.ims.forEach(t)},"_realNamePrefChanged"),t=o(function(n){n._display_name=void 0},"_clearDisplayNameCache")})()},1913226118:()=>{(function(){TS.registerModule("members",{presence_changed_sig:new signals.Signal,user_color_changed_sig:new signals.Signal,changed_current_status_sig:new signals.Signal,changed_name_sig:new signals.Signal,changed_real_name_sig:new signals.Signal,changed_deleted_sig:new signals.Signal,changed_profile_sig:new signals.Signal,changed_tz_sig:new signals.Signal,changed_account_type_sig:new signals.Signal,changed_admin_perms_sig:new signals.Signal,changed_owner_perms_sig:new signals.Signal,changed_self_sig:new signals.Signal,lazily_added_sig:new signals.Signal,batch_upserted_sig:new signals.Signal,member_was_upserted_sig:new signals.Signal,changed_is_unknown_sig:new signals.Signal,legacy_is_in_bulk_upsert_mode:!1,onStart:function(){TS.channels.joined_sig.add(()=>{TS.members.invalidateMembersUserCanSeeArrayCaches()}),TS.channels.left_sig.add(()=>{TS.members.invalidateMembersUserCanSeeArrayCaches()})},legacyUpsertAndSignal:function(c){var A=TS.members.legacyUpsertMember(c);return te(A,c)},legacyUpsertMember:function(c){var A=TS.redux.members.hasMemberWithId(c.id)&&TS.interop.members.getRawMemberById(c.id),re="NOOP",J=[];if(c=TS.interop.members.processMemberForUpserting(c),A){TS.has_pri[F]&&TS.log(F,`updating existing member "${c.id}"`);var ee=I(A,c);if(re=ee.status,J=ee.what_changed,_.includes(J,"deleted")){var Q=TS.redux.channels.getImByMemberId(c.id);Q&&(Q.is_archived=c.deleted)}}else c.id?(re="ADDED",_.includes(u,c.id)&&J.push("is_unknown"),q(c),TS.has_pri[F]&&TS.log(F,`adding member "${c.id}" color:${c.color} member_color:${c.member_color}`)):TS.error("bad error, no member.id");if(c.is_self&&c.deleted){TS.reload(null,"member.is_self && member.deleted");return}TS.members.legacy_is_in_bulk_upsert_mode||(TS.members.invalidateMembersUserCanSeeArrayCaches(),TS.members.invalidateActiveMembersArrayCaches()),TS.members.member_was_upserted_sig.dispatch(),TS.members.legacy_is_in_bulk_upsert_mode||(re!=="NOOP"&&(TS.interop.members.dangerouslyAddMember(c),TS.redux.dispatch(TS.interop.redux.features.presence.updatePresence({memberId:c.id,presence:c.presence||"away"}))),TS.interop.members.markObjectsAsFresh([c.id]),TS.interop.members.setCanMembersInteract([c]));var ne={status:re,member:c,what_changed:J};return TS.members.legacy_is_in_bulk_upsert_mode&&s.push(ne),ne},getActiveMembersWithSelfAndNotSlackbot:function(){return r.length||(r=f(r,{include_self:!0,include_slackbot:!1,include_bots:!0})),r},getMembersWithOptions:function(c){var A=TS.members.getMembersForUser(),re=_.filter(A,function(J){return J.is_stranger?!1:c.only_admins?J.is_admin&&!J.deleted:!(c.only_local_team&&!TS.interop.rules.members.isMemberOnTeam(J,TS.model.team.id)||!c.include_deleted&&J.deleted||!c.include_slackbot&&TS.interop.rules.members.isSlackbot(J)||!c.include_self&&J.is_self||!c.include_bots&&J.is_bot)});return re},getMembersForUser:function(){return m.length||(m=_.filter(TS.redux.members.getAllMembers(),function(c){return c.is_stranger!==!0&&!!c.name})),m},legacyGetPrefCompliantMemberNameLowerCase:function(c,A){if(!c)return"";var re=function(){var J=TS.interop.rules.members.getMemberRealNameLowerCase(c);return!TS.interop.members.shouldDisplayRealNames()&&TS.interop.rules.members.getMemberProfileFieldDisplayNameLowerCase(c)&&(J=TS.interop.rules.members.getMemberProfileFieldDisplayNameLowerCase(c)),J}();return A?_.escape(re):re},invalidateMembersUserCanSeeArrayCaches:function(){if(TS.model.user){var c=m.length;c&&(m.length=0,TS.members.invalidateActiveMembersArrayCaches())}},invalidateActiveMembersArrayCaches:function(){r.length=0,a.length=0,t.length=0,n.length=0,i.length=0,d.length=0},legacyEnsureMembersInDataArePresent:function(c,A){var re=TS.interop.utility.extractAllMemberIds(c);if(_.get(TS,"model.team.id")==="T02J3DPUE"&&!_.isEmpty(re)){var J=_.some(re,function(Q){return Q[0]==="U"});if(J){var ee={message:`Fetching U users on W team from source: ${A}`,stack:TS.console.getStackTrace()};$.post(TS.boot_data.beacon_error_url,{description:"fetch_u_on_w_team",error_json:JSON.stringify(ee),team:_.get(TS,"model.team.id","none"),user:TS.boot_data.user_id,version:TS.boot_data.version_ts})}}return TS.interop.members.ensureMembersArePresent(re)},fetchAndUpsertMembersWithQuery:function(c){return TS.interop.members.fetchAndUpsertMembersWithQuery({query:c}).then(A=>{let{members:re,next_marker:J}=A;return{objects:re,next_marker:J}})},legacyStartBatchUpsert:function(){return TS.members.legacy_is_in_bulk_upsert_mode?!1:(TS.members.legacy_is_in_bulk_upsert_mode=!0,!0)},legacyFinishBatchUpsert:function(){if(!TS.members.legacy_is_in_bulk_upsert_mode)return!1;TS.members.legacy_is_in_bulk_upsert_mode=!1,TS.members.invalidateMembersUserCanSeeArrayCaches(),TS.members.invalidateActiveMembersArrayCaches();var c=_.partition(s,function(J){return _.includes(J.what_changed,"is_unknown")}),A=c[0];TS.interop.members.dangerouslyBulkAddMembers(s.map(J=>J.member));var re=s.reduce((J,ee)=>{var Q=ee.member;return Q.presence&&(J[Q.id]=J[Q.presence]),J},{});return TS.redux.dispatch(TS.interop.redux.features.presence.bulkUpdatePresence(re)),A.length>0&&TS.members.changed_is_unknown_sig.dispatch({batch:_.map(A,"member")}),TS.members.batch_upserted_sig.dispatch(s),TS.interop.members.markObjectsAsFresh(_.map(s,"member.id")),TS.interop.members.setCanMembersInteract(s.map(J=>J.member)),s=[],!0},legacyAllocateTeamListMembers:function(c){var A,re=[],J=[],ee=[],Q=[],ne=[],ce=[];c.sort(function(z,j){var X=z._real_name_lc||z._name_lc,N=j._real_name_lc||j._name_lc;return X>N?1:N>X?-1:0});for(var L=0;L<c.length;L+=1)A=c[L],A.deleted?A.is_bot?ee.push(A):J.push(A):A.is_ultra_restricted?ce.push(A):A.is_restricted?ne.push(A):A.is_bot||TS.interop.rules.members.isSlackbot(A)?Q.push(A):re.push(A);return{members:re,disabled_members:J,deleted_bots:ee,bots:Q,restricted_members:ne,ultra_restricted_members:ce}},promiseToSearchMembers:function(c){return Promise.resolve(c).then(function(A){return A?(A.query=A.query&&A.query.trim()||"",A.include_org=!!TS.boot_data.page_needs_enterprise&&!!A.include_org,A.org_team_ids=A.include_org&&Array.isArray(A.org_team_ids)?A.org_team_ids:[],A=v(A,TS.interop.searcher.isNewMemberSearch(A)),A._is_new||A.num_remaining>0?S(A):Promise.resolve(A)):Promise.reject(new Error("No search parameters provided"))})},legacySetMemberUnknown:function(c){u.push(c)},test:function(){var c={};return Object.defineProperty(c,"_accessible_user_ids_last_fetched_ts",{get:function(){return Y},set:function(A){Y=A}}),Object.defineProperty(c,"_processNewMemberForUpserting",{get:function(){return q},set:function(A){q=A}}),Object.defineProperty(c,"_processExistingMemberForUpserting",{get:function(){return I},set:function(A){I=A}}),Object.defineProperty(c,"_fillMembersWithOptions",{get:function(){return f},set:function(A){f=A}}),Object.defineProperty(c,"_members_for_user",{get:function(){return m},set:function(A){m=A}}),c}});var s=[],r=[],a=[],t=[],n=[],i=[],d=[],m=[],u=[],f=o(function(c,A){if(!_.isArray(c))throw new TypeError("members passed to _fillMembersWithOptions is not an array!");c.length=0;var re=TS.members.getMembersWithOptions(A);return _.each(re,function(J){c.push(J)}),c},"_fillMembersWithOptions"),p=o(function(c){var A=c?c.is_unknown:!1;return c&&c.is_unknown&&(c.is_unknown=!1),_.pull(u,c.id),A},"_maybeSetMemberKnown"),v=o(function(c,A){return c=c||{},c.hasOwnProperty("_searcher_p")&&A&&c._searcher_p.cancel(),(!c.hasOwnProperty("_cursor_mark")||A)&&(c._cursor_mark=""),c.hasOwnProperty("full_profile_filter")||(c.full_profile_filter=!0),c.hasOwnProperty("include_bots")||(c.include_bots=!0),c.hasOwnProperty("include_deleted")||(c.include_deleted=!1),c.hasOwnProperty("include_self")||(c.include_self=!1),c.hasOwnProperty("include_slackbot")||(c.include_slackbot=!0),c.hasOwnProperty("include_profile_only_users")||(c.include_profile_only_users=!1),c.hasOwnProperty("only_local_team")||(c.only_local_team=!1),c.hasOwnProperty("only_admins")||(c.only_admins=!1),(!c.hasOwnProperty("items")||A)&&(c.items=[]),c.hasOwnProperty("not_member_of")||(c.not_member_of=[]),c.hasOwnProperty("member_of")||(c.member_of=[]),(!c.hasOwnProperty("num_found")||A)&&(c.num_found=0),(!c.hasOwnProperty("num_remaining")||A)&&(c.num_remaining=0),(!c.hasOwnProperty("num_new")||A)&&(c.num_new=0),c.hasOwnProperty("max_api_results")||(c.max_api_results=100),A&&(c._last_query=c.query,c._last_include_org=c.include_org,c._last_org_team_ids=c.org_team_ids),c._is_new=!!A,c},"_readyMemberSearcher"),S=o(function(c){var A=o(function(){return P(c)},"promiseToSearch");return c._is_new?c._searcher_p=A():c._searcher_p=c._searcher_p.then(A),c._searcher_p},"_promiseToSearchMembers"),k=o(function(c){var A=[TS.utility.search.makeClause("is","user")];if(c._last_query){var re=c._last_query.split(/\s*,\s*|\s+/).map(function(L){return L.charAt("0")==="@"?L.substring(1):L}).filter(function(L){return!!L}).map(function(L){return L.length===1||!c.full_profile_filter?TS.utility.search.makeConjunction("OR",[TS.utility.search.makeClause("real_name",L),TS.utility.search.makeClause("display_name",L)]):TS.utility.search.makeClause("fuzzy_with_email",L)});A=A.concat(re)}if(c.not_member_of&&c.not_member_of.length){var J=c.not_member_of.map(function(L){return TS.utility.search.makeClause("not_member_of",L)});A.push(J.length>1?TS.utility.search.makeConjunction("OR",J):J[0])}if(c.member_of&&c.member_of.length){var ee=c.member_of.map(function(L){return TS.utility.search.makeClause("member_of",L)});A.push(ee.length>1?TS.utility.search.makeConjunction("OR",ee):ee[0])}if(c._last_include_org&&c._last_org_team_ids.length){var Q=c._last_org_team_ids.map(function(L){return TS.utility.search.makeClause("belongs_to_team_id",L)});A.push(Q.length>1?TS.utility.search.makeConjunction("OR",Q):Q[0])}var ne=A.length>1?TS.utility.search.makeConjunction("AND",A):A[0],ce={query:ne,count:c.max_api_results,include_bots:c.include_bots,include_deleted:c.include_deleted,ignore_guest_accounts:c.ignore_guest_accounts,only_local_team:c.only_local_team,only_admins:c.only_admins,include_profile_only_users:c.include_profile_only_users,raw_query:c.query,solr:c.solr};return c._last_include_org&&(ce.all_of_org=c._last_include_org),c._cursor_mark&&(ce.cursor_mark=c._cursor_mark),c.determine_membership_for_channel&&(ce.determine_membership_for_channel=c.determine_membership_for_channel),ce},"_buildPromiseToSearchMembersArguments"),P=o(function(c){var A=k(c);return c.num_new=0,TS.utility.search.promiseToSearch(A).then(function(re){if(!re.data.items.length)return Promise.resolve(c);c.num_remaining||(c.num_remaining=re.data.num_found,c.num_found=re.data.num_found),c.num_remaining-=re.data.items.length,c._cursor_mark=re.data.next_cursor_mark;var J=re.data.items.map(function(ee){var Q=TS.interop.members.getMemberById(ee.id);return Q||(c._last_include_org&&ee.team_id!==TS.model.team.id&&(ee.is_primary_owner=!1,ee.is_owner=!1,ee.is_admin=!1),Q=TS.members.legacyUpsertMember(ee).member),Q}).filter(function(ee){return ee.is_self&&!c.include_self||TS.interop.rules.members.isSlackbot(ee)&&!c.include_slackbot?(c.num_found-=1,!1):c.limit_by_model_relevancy?TS.utility.members.isMemberRelevantToModel(ee,c.limit_by_model_relevancy):!0});return c.num_new=J.length,c.items.push.apply(c.items,J),Promise.resolve(c)})},"_promiseToSearchMembersWorker"),O=o(function(c){return _.isObject(c)?_.omitBy(c,function(A,re){return re.indexOf("image_")===0}):c},"_omitImagesFromProfile"),I=o(function(c,A){var re="NOOP",J=[];return Object.keys(A).forEach(function(ee){if(ee==="profile"){var Q=O(c.profile),ne=O(A.profile);if(_.isObject(ne)){(Q.status_text!==ne.status_text||Q.status_emoji!==ne.status_emoji)&&(re="CHANGED",J.push("current_status"));var ce=Object.keys(Q).filter(function(N){return typeof ne[N]>"u"}).concat(["status_text","status_emoji"]);Q=_.omit(Q,ce),ne=_.omit(ne,ce),_.isEqual(Q,ne)||(re="CHANGED",J.push(ee))}}else if(ee==="enterprise_user")if(c[ee])for(var L in A[ee])_.isEqual(c[ee][L],A[ee][L])||(re="CHANGED",J.push(ee));else re="CHANGED",J.push(ee);else if(ee==="id"){var z=c.id!=A.id&&c.enterprise_user&&A.enterprise_user;if(z){var j=c.enterprise_user.id===c.id,X=A.id!=A.enterprise_user.id;j&&X&&(re="CHANGED",J.push(ee))}}else ee==="teams"?(re="CHANGED",J.push(ee)):c[ee]!=A[ee]&&(ee==="is_admin"&&TS.has_pri[H]&&(TS.warn(H,`${ee}is changing from \`${c[ee]}\` to \`${A[ee]}\``),TS.console.trace(H)),A[ee]&&!TS.utility.isScalar(A[ee])?(c[ee]=A[ee],TS.warn(`${ee} is not scalar! it needs to be handled by upsertMember specifically to test if it has changed! ${typeof A[ee]}`)):(typeof A[ee]!="boolean"||!A[ee]!=!c[ee])&&(J.push(ee),re="CHANGED"))}),p(c)&&J.push("is_unknown"),{status:re,what_changed:J}},"_processExistingMemberForUpserting"),q=o(function(c){TS.members.user_color_changed_sig.dispatch(c)},"_processNewMemberForUpserting"),Y=0,F=4,H=1975,te=o(function(c,A){if(c.status==="ADDED")TS.members.lazily_added_sig.dispatch(c.member);else if(c.status==="CHANGED"){if(c.what_changed.indexOf("is_unknown")!==-1)return TS.members.changed_is_unknown_sig.dispatch(c.member),c;c.what_changed.indexOf("current_status")!==-1&&TS.members.changed_current_status_sig.dispatch(c.member),c.what_changed.indexOf("profile")!==-1&&TS.members.changed_profile_sig.dispatch(c.member),(c.what_changed.indexOf("is_restricted")!==-1||c.what_changed.indexOf("is_ultra_restricted")!==-1)&&TS.members.changed_account_type_sig.dispatch(c.member),c.what_changed.indexOf("real_name")!==-1&&TS.members.changed_real_name_sig.dispatch(c.member),(c.what_changed.indexOf("member_color")!==-1||c.what_changed.indexOf("color")!==-1)&&TS.members.user_color_changed_sig.dispatch(c.member),c.what_changed.indexOf("name")!==-1&&TS.members.changed_name_sig.dispatch(c.member),c.what_changed.indexOf("tz")!==-1&&TS.members.changed_tz_sig.dispatch(c.member),c.what_changed.indexOf("deleted")!==-1&&TS.members.changed_deleted_sig.dispatch(c.member),c.what_changed.indexOf("presence")!==-1&&TS.members.presence_changed_sig.dispatch(c.member),c.what_changed.indexOf("is_owner")!==-1&&TS.members.changed_owner_perms_sig.dispatch(c.member),c.what_changed.indexOf("is_admin")!==-1&&TS.members.changed_admin_perms_sig.dispatch(c.member),A.is_self&&TS.members.changed_self_sig.dispatch(c.member)}return c},"_signalUpsert")})()},2955023073:()=>{(function(){TS.registerModule("members.view",{team_filter_changed_sig:new signals.Signal,filter_timer:null,onStart:function(){var L=500;u=TS.utility.debounceWithPromise(te,L),f=TS.utility.debounceWithPromise(te,L),p=TS.utility.debounceWithPromise(te,L)},switchTabs:function(L){$(`#${L}_members_tab`).trigger("click")},filterTeam:function(L,z,j,X){var N=k(j);return _.get(X,"full_profile_filter")||_.get(N,"full_profile_filter")?TS.team.ensureTeamProfileFields().then(function(){return S(N)?q(L,z,j,N):(c(L,z,j,X),Promise.resolve())}):(c(L,z,j),Promise.resolve())},clearFilter:function(L,z){var j=k(z),X=$(L),N=X.find("input.member_filter"),y=X.find(".icon_close"),U=X.data("list-items-id"),h=$(U),w=h.find(".member_item");s="",TS.storage.storeFilterState(s),TS.members.view.filter_timer&&(window.clearTimeout(TS.members.view.filter_timer),TS.members.view.filter_timer=null),N.val(""),y.addClass("hidden"),S(j)?(I(z),TS.members.view.filterTeam(s,L,z,j)):($(".restricted_header, .bot_header, .ra_invite_prompt, .restricted_info").removeClass("hidden"),h.find(".no_results").addClass("hidden"),w.addClass("active"),r[z]&&(r[z].detachEvents(),delete r[z]),h.find(".member_item.clone").remove(),h.find(".filter_header").remove(),TS.members.view.team_filter_changed_sig.dispatch("",TS.members.getMembersForUser().length))}});var s="",r={},a={},t={},n={},i={members:{},restricted:{},deleted:{}},d=100,m=116,u,f,p,v=o(function(){return _.get(TS,"web.admin.view")==="list"&&TS.boot_data.page_needs_enterprise?!1:TS.boot_data.page_needs_enterprise},"_includeOrg"),S=o(function(L){if(TS.boot_data.page_needs_enterprise&&L&&L.is_long_list_view||_.get(TS,"web.admin.view")==="list")return!0},"_useSolrSearch"),k=o(function(L){var z=t[L];if(!z){TS.error("Missing arguments for a bound filter");return}return _.isFunction(z)&&(z=z()||{}),z.include_org=v(),z},"_getFilterArgumentsByScrollerId"),P=o(function(L){var z=$(L).find(".ts_icon_search");if(!z.next().is(`${L}_spinner`)){var j=TS.templates.loading_indicator({id:`${L.substring(1)}_spinner`});z.after(j),z.addClass("hidden")}},"_startSpinner"),O=o(function(L){$(L).find(".ts_icon_search").removeClass("hidden"),$(`${L}_spinner`).remove()},"_stopSpinner"),I=o(function(){i.filter_p&&i.filter_p.cancel(),i.filtered_items&&(i.filtered_items={}),i.filter_last_query=null,i.filter_last_include_org=null,i.members.filter_cursor_mark="",i.members.filter_num_remaining=0,i.members.filter_num_found=0,i.members.filter_scroll_mark=0,i.restricted.filter_cursor_mark="",i.restricted.filter_num_remaining=0,i.restricted.filter_num_found=0,i.restricted.filter_scroll_mark=0,i.deleted.filter_cursor_mark="",i.deleted.filter_num_remaining=0,i.deleted.filter_num_found=0,i.deleted.filter_scroll_mark=0,TS.web&&$(window).off("scroll.filter").scrollTop(0)},"_cleanUpPromiseToFilterTeam"),q=o(function(L,z,j,X){var N=L.trim();s=N.toLocaleLowerCase(),TS.storage.storeFilterState(s);var y=i.filter_last_query!==s||i.filter_last_include_org!==X.include_org||i.filter_last_sort!==X.sort||i.filter_last_sort_dir!==X.sort_dir;y&&(I(j),i.filter_last_query=s,i.filter_last_include_org=X.include_org,X.sort&&(i.filter_last_sort=X.sort),X.sort_dir&&(i.filter_last_sort_dir=X.sort_dir)),P(z);var U=o(function(){return Promise.resolve().then(function(){return Y(i,y,s,X)}).then(function(h){return O(z),F(h,i,y,s,N,z,j,X)}).finally(function(){TS.utility.rAF(function(){})})},"promiseToFilter");return y?i.filter_p=U():i.filter_p=i.filter_p.then(U),i.filter_p},"_promiseToFilterTeam"),Y=o(function(L,z,j,X){var N=z||TS.model.ui_state.tab_name==="active_members"&&L.members.filter_num_remaining,y=z||TS.model.ui_state.tab_name==="restricted_members"&&L.restricted.filter_num_remaining,U=z||TS.model.ui_state.tab_name==="disabled_members"&&L.members.filter_num_remaining;if(!N&&!y&&!U)return Promise.resolve(L.filtered_items);var h=_.assign({},X,{restricted:!1});L.members.filter_p=N?u(L.members,j,h):Promise.resolve([]);var w=_.assign({},X,{restricted:!0});L.restricted.filter_p=y?f(L.restricted,j,w):Promise.resolve([]);var R=_.assign({},X,{include_deleted:2,include_restricted_and_full_members:!0});return L.deleted.filter_p=U?p(L.deleted,j,R):Promise.resolve([]),Promise.join(L.members.filter_p,L.restricted.filter_p,L.deleted.filter_p,function(C,B,G){var K=(X.sort?Q:TS.members.legacyAllocateTeamListMembers)(C.concat(B,G));return K.members=_.uniqBy(K.members,function(ie){return ie.id}),K.disabled_members=_.uniqBy(K.disabled_members,function(ie){return ie.id}),K.restricted_members=_.uniqBy(K.restricted_members,function(ie){return ie.id}),K.ultra_restricted_members=_.uniqBy(K.ultra_restricted_members,function(ie){return ie.id}),z?L.filtered_items=K:(L.filtered_items.members.push.apply(L.filtered_items.members,K.members),L.filtered_items.disabled_members.push.apply(L.filtered_items.disabled_members,K.disabled_members),L.filtered_items.deleted_bots.push.apply(L.filtered_items.deleted_bots,K.deleted_bots),L.filtered_items.bots.push.apply(L.filtered_items.bots,K.bots),L.filtered_items.restricted_members.push.apply(L.filtered_items.restricted_members,K.restricted_members),L.filtered_items.ultra_restricted_members.push.apply(L.filtered_items.ultra_restricted_members,K.ultra_restricted_members)),ce([...L.filtered_items.restricted_members,...L.filtered_items.ultra_restricted_members]).then(()=>Promise.resolve(L.filtered_items))})},"_promiseToSearchAndCombineResults"),F=o(function(L,z,j,X,N,y,U,h){if(L){var w=!1;TS.model.ui_state.tab_name==="disabled_members"&&(i.deleted.filter_num_found||0)===0&&(w=!0),TS.model.ui_state.tab_name==="restricted_members"&&(i.restricted.filter_num_found||0)===0&&(w=!0);var R=TS.model.user_groups.filter(function(ae){return!ae.date_delete});TS.model.ui_state.tab_name==="user_groups"&&R.length===0&&(w=!0),w&&(TS.model.ui_state.tab_name="active_members",TS.storage.storeUIState(TS.model.ui_state),$("#active_members_tab").trigger("click"));var C=$("#active_members_list");C.length&&(C.longListView("setItems",n.active_members_list_items),j&&C.longListView("scrollToTop"));var B=$("#restricted_members_list");B.length&&(B.longListView("setItems",n.restricted_members_list_items),j&&B.longListView("scrollToTop"));var G=$("#deleted_members_list");G.length&&(G.longListView("setItems",n.deleted_members_list_items),j&&G.longListView("scrollToTop"));var K=L.members.concat(L.bots),ie=L.restricted_members.concat(L.ultra_restricted_members),ue=L.disabled_members.concat(L.deleted_bots),oe=[{name:"active",label:TS.interop.i18n.t("full members","members_view")(),matches:K},{name:"restricted",label:TS.interop.i18n.t("multi-channel guests","members_view")(),matches:ie},{name:"disabled",label:TS.interop.i18n.t("deactivated accounts","members_view")(),matches:ue}];if(oe.forEach(function(ae){var me=$(`#${ae.name}_no_results`);function x(){var l={query:N,tab:ae,active_matches:K,show_active_matches:ae.name!=="active"&&K.length>0,restricted_matches:ie,show_restricted_matches:ae.name!=="restricted"&&ie.length>0,disabled_matches:ue,show_disabled_matches:ae.name!=="disabled"&&ue.length>0},g=TS.templates.team_list_no_results(l);me.removeClass("hidden").html(g),me.find(".clear_members_filter").one("click",function(){TS.members.view.clearFilter(y,U)})}o(x,"noMatchesCase"),ae.matches.length>0||!X?me.addClass("hidden").empty():x()}),j){U==="#team_list_scroller"&&TS.web&&$(window).off("scroll.filter").on("scroll.filter",_.throttle(function(){var ae=0,me=0,x=0,l=null;TS.model.ui_state.tab_name==="active_members"&&(ae=_.parseInt($("#active_members_list > .list_items").css("height")),me=_.reject(n.active_members_list_items,{is_divider:!0}).length,x=z.members.filter_num_remaining,l=z.members.filter_p),TS.model.ui_state.tab_name==="restricted_members"&&(ae=_.parseInt($("#restricted_members_list > .list_items").css("height")),me=_.reject(n.restricted_members_list_items,{is_divider:!0}).length,x=z.restricted.filter_num_remaining,l=z.restricted.filter_p),TS.model.ui_state.tab_name==="disabled_members"&&(ae=_.parseInt($("#disabled_members_list > .list_items").css("height")),me=_.reject(n.deleted_members_list_items,{is_divider:!0}).length,x=z.deleted.filter_num_remaining,l=i.deleted.filter_p);var g=.9*Math.min(me,d);ae=_.isNaN(ae)?0:ae,ae-=g*m,ae&&x&&$(this).scrollTop()>ae&&l&&l.isResolved()&&q(X,y,U,h)},50,{leading:!0}));var le=(z.members.filter_num_found||0)+(z.restricted.filter_num_found||0)+(z.deleted.filter_num_found||0);TS.members.view.team_filter_changed_sig.dispatch(N,le)}}},"_displayPromiseToSearchResults"),H=o(function(L,z,j){var X=[];if(z&&(X=z.split(/\s*,\s*|\s+/).map(function(w){return w.charAt("0")==="@"?w.substring(1):w}).filter(function(w){return!!w}).map(function(w){if(w.length===1||!j.full_profile_filter){var R=TS.utility.search.makeClause("real_name",w),C=TS.utility.search.makeClause("display_name",w),B=TS.utility.search.makeConjunction("OR",[R,C]);return B}return TS.utility.search.makeClause("fuzzy_with_email",w)})),X.push(TS.utility.search.makeClause("is","user")),j.restricted){var N=TS.utility.search.makeClause("level","restricted"),y=TS.utility.search.makeClause("level","ultra_restricted");X.push(TS.utility.search.makeConjunction("OR",[N,y]))}var U=X.length>1?TS.utility.search.makeConjunction("AND",X):X[0],h={query:U,count:d,include_bots:j.include_bots,exclude_slackbot:j.exclude_slackbot,include_deleted:j.include_deleted};return j.sort&&(h.sort=j.sort),j.sort_dir&&(h.sort_dir=j.sort_dir),j.include_org&&(h.all_of_org=j.include_org),L.filter_cursor_mark&&(h.cursor_mark=L.filter_cursor_mark),j.endpoint&&(h.endpoint=j.endpoint),TS.web&&(h.solr=!0),h},"_buildPromiseToSearchArguments"),te=o(function(L,z,j){var X=H(L,z,j);return X.raw_query=z,TS.utility.search.promiseToSearch(X).then(function(N){if(L.filter_num_remaining||(L.filter_num_remaining=N.data.num_found,L.filter_num_found=N.data.num_found),L.filter_num_remaining-=N.data.items.length,L.filter_cursor_mark=N.data.next_cursor_mark,!N.data.items.length)return Promise.resolve([]);var y=N.data.items.map(function(U){var h=TS.interop.members.getMemberById(U.id);return(!h||!_.isEqual(h,U))&&(h=TS.members.legacyUpsertMember(U).member),h});return!j.restricted&&!j.include_restricted_and_full_members&&(y=y.filter(function(U){return!U.is_restricted})),y.length?Promise.resolve(y):L.filter_num_remaining?te(L,z,j):Promise.resolve([])})},"_promiseToSearch"),c=o(function(L,z,j,X){var N=$(z),y=L.trim();s=y.toLocaleLowerCase();var U=N.data("list-items-id"),h=$(U),w=h.find(".member_item:not(.clone)"),R=w.filter(".active"),C=h.find(".member_item.clone"),B=h.find(".filter_header"),G=!TS.web&&z==="#team_filter",K={},ie,ue,oe;TS.storage.storeFilterState(s);var le=!1,ae;!ae&&!TS.web&&z==="#team_filter"&&(ae=$("#team_list_members")),ae&&ae.length&&ae.addClass("hidden"),le&&(ie=w.parent(),ue=document.activeElement?$(document.activeElement):null,w.detach()),r[j]&&(r[j].detachEvents(),delete r[j]),C.remove(),B.remove(),R.removeClass("active"),h.find(".no_results").addClass("hidden"),le&&(ie.append(w),ue&&ue.focus());var me,x,l=[],g=[],b=[];x=TS.members.getMembersForUser(),$(".restricted_header, .bot_header, .ra_invite_prompt, .restricted_info").toggleClass("hidden",!!s),$.each(w,function(_e,fe){var he;fe=$(fe),he=fe.data("member-id"),K[he]=fe});var M=ne(x,s,X.full_profile_filter),Z=Object.keys(M);if(Z.length>0){if(ee(M,Z,K,b,g,l,G?j:""),j){var V=$(j);V.trigger("resize"),TS.ui.utility.updateClosestMonkeyScroller(V)}}else z==="#file_member_filter"&&(h.find(".query").text(y),h.find(".no_results").removeClass("hidden"));z==="#team_filter"&&(me=[{name:"active",label:TS.interop.i18n.t("full members","members_view")(),matches:l},{name:"restricted",label:TS.interop.i18n.t("multi-channel guests","members_view")(),matches:g},{name:"disabled",label:TS.interop.i18n.t("deactivated accounts","members_view")(),matches:b}],me.forEach(function(_e){var fe=$(`#${_e.name}_no_results`);function he(){var ye={query:y,tab:_e,active_matches:l,show_active_matches:_e.name!=="active"&&l.length>0,restricted_matches:g,show_restricted_matches:_e.name!=="restricted"&&g.length>0,disabled_matches:b,show_disabled_matches:TS.web&&_e.name!=="disabled"&&b.length>0},Te=TS.templates.team_list_no_results(ye);fe.removeClass("hidden").html(Te),fe.find(".clear_members_filter").on("click",function(){TS.members.view.clearFilter(z,j)})}if(o(he,"noMatchesCase"),_e.matches.length>0){fe.addClass("hidden").empty();return}he()})),oe=l.concat(g,b),ae&&ae.length&&ae.removeClass("hidden"),TS.ui.utility.updateClosestMonkeyScroller($(j)),TS.members.view.team_filter_changed_sig.dispatch(y,oe.length)},"_filterTeam"),A=o(function(L){return a[L]||L},"_getHeaderLabelForMatchKey"),re=o(function(L,z){var j=document.createElement("div"),X=document.createElement("strong");return j.classList.add("filter_header"),X.appendChild(document.createTextNode(L)),z.length&&X.appendChild(document.createTextNode(": ")),j.appendChild(X),z.forEach(function(N,y){j.appendChild(N),y<z.length-1&&j.appendChild(document.createTextNode(", "))}),j},"_getFilterHeader"),J=o(function(L,z){var j=document.createElement("span"),X=document.createElement("strong"),N=L.split(z);return X.appendChild(document.createTextNode(z)),j.appendChild(document.createTextNode(N.shift())),j.appendChild(X),j.appendChild(document.createTextNode(N.join(z))),j},"_getHighlightedValue"),ee=o(function(L,z,j,X,N,y,U){var h=$(U),w=document.createDocumentFragment(),R=document.createDocumentFragment(),C=document.createDocumentFragment(),B,G,K;if(z.sort(function(ue,oe){return TS.interop.i18n.sorter(a[ue],a[oe])}).forEach(function(ue){var oe=document.createDocumentFragment(),le=document.createDocumentFragment(),ae=document.createDocumentFragment(),me=[],x=[],l=[],g={},b={},M={};L[ue].forEach(function(Z){var V=Z.member,_e,fe=!1;V&&V.id&&(_e=j[V.id],_e&&(ue==="name"&&!fe?_e.addClass("active"):V.deleted?(B||(B=_e.parent()),Z.value&&!g[Z.value]&&(g[Z.value]=me.push(J(Z.value,Z.match))),oe.appendChild(_e.clone().addClass("active clone").get(0))):V.is_restricted?(G||(G=_e.parent()),Z.value&&!b[Z.value]&&(b[Z.value]=x.push(J(Z.value,Z.match))),le.appendChild(_e.clone().addClass("active clone").get(0))):(K||(K=_e.parent()),Z.value&&!M[Z.value]&&(M[Z.value]=l.push(J(Z.value,Z.match))),ae.appendChild(_e.clone().addClass("active clone").get(0)))),V.deleted?X.push(V):V.is_restricted?N.push(V):y.push(V))}),oe.childNodes&&oe.childNodes.length&&(w.appendChild(re(A(ue),me)),w.appendChild(oe)),le.childNodes&&le.childNodes.length&&(R.appendChild(re(A(ue),x)),R.appendChild(le)),ae.childNodes&&ae.childNodes.length&&(C.appendChild(re(A(ue),l)),C.appendChild(ae)),oe=null,le=null,ae=null,me=null,x=null,l=null,g=null,b=null,M=null}),B&&B.append(w),G&&G.append(R),K&&K.append(C),h.length){var ie=h.find(".member_item.clone");r[U]=ie.find(".lazy").lazyload({container:h,ignore_when_hidden_element:h,all_images_same_size:!0}),ie.one("remove",function(){r[U]&&(r[U].detachEvents(),delete r[U])})}w=null,R=null,C=null,B=null,G=null,K=null},"_displayMatches"),Q=o(function(L){return _.reduce(L,function(z,j){return j.deleted?j.is_bot?z.deleted_bots.push(j):z.disabled_members.push(j):j.is_ultra_restricted?z.ultra_restricted_members.push(j):j.is_restricted?z.restricted_members.push(j):j.is_bot||TS.interop.rules.members.isSlackbot(j)?z.bots.push(j):z.members.push(j),z},{members:[],disabled_members:[],deleted_bots:[],bots:[],restricted_members:[],ultra_restricted_members:[]})},"_legacyAllocateTeamListMembers"),ne=o(function(L,z,j){var X=new RegExp(`^${TS.utility.regexpEscape(z)}`,"i"),N=new RegExp(`(-|_|\\+|\\s|\\.|@)${TS.utility.regexpEscape(z)}`,"i"),y={},U=j&&z?TS.team.getVisibleTeamProfileFields():[];return a={title:"What I Do",name:"Name"},L.forEach(function(h){var w;w=h._real_name_lc&&(h._real_name_lc.match(X)||h._real_name_lc.match(N))||h.email&&(h.email.match(X)||h.email.match(N))||h.profile&&h.profile.email&&(h.profile.email.match(X)||h.profile.email.match(N))||h.profile&&h.profile.real_name_normalized&&(h.profile.real_name_normalized.match(X)||h.profile.real_name_normalized.match(N))||h.profile&&h.profile.real_name&&(h.profile.real_name.match(X)||h.profile.real_name.match(N))||h.profile&&h.profile.display_name_normalized&&(h.profile.display_name_normalized.match(X)||h.profile.display_name_normalized.match(N))||h.profile&&h.profile.preferred_name&&(h.profile.preferred_name.match(X)||h.profile.preferred_name.match(N)),w&&(y.name||(y.name=[]),y.name.push({member:h})),j&&z&&(w=h.profile&&h.profile.title&&(h.profile.title.match(X)||h.profile.title.match(N)),w&&(y.title||(y.title=[]),y.title.push({member:h}))),U.length&&h.profile&&h.profile.fields&&U.forEach(function(R){var C=h.profile.fields[R.id];if(C){if(w=null,R.type==="user"){if(C.value){var B="";C.value.split(/\s*,\s*/).some(function(G){return B=TS.interop.rules.members.getPrefCompliantMemberNameById(G,!1),B.match(X)||B.match(N)}),w&&(y[R.id]||(y[R.id]=[]),y[R.id].push({member:h,value:B,match:w[0]}))}}else w=C.value&&(C.value.match(X)||C.value.match(N)),w?(y[R.id]||(y[R.id]=[]),y[R.id].push({member:h,value:C.value,match:w[0]})):(w=C.alt&&(C.alt.match(X)||C.alt.match(N)),w&&(y[R.id]||(y[R.id]=[]),y[R.id].push({member:h,value:C.alt,match:w[0]})));w&&!a[R.id]&&(a[R.id]=R.label)}})}),y},"_findMatchesInMemberList"),ce=o(function(){return Promise.resolve()},"_maybeFetchGuestChannels")})()},4760354203:()=>{(function(){TS.registerModule("membership",{onStart:function(){var r=1/0;TS.members.changed_deleted_sig.add(s,this,r)}});var s=o(function(){TS.interop.memberCounts.markAllMemberCountsAsStale()},"_invalidateAllMemberCounts")})()},3092528472:()=>{(function(){TS.registerModule("menu.member",{member:null,onStart:function(){},startWithEnterpriseMemberHeader:function(r){var a=15;if(!TS.menu.isRedundantClick(r)&&!TS.model.menu_is_showing){TS.menu.buildIfNeeded(),TS.menu.clean();var t={enterprise_name:$("[data-enterprise-name]").val(),signout_url:TS.boot_data.signout_url};TS.menu.$menu_header.addClass("hidden").empty(),TS.menu.$menu_items.html(TS.templates.menu_enterprise_member_header(t)),TS.menu.$menu_items.on("click.menu","li",s),TS.kb_nav.setSubmitItemHandler(s),TS.menu.start(r,null,{menu_class:"member_menu"});var n=$("[data-header-menu-toggle]"),i=-TS.menu.$menu.outerWidth()+n.outerWidth(),d=n.outerHeight()+a;TS.menu.positionAt(n,i,d),r.preventDefault()}},end:function(){TS.menu.member.member=null,TS.menu.end(),TS.menu.clean()}});var s=o(function(r){var a=$(this).attr("id");a!=="sign_out"&&a!=="view_account"&&(r.preventDefault(),TS.warn(`not sure what to do with clicked element id:${a}`))},"_onEnterpriseMemberHeaderClick")})()},5001124838:()=>{(function(){TS.registerModule("menu",{$menu:null,$submenu:null,$submenu_origin:null,$submenu_parent:null,$menu_header:null,$menu_items:null,$menu_list_container:null,$menu_list:null,$menu_footer:null,menu_lazy_load:null,user_group:null,$target_element:null,$secondary_target_element:null,large_dom_trigger:500,menu_items_hidden:!0,has_submenu:!1,menu_closed_sig:new signals.Signal,onStart:function(){},buildIfNeeded:_.once(function(){TS.menu.$menu=$(TS.templates.menu());var t=TS.menu.$menu;if(TS.boot_data.app!=="mobile"&&TS.qs_args.new_scroll!="0"){if(t.appendTo($("body")),!TS.environment.supports_custom_scrollbar){var n=TS.qs_args.debug_scroll=="1";t.find("#menu_items_scroller").monkeyScroll({debug:n})}t.detach()}TS.menu.$menu_header=t.find("#menu_header"),TS.menu.$menu_body=t.find(".menu_body"),TS.menu.$menu_list_container=t.find("#menu_list_container"),TS.menu.$menu_list=t.find("#menu_list"),TS.menu.$menu_items=t.find("#menu_items"),TS.menu.$menu_footer=t.find("#menu_footer")}),startWithList:function(t,n,i){if(!(!n||!n.length)&&!TS.menu.isRedundantClick(t))if(i=i||{},TS.menu.buildIfNeeded(),TS.menu.clean(),TS.menu.$menu_header.addClass("hidden").empty(),TS.menu.$menu_items.html(n.html()),TS.menu.$menu.addClass(i.menu_class),(i.close_on_click||i.onClick)&&TS.menu.$menu_items.on("click.menu","li",function(m){typeof i.onClick=="function"&&i.onClick(m),i.close_on_click&&TS.menu.end()}),TS.menu.start(t,void 0,i),i.attach_to_target_at_full_width)TS.menu.$menu.css({width:"100%",top:"calc(100% + 3px)",left:"0"});else{var d=a(i.align_right);TS.menu.positionAt(TS.menu.$target_element,d.left,d.top)}},did_start_slack_menu_signal_listeners:!1,stopListeningForRebuildWorthiness:function(){TS.menu.did_start_slack_menu_signal_listeners=!1},startWithEditTeamProfileListActions:function(t,n,i){if(!TS.menu.isRedundantClick(t)&&!TS.model.menu_is_showing){TS.menu.buildIfNeeded();var d=$(t.target),m=TS.team.getTeamProfileFieldById(d.data("id")),u={id:m.id,hidden:!!(m&&m.is_hidden),is_scim:i.is_scim};TS.menu.clean(),TS.menu.$menu_header.addClass("hidden").empty(),TS.menu.$menu_items.html(TS.templates.admin_menu_edit_team_profile_list_action_items(u)),TS.menu.$menu_items.on("click.menu","li",n),TS.menu.start(t),TS.menu.positionAt(d.find('[data-action="edit_team_profile_list_menu"]'),-(TS.menu.$menu.width()+6),0),TS.menu.keepInBounds()}},positionAt:function(t,n,i){n=n||0,i=i||0;var d=t.offset(),m=d.left+n,u=d.top+i;TS.menu.$menu.css({top:u,left:m})},isRedundantClick:function(t){return!!(t&&TS.menu.last_e&&(t.target==TS.menu.last_e.target||t.currentTarget==TS.menu.last_e.currentTarget))},isLarge:function(){return TS.menu&&TS.menu.$menu&&TS.menu.$menu.find("li").length>TS.menu.large_dom_trigger},start:function(t,n,i){if(i=i||{},TS.menu.last_e=t,!r){var d=$(t.target).offset(),m=d.left+$(t.target).width()+10,u=d.top;n&&(m=t.pageX+10,u=t.pageY+10)}_.isFunction(i.needs_to_remain_open)&&(TS.menu.needs_to_remain_open=i.needs_to_remain_open),$(".tooltip").hide(),TS.tips.hideAll(),$(t.currentTarget).addClass("active"),TS.menu.$target_element=$(t.currentTarget),TS.model.menu_is_showing=!0;var f=TS.menu.$menu;i.onClose&&f.one("closed",i.onClose),i.menu_class&&f.addClass(i.menu_class);var p=TS.menu.isLarge();r||f.css({top:u,left:m});var v=f.find("#menu_items_scroller");v.scrollTop(0),i.attach_to_target_at_full_width?TS.menu.$target_element.after(f):f.appendTo($("body")),i.keep_menu_open_if_target_clicked_again&&TS.menu.$menu.addClass("keep_menu_open_if_target_clicked_again"),!p&&!r?(f.css("opacity",0),f.stop().transition({opacity:1},200)):f.css("opacity",1),f.find(".menu_close").on("click",TS.menu.end),i.ignore_bounds||TS.menu.keepInBounds(),TS.ui.utility.updateClosestMonkeyScroller(v,!0),TS.menu.menu_lazy_load&&TS.menu.menu_lazy_load.detachEvents&&TS.menu.menu_lazy_load.detachEvents(),TS.menu.menu_lazy_load=TS.menu.$menu_items.find(".lazy").lazyload({container:$("#menu_items_scroller"),all_images_same_size:!0,throttle:250}),i.ignore_bounds||$(window).bind("resize",TS.menu.keepInBounds),$(window.document).bind("keydown",TS.menu.onKeyDown),$("html").bind("mousedown touchstart",TS.menu.onMouseDown);var S=f.find(".menu_list"),k=S.length?S:f.find("#menu_items");TS.menu.has_submenu?TS.kb_nav.start(k,"li:not(.divider)",f,{onLeftKeyDownIfSubmenuExists:TS.menu.onLeftKeyDownIfSubmenuExists,onRightKeyDownIfSubmenuExists:TS.menu.onRightKeyDownIfSubmenuExists}):TS.kb_nav.start(k,"li:not(.divider)");var P=S.length?S.first().find("a, button").first():null;TS.ui&&TS.ui.a11y&&TS.ui.a11y.focusAndAddTabindex(P),r=!1,s=i.on_esc},clean:function(){TS.menu.$menu_footer.empty(),TS.menu.$menu_header.removeClass("hidden"),TS.menu.$menu.removeClass("no_min_width no_max_width profile_preview flex_menu search_filter_menu popover_menu no_icons team_menu member_menu file_menu all_unreads_sort_order_menu searchable_member_list_filter_menu selectable member_file_filter_menu app_card keep_menu_open_if_target_clicked_again member_file_filter_menu").css("max-height",""),TS.menu.$menu.removeAttr("data-qa"),TS.menu.$menu.find("#menu_items_scroller").css("max-height",""),TS.menu.$menu.find(".arrow, .arrow_shadow").remove(),TS.menu.$menu_items.off("mouseenter.section_header"),TS.menu.$menu.removeClass("narrow_menu"),TS.menu.$menu_body.off("mouseenter.section_header"),TS.menu.needs_to_remain_open=void 0,TS.menu.$menu.removeClass("date_picker"),TS.boot_data.page_needs_enterprise&&(TS.menu.$menu_list_container.html('<div id="menu_list" role="menu"></div>').removeClass("populated"),TS.menu.$menu_list=TS.menu.$menu.find("#menu_list"),TS.menu.$menu.off("keydown","#file_member_filter .member_filter")),TS.menu.$menu.removeAttr("data-model-ob-id"),TS.menu.$menu.removeAttr("data-thread-ts"),TS.menu.$menu.find(".member_item")&&(TS.menu.$menu.find(".member_item").remove(),TS.menu.$menu.find(".list_items").css("height",0)),s=null},end:function(){if(!(_.isFunction(TS.menu.needs_to_remain_open)&&TS.menu.needs_to_remain_open())){TS.menu.$submenu&&TS.menu.$submenu_parent&&TS.menu.$submenu_parent.submenu("destroy"),TS.menu.$menu.width(""),TS.model.menu_is_showing=!1,TS.menu.menu_items_hidden=!0,TS.menu.has_submenu=!1,TS.menu.$submenu_parent=null,TS.menu.submenu_template_args={},TS.menu.did_start_slack_menu_signal_listeners&&TS.menu.stopListeningForRebuildWorthiness();var t=TS.menu.$menu,n=o(function(){TS.model.menu_is_showing||(setTimeout(function(){TS.model.menu_is_showing||(TS.menu.last_e=null)},50),t.detach(),TS.menu.$menu_header.empty(),TS.menu.$menu_footer.empty(),TS.menu.$menu_items.empty(),TS.menu.$menu_items.removeClass("hidden"),TS.menu.$menu_body.empty(),TS.menu.clean())},"menu_end");!TS.menu.isLarge()&&!r?t.stop().transition({opacity:0},200,n):n(),t.trigger("closed"),TS.menu.$target_element&&(TS.menu.$target_element.removeClass("active"),TS.menu.$target_element=null),TS.menu.$secondary_target_element&&(TS.menu.$secondary_target_element.removeClass("active"),TS.menu.$secondary_target_element=null),TS.menu.user_group=null,TS.menu.$menu_header.unbind("click.menu"),TS.menu.$menu_items.off("click.menu"),TS.menu.$menu_body.off("click.menu"),$(window).unbind("resize",TS.menu.keepInBounds),$(window.document).unbind("keydown",TS.menu.onKeyDown),$("html").unbind("mousedown touchstart",TS.menu.onMouseDown),TS.members.view.team_filter_changed_sig.remove(TS.kb_nav.clearHighlightedItem),$(".file_list_item.active").removeClass("active"),TS.tips.unhideAll(),TS.menu.search_filter_is_showing=!1,$("#search_filter_menu_label").removeClass("active"),$("#mentions_filter_menu_label").removeClass("active"),$("#flex_menu_toggle").removeClass("menu_open"),$("#channel_actions_toggle").removeClass("active"),t.removeClass("narrow_menu"),TS.menu.menu_lazy_load&&TS.menu.menu_lazy_load.detachEvents&&(TS.menu.menu_lazy_load.detachEvents(),TS.menu.menu_lazy_load=null),TS.kb_nav.end(),TS.menu.menu_closed_sig.dispatch()}},onKeyDown:function(t){var n=TS.utility.keymap,i=t.which,d=t.metaKey||t.ctrlKey||t.altKey;i==n.esc?(t.stopPropagation(),t.preventDefault(),TS.menu.end(),s&&s()):!d&&!TS.utility.isArrowKey(i)&&i!=n.tab&&i!=n.enter&&i!=n.shift&&TS.kb_nav.clearHighlightedItem()},onLeftKeyDownIfSubmenuExists:function(){var t=!1;if(TS.menu.$submenu&&TS.menu.$submenu.hasClass("kb_active")){TS.menu.$submenu.removeClass("kb_active"),TS.kb_nav.end(),TS.kb_nav.highlightItemWithKey(TS.menu.$submenu_origin);var n=TS.menu.$menu.find(".menu_list"),i=n.length?n:TS.menu.$menu.find("#menu_items");TS.kb_nav.start(i,"li:not(.divider)",TS.menu.$menu,{onLeftKeyDownIfSubmenuExists:TS.menu.onLeftKeyDownIfSubmenuExists,onRightKeyDownIfSubmenuExists:TS.menu.onRightKeyDownIfSubmenuExists}),["member_current_status_item","switch_teams"].indexOf(TS.menu.$submenu_origin.attr("id"))===-1&&TS.menu.$submenu_origin.submenu("destroy"),t=!0}return t},onRightKeyDownIfSubmenuExists:function(){var t=!1;return TS.menu.$submenu&&(TS.menu.$submenu.hasClass("kb_active")?(TS.menu.$submenu.removeClass("kb_active"),TS.menu.end()):(TS.menu.$submenu.addClass("kb_active"),TS.kb_nav.end(),TS.kb_nav.highlightItemWithKey(TS.menu.$submenu.find("li:not(.divider)").first()),TS.kb_nav.start(TS.menu.$submenu.find("ul"),"li:not(.divider)",TS.menu.$submenu,{onLeftKeyDownIfSubmenuExists:TS.menu.onLeftKeyDownIfSubmenuExists,onRightKeyDownIfSubmenuExists:TS.menu.onRightKeyDownIfSubmenuExists})),t=!0),t},onMouseDown:function(t){var n=$(t.target);TS.menu.$menu&&TS.menu.$menu.hasClass("keep_menu_open_if_target_clicked_again")&&n.is(TS.menu.$target_element)||(n.closest("#menu, .submenu, .trap_menu_clicks").length===0||n.hasClass("popover_mask"))&&TS.menu.end()},keepInBounds:function(){window.requestAnimationFrame?TS.utility.rAF(TS.menu.keepInBoundsThrottled):TS.menu.keepInBoundsThrottled()},keepInBoundsThrottled:function(){var t=TS.menu.$menu,n=10,i=t.dimensions_rect(),d={top:0+n,right:$(window).width()-n,bottom:$(window).height()-(n+14),left:0+n};TS.utility.doesRectContainRect(d,i)||(i.left<d.left?t.css("left",d.left):i.right>d.right&&t.css("left",Math.max(d.left,d.right-i.width)),i.top<d.top?t.css("top",d.top):i.bottom>d.bottom&&t.css("top",Math.max(d.top,d.bottom-i.height+$(window).scrollTop())))}});var r=!1,a=o(function(t){var n=3,i=TS.menu.$target_element.outerHeight()+n,d=0;return t&&(d=TS.menu.$target_element.outerWidth()-TS.menu.$menu.outerWidth()),{left:d,top:i}},"_getOffsets");$.widget("TS.submenu",{_create:function(){this.element.data("has-submenu",!0);var t=TS.interop.i18n.t("submenu","menu_source")(),n=`<div class="menu submenu${this.options.help?" submenu_help":""}" data-origin-id="${this.element.attr("id")}" data-model-ob-id="${this.element.data("modelObId")}"><ul aria-hidden="true" aria-label="${t}">${this.options.items_html}</ul></div>`,i=-13,d=11,m=TS.menu.$menu.offset().left+TS.menu.$menu.width()+i,u=this.element.offset().top-d;if(this.$submenu=$(n),this.$submenu.appendTo("body"),TS.menu.$submenu=this.$submenu,TS.menu.$submenu_origin=this.element,m+this.$submenu.width()>window.innerWidth){var f=TS.menu.$menu.offset().left-i,p=window.innerWidth-m;f>p&&(m=TS.menu.$menu.offset().left-this.$submenu.width()-i)}if(u+this.$submenu.height()>window.innerHeight){var v=u,S=Math.abs(window.innerHeight-(u+this.$submenu.height()));v>S?u=window.innerHeight-this.$submenu.height()-d:u=d}this.$submenu.css({position:"absolute",left:`${m}px`,top:`${u}px`});var k=this.options.onclick;k&&this.$submenu.on("click",function(P){k.call(this,P)})},_destroy:function(){TS.menu.$submenu=null,TS.menu.$submenu_origin=null,this.options.ondestroy&&this.options.ondestroy(),this.$submenu.remove()}})})();var s},1401661375:()=>{(function(){TS.registerModule("mpims",{switched_sig:new signals.Signal,onStart:function(){TS.prefs.display_real_names_override_changed_sig.add(r),TS.prefs.team_display_real_names_changed_sig.add(r),TS.members.changed_profile_sig.add(s)},legacyGetMembersInDisplayOrder:function(i){if(i){var d=TS.model&&TS.model.user?TS.model.user.id:TS.boot_data.user_id;return _.chain(i.members).without(d).map(m=>TS.redux.members.getPotentiallyUnknownMemberById(m)).compact().value()}},legacyGetDisplayName:function(i,d,m,u,f){var p=_.isInteger(u);return i._display_name&&!d&&!m&&!p&&!f?i._display_name:i._display_name_truncated&&!d&&!m&&!f&&p?i._display_name_truncated:f?n(i):t(i,d)},getMemberCount:function(i){return i&&i.members?Math.min(Math.max((i.members.length||1)-1,2),9):null},checkMpimMatch:function(i,d,m){if(i){for(var u=!0,f=!0,p=TS.mpims.legacyGetMembersInDisplayOrder(i),v=0;v<d.length;v+=1){for(var S=!1,k=0;k<p.length;k+=1)(TS.utility.members.checkMemberMatch(p[k],d[v],u)||m&&TS.utility.members.checkMemberMatch(p[k],m[v],u))&&(S=!0);S||(f=!1)}return f}}});var s=o(function(i){TS.model.mpims.forEach(function(d){d.members.indexOf(i.id)!==-1&&a(d)})},"_memberRealNameChanged"),r=o(function(){TS.model.mpims.forEach(a)},"_realNamePrefChanged"),a=o(function(i){i._display_name=void 0},"_clearDisplayNameCache"),t=o(function(i){var d=TS.mpims.legacyGetMembersInDisplayOrder(i);if(_.find(d,"is_unknown"))return"";var u=_(d).map(function(p){var v=TS.interop.rules.members.getPrefCompliantMemberName(p);return v}).compact().value(),f=u.join(", ");return i._display_name=f,f},"_getDisplayTitle"),n=o(function(i){var d=TS.mpims.legacyGetMembersInDisplayOrder(i),m=d.map(function(f){return TS.interop.rules.members.getPrefCompliantMemberName(f)}),u=TS.interop.i18n.listify(m,{strong:!0}).join("");return u},"_getDmBadgeDisplayName")})()},450769953:()=>{(function(){TS.registerModule("prefs",{all_notifications_prefs_changed_sig:new signals.Signal,highlight_words_changed_sig:new signals.Signal,seen_welcome_2_changed_sig:new signals.Signal,emoji_mode_changed_sig:new signals.Signal,obey_inline_img_limit_changed_sig:new signals.Signal,messages_theme_changed_sig:new signals.Signal,expand_inline_imgs_changed_sig:new signals.Signal,expand_internal_inline_imgs_changed_sig:new signals.Signal,expand_non_media_attachments_changed_sig:new signals.Signal,webapp_spellcheck_changed_sig:new signals.Signal,color_names_in_list_changed_sig:new signals.Signal,search_exclude_channels_changed_sig:new signals.Signal,box_enabled_changed_sig:new signals.Signal,dropbox_enabled_changed_sig:new signals.Signal,read_changed_sig:new signals.Signal,push_changed_sig:new signals.Signal,time24_changed_sig:new signals.Signal,sidebar_behavior_changed_sig:new signals.Signal,dtop_notif_changed_sig:new signals.Signal,muted_channels_changed_sig:new signals.Signal,mac_ssb_bullet_changed_sig:new signals.Signal,team_hide_referers_changed_sig:new signals.Signal,sidebar_theme_changed_sig:new signals.Signal,no_invites_widget_in_sidebar_changed_sig:new signals.Signal,k_key_omnibox_auto_hide_count_changed_sig:new signals.Signal,display_real_names_override_changed_sig:new signals.Signal,team_display_real_names_changed_sig:new signals.Signal,team_perms_pref_changed_sig:new signals.Signal,privacy_policy_seen_changed_sig:new signals.Signal,two_factor_update_seen_changed_sig:new signals.Signal,compliance_export_start_changed_sig:new signals.Signal,team_disallow_public_file_urls_changed_sig:new signals.Signal,mentions_exclude_at_channels_changed_sig:new signals.Signal,mentions_exclude_at_user_groups_changed_sig:new signals.Signal,team_auth_mode_changed_sig:new signals.Signal,team_sso_auth_restrictions_changed_sig:new signals.Signal,preferred_skin_tone_changed_sig:new signals.Signal,separate_private_channels_changed_sig:new signals.Signal,separate_shared_channels_changed_sig:new signals.Signal,whats_new_read_changed_sig:new signals.Signal,team_dnd_enabled_changed_sig:new signals.Signal,team_dnd_start_hour_changed_sig:new signals.Signal,team_dnd_end_hour_changed_sig:new signals.Signal,team_invites_only_admins_changed_sig:new signals.Signal,tz_changed_sig:new signals.Signal,keyboard_changed_sig:new signals.Signal,msg_input_send_btn_changed_sig:new signals.Signal,msg_input_send_btn_auto_set_changed_sig:new signals.Signal,team_allow_calls_changed_sig:new signals.Signal,team_calling_app_name_changed_sig:new signals.Signal,team_calling_app_id_changed_sig:new signals.Signal,frecency_jumper_changed_sig:new signals.Signal,jumbomoji_changed_sig:new signals.Signal,hide_hex_swatch_changed_sig:new signals.Signal,channel_sort_changed_sig:new signals.Signal,show_memory_instrument_changed_sig:new signals.Signal,enable_unread_view_changed_sig:new signals.Signal,enable_react_emoji_picker_changed_sig:new signals.Signal,team_disable_file_editing_changed_sig:new signals.Signal,team_disable_file_deleting_changed_sig:new signals.Signal,team_display_email_addresses_changed_sig:new signals.Signal,email_alerts_changed_sig:new signals.Signal,team_uses_customized_custom_status_presets_changed_sig:new signals.Signal,team_loud_channel_mentions_limit_changed_sig:new signals.Signal,locale_changed_sig:new signals.Signal,enable_shared_channels_changed_sig:new signals.Signal,prefs_loaded:!1,setPrefs:function(r){var a=TS.prefs.getPref("muted_channels");TS.redux.prefs.setUserPrefs(r),TS.prefs.prefs_loaded=!0,TS.prefs.mergeFrecencyJumper(TS.ui.frecency.isEnterprise()?TS.prefs.getPref("frecency_ent_jumper"):TS.prefs.getPref("frecency_jumper")),TS.prefs.setLoudChannels(TS.prefs.getPref("loud_channels")),TS.prefs.setSuppressedChannels(TS.prefs.getPref("at_channel_suppressed_channels")),TS.prefs.setPushSuppressedChannels(TS.prefs.getPref("push_at_channel_suppressed_channels")),TS.prefs.setNeverChannels(TS.prefs.getPref("never_channels")),TS.prefs.setMutedChannels(TS.prefs.getPref("muted_channels"),a),TS.prefs.setLoudChannelsSet(TS.prefs.getPref("loud_channels_set")),TS.prefs.setPushLoudChannels(TS.prefs.getPref("push_loud_channels")),TS.prefs.setPushMentionChannels(TS.prefs.getPref("push_mention_channels")),TS.prefs.setPushLoudChannelsSet(TS.prefs.getPref("push_loud_channels_set")),TS.prefs.setSearchExcludeChannels(TS.prefs.getPref("search_exclude_channels")),TS.prefs.setChannelSort(TS.prefs.getPref("channel_sort")),TS.prefs.setSidebarThemeCustomValues(TS.utility.parseJSONOrElse(TS.prefs.getPref("sidebar_theme_custom_values"),void 0)),TS.prefs.setTheme(),TS.prefs.setPrefLocal("emoji_autocomplete_big",!1)},setChannelSort:function(r){TS.model.channel_sort=r},setHighlightWords:function(r){TS.prefs.setPrefLocal("highlight_words",r)},setSuppressedChannels:function(r){let{skipSettingLocalPref:a=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a||TS.prefs.setPrefLocal("at_channel_suppressed_channels",r),TS.model.at_channel_suppressed_channels=[],r&&typeof r=="string"&&(TS.model.at_channel_suppressed_channels=TS.model.at_channel_suppressed_channels.concat(r.split(",")))},setPushSuppressedChannels:function(r){let{skipSettingLocalPref:a=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a||TS.prefs.setPrefLocal("push_at_channel_suppressed_channels",r),TS.model.push_at_channel_suppressed_channels=[],r&&typeof r=="string"&&(TS.model.push_at_channel_suppressed_channels=TS.model.push_at_channel_suppressed_channels.concat(r.split(",")))},setLoudChannels:function(r){let{skipSettingLocalPref:a=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a||TS.prefs.setPrefLocal("loud_channels",r),TS.model.loud_channels=[],r&&typeof r=="string"&&(TS.model.loud_channels=TS.model.loud_channels.concat(r.split(",")))},setNeverChannels:function(r){let{skipSettingLocalPref:a=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a||TS.prefs.setPrefLocal("never_channels",r),TS.model.never_channels=[],r&&typeof r=="string"&&(TS.model.never_channels=TS.model.never_channels.concat(r.split(",")))},setMutedChannels:function(r,a){var t;if(a||(a=TS.prefs.getPref("muted_channels")),a!==r||!s)t=TS.prefs.getPref("muted_channels")&&typeof TS.prefs.getPref("muted_channels")=="string"?TS.prefs.getPref("muted_channels").split(","):[],TS.prefs.setPrefLocal("muted_channels",r);else return;s=!0;var n,i,d=[],m=[];r&&typeof r=="string"&&(d=d.concat(r.split(",")),m=_.difference(t,d));const u=!1;for(n=0;n<d.length;n+=1)i=TS.redux.channels.getEntityById(d[n],u),i&&i.unread_cnt&&(i._show_in_list_even_though_no_unreads=!0);return TS.model.channels.forEach(function(f){TS.notifs.isCorGMuted(f.id)||(f._show_in_list_even_though_no_unreads=!1)}),TS.model.groups.forEach(function(f){TS.notifs.isCorGMuted(f.id)||(f._show_in_list_even_though_no_unreads=!1)}),TS.redux.channels.updateMutedChannels(d),m},setLoudChannelsSet:function(r){let{skipSettingLocalPref:a=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a||TS.prefs.setPrefLocal("loud_channels_set",r),TS.model.loud_channels_set=[],r&&typeof r=="string"&&(TS.model.loud_channels_set=TS.model.loud_channels_set.concat(r.split(",")))},setPushLoudChannels:function(r){let{skipSettingLocalPref:a=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a||TS.prefs.setPrefLocal("push_loud_channels",r),TS.model.push_loud_channels=[],r&&typeof r=="string"&&(TS.model.push_loud_channels=TS.model.push_loud_channels.concat(r.split(",")))},setPushMentionChannels:function(r){let{skipSettingLocalPref:a=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a||TS.prefs.setPrefLocal("push_mention_channels",r),TS.model.push_mention_channels=[],r&&typeof r=="string"&&(TS.model.push_mention_channels=TS.model.push_mention_channels.concat(r.split(",")))},setPushLoudChannelsSet:function(r){let{skipSettingLocalPref:a=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a||TS.prefs.setPrefLocal("push_loud_channels_set",r),TS.model.push_loud_channels_set=[],r&&typeof r=="string"&&(TS.model.push_loud_channels_set=TS.model.push_loud_channels_set.concat(r.split(",")))},setSearchExcludeChannels:function(r){let{skipSettingLocalPref:a=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a||TS.prefs.setPrefLocal("search_exclude_channels",r),TS.model.search_exclude_channels=[],r&&typeof r=="string"&&(TS.model.search_exclude_channels=TS.model.search_exclude_channels.concat(r.split(",")))},mergeFrecencyJumper:function(r){return(!r||typeof r!="object")&&(r=TS.utility.parseJSONOrElse(r||null)||{}),TS.model.frecency_jumper=r,!0},setTheme:function(){TS.prefs.getPref("messages_theme")==="default"&&TS.prefs.setPrefLocal("messages_theme","light_with_avatars"),TS.prefs.setPrefLocal("theme","light"),TS.prefs.setPrefLocal("avatars",!0),TS.prefs.getPref("messages_theme")==="dense"?(TS.prefs.setPrefLocal("theme","dense"),TS.prefs.setPrefLocal("avatars",!1)):TS.prefs.getPref("messages_theme")==="light"?(TS.prefs.setPrefLocal("theme","light"),TS.prefs.setPrefLocal("avatars",!1)):TS.prefs.getPref("messages_theme")==="light_with_avatars"&&(TS.prefs.setPrefLocal("theme","light"),TS.prefs.setPrefLocal("avatars",!0))},legacyOnTeamPrefChanged:function(r){r.name==="msg_edit_window_mins"?TS.prefs.setTeamPrefLocal("msg_edit_window_mins",r.value):r.name==="allow_message_deletion"?TS.prefs.setTeamPrefLocal("allow_message_deletion",!!r.value):r.name==="hide_referers"?(TS.prefs.setTeamPrefLocal("hide_referers",!!r.value),TS.prefs.team_hide_referers_changed_sig.dispatch()):r.name==="display_real_names"?(TS.prefs.setTeamPrefLocal("display_real_names",!!r.value),TS.prefs.team_display_real_names_changed_sig.dispatch()):r.name==="display_email_addresses"?(TS.prefs.setTeamPrefLocal("display_email_addresses",!!r.value),TS.prefs.team_display_email_addresses_changed_sig.dispatch()):r.name.indexOf("who_can_")===0?TS.prefs.getTeamPref(r.name)!=r.value&&(TS.prefs.setTeamPrefLocal(r.name,r.value),TS.prefs.team_perms_pref_changed_sig.dispatch(r.name)):r.name==="compliance_export_start"?TS.prefs.getTeamPref("compliance_export_start")!=r.value&&(TS.prefs.setTeamPrefLocal("compliance_export_start",r.value),TS.prefs.compliance_export_start_changed_sig.dispatch()):r.name==="disallow_public_file_urls"?(TS.prefs.setTeamPrefLocal("disallow_public_file_urls",!!r.value),TS.prefs.team_disallow_public_file_urls_changed_sig.dispatch()):r.name==="auth_mode"?(TS.prefs.setTeamPrefLocal("auth_mode",r.value),TS.prefs.team_auth_mode_changed_sig.dispatch()):r.name==="sso_auth_restrictions"?(TS.prefs.setTeamPrefLocal("sso_auth_restrictions",r.value),TS.prefs.team_sso_auth_restrictions_changed_sig.dispatch()):r.name==="dnd_enabled"?(TS.prefs.setTeamPrefLocal("dnd_enabled",r.value),TS.prefs.team_dnd_enabled_changed_sig.dispatch()):r.name==="dnd_start_hour"?(TS.prefs.setTeamPrefLocal("dnd_start_hour",r.value),TS.prefs.team_dnd_start_hour_changed_sig.dispatch()):r.name==="dnd_end_hour"?(TS.prefs.setTeamPrefLocal("dnd_end_hour",r.value),TS.prefs.team_dnd_end_hour_changed_sig.dispatch()):r.name==="invites_only_admins"?(TS.prefs.setTeamPrefLocal("invites_only_admins",r.value),TS.prefs.team_invites_only_admins_changed_sig.dispatch()):r.name==="allow_calls"?(TS.prefs.setTeamPrefLocal("allow_calls",r.value),TS.prefs.team_allow_calls_changed_sig.dispatch()):r.name==="calling_app_id"?(TS.prefs.setTeamPrefLocal("calling_app_id",r.value),TS.prefs.team_calling_app_id_changed_sig.dispatch()):r.name==="calling_app_name"?(TS.prefs.setTeamPrefLocal("calling_app_name",r.value),TS.prefs.team_calling_app_name_changed_sig.dispatch()):r.name==="disable_file_editing"?(TS.prefs.setTeamPrefLocal("disable_file_editing",r.value),TS.prefs.team_disable_file_editing_changed_sig.dispatch()):r.name==="disable_file_deleting"?(TS.prefs.setTeamPrefLocal("disable_file_deleting",r.value),TS.prefs.team_disable_file_deleting_changed_sig.dispatch()):r.name==="uses_customized_custom_status_presets"?(TS.prefs.setTeamPrefLocal(r.name,r.value),TS.prefs.team_uses_customized_custom_status_presets_changed_sig.dispatch()):r.name==="loud_channel_mentions_limit"?(TS.prefs.setTeamPrefLocal(r.name,r.value),TS.prefs.team_loud_channel_mentions_limit_changed_sig.dispatch()):r.name==="enable_shared_channels"?(TS.prefs.setTeamPrefLocal(r.name,r.value),TS.prefs.enable_shared_channels_changed_sig.dispatch()):r.name==="dropbox_legacy_picker"?(TS.prefs.setTeamPrefLocal(r.name,r.value),TS.prefs.dropbox_enabled_changed_sig.dispatch()):TS.prefs.setTeamPrefLocal(r.name,r.value)},getPref:function(r){return TS.redux.prefs.getUserPref(r)},setPrefLocal:function(r,a){TS.redux.prefs.setUserPref(r,a)},getTeamPref:function(r){return TS.redux.prefs.getTeamPref(r)},setTeamPrefLocal:function(r,a){TS.redux.prefs.setTeamPref(r,a)},legacyOnPrefChanged:function(r){switch(r.name){case"all_notifications_prefs":TS.prefs.setPrefLocal("all_notifications_prefs",r.value),TS.prefs.all_notifications_prefs_changed_sig.dispatch(r.value);break;case"locale":TS.prefs.setPrefLocal("locale",r.value),TS.prefs.locale_changed_sig.dispatch(r.value);break;case"flannel_server_pool":TS.prefs.setPrefLocal("flannel_server_pool",r.value);break;case"color_names_in_list":TS.prefs.setPrefLocal("color_names_in_list",!!r.value),TS.prefs.color_names_in_list_changed_sig.dispatch();break;case"display_real_names_override":TS.prefs.setPrefLocal("display_real_names_override",r.value),TS.prefs.display_real_names_override_changed_sig.dispatch();break;case"growls_enabled":TS.prefs.setPrefLocal("growls_enabled",!!r.value),TS.prefs.dtop_notif_changed_sig.dispatch();break;case"sidebar_theme":TS.prefs.getPref("sidebar_theme")!==r.value&&(TS.prefs.setPrefLocal("sidebar_theme",r.value),TS.prefs.sidebar_theme_changed_sig.dispatch());break;case"sidebar_theme_custom_values":TS.prefs.getPref("sidebar_theme_custom_values")!==r.value&&(TS.prefs.setSidebarThemeCustomValues(JSON.parse(r.value)),TS.prefs.sidebar_theme_changed_sig.dispatch());break;case"expand_inline_imgs":TS.prefs.setPrefLocal("expand_inline_imgs",!!r.value),TS.prefs.expand_inline_imgs_changed_sig.dispatch();break;case"webapp_spellcheck":TS.prefs.setPrefLocal("webapp_spellcheck",!!r.value),TS.prefs.webapp_spellcheck_changed_sig.dispatch();break;case"expand_internal_inline_imgs":TS.prefs.setPrefLocal("expand_internal_inline_imgs",!!r.value),TS.prefs.expand_internal_inline_imgs_changed_sig.dispatch();break;case"expand_non_media_attachments":TS.prefs.setPrefLocal("expand_non_media_attachments",!!r.value),TS.prefs.expand_non_media_attachments_changed_sig.dispatch();break;case"messages_theme":TS.prefs.setPrefLocal("messages_theme",r.value),TS.prefs.setTheme(),TS.prefs.messages_theme_changed_sig.dispatch();break;case"highlight_words":TS.prefs.setHighlightWords(r.value),TS.prefs.highlight_words_changed_sig.dispatch();break;case"at_channel_suppressed_channels":TS.prefs.setSuppressedChannels(r.value),TS.prefs.dtop_notif_changed_sig.dispatch();break;case"push_at_channel_suppressed_channels":TS.prefs.setPushSuppressedChannels(r.value),TS.prefs.push_changed_sig.dispatch();break;case"loud_channels":TS.prefs.setLoudChannels(r.value);break;case"never_channels":TS.prefs.setNeverChannels(r.value);break;case"muted_channels":TS.prefs.setMutedChannels(r.value),TS.prefs.muted_channels_changed_sig.dispatch();break;case"loud_channels_set":TS.prefs.setLoudChannelsSet(r.value),TS.prefs.dtop_notif_changed_sig.dispatch();break;case"push_loud_channels":TS.prefs.setPushLoudChannels(r.value);break;case"push_mention_channels":TS.prefs.setPushMentionChannels(r.value);break;case"push_loud_channels_set":TS.prefs.setPushLoudChannelsSet(r.value),TS.prefs.push_changed_sig.dispatch();break;case"emoji_use":break;case"user_colors":break;case"graphic_emoticons":TS.prefs.setPrefLocal("graphic_emoticons",r.value),TS.prefs.emoji_mode_changed_sig.dispatch();break;case"ss_emojis":TS.prefs.setPrefLocal("ss_emojis",r.value),TS.prefs.emoji_mode_changed_sig.dispatch();break;case"obey_inline_img_limit":TS.prefs.setPrefLocal("obey_inline_img_limit",r.value),TS.prefs.obey_inline_img_limit_changed_sig.dispatch();break;case"search_only_my_channels":case"search_only_current_team":case"search_exclude_bots":break;case"search_exclude_channels":TS.prefs.setSearchExcludeChannels(r.value),TS.prefs.search_exclude_channels_changed_sig.dispatch();break;case"has_uploaded":TS.prefs.setPrefLocal("has_uploaded",!!r.value);break;case"has_invited":TS.prefs.setPrefLocal("has_invited",!!r.value);break;case"has_created_channel":TS.prefs.setPrefLocal("has_created_channel",!!r.value);break;case"no_joined_overlays":TS.prefs.setPrefLocal("no_joined_overlays",!!r.value);break;case"no_created_overlays":TS.prefs.setPrefLocal("no_created_overlays",!!r.value);break;case"seen_welcome_2":TS.prefs.setPrefLocal("seen_welcome_2",!!r.value),TS.prefs.seen_welcome_2_changed_sig.dispatch();break;case"box_enabled":TS.prefs.setPrefLocal("box_enabled",!!r.value),TS.prefs.box_enabled_changed_sig.dispatch();break;case"dropbox_enabled":TS.prefs.setPrefLocal("dropbox_enabled",!!r.value),TS.prefs.dropbox_enabled_changed_sig.dispatch();break;case"mark_msgs_read_immediately":TS.prefs.getPref("mark_msgs_read_immediately")!==!!r.value&&(TS.prefs.setPrefLocal("mark_msgs_read_immediately",!!r.value),TS.prefs.read_changed_sig.dispatch());break;case"start_scroll_at_oldest":TS.prefs.getPref("start_scroll_at_oldest")!==!!r.value&&(TS.prefs.setPrefLocal("start_scroll_at_oldest",!!r.value),TS.prefs.read_changed_sig.dispatch());break;case"mac_ssb_bullet":TS.prefs.getPref("mac_ssb_bullet")!==!!r.value&&(TS.prefs.setPrefLocal("mac_ssb_bullet",!!r.value),TS.prefs.mac_ssb_bullet_changed_sig.dispatch());break;case"all_channels_loud":TS.prefs.getPref("all_channels_loud")!==!!r.value&&(TS.prefs.setPrefLocal("all_channels_loud",!!r.value),TS.prefs.dtop_notif_changed_sig.dispatch());break;case"push_everything":TS.prefs.getPref("push_everything")!==!!r.value&&(TS.prefs.setPrefLocal("push_everything",!!r.value),TS.prefs.push_changed_sig.dispatch());break;case"push_mention_alert":TS.prefs.getPref("push_mention_alert")!==!!r.value&&(TS.prefs.setPrefLocal("push_mention_alert",!!r.value),TS.prefs.push_changed_sig.dispatch());break;case"push_dm_alert":TS.prefs.getPref("push_dm_alert")!==!!r.value&&(TS.prefs.setPrefLocal("push_dm_alert",!!r.value),TS.prefs.push_changed_sig.dispatch());break;case"time24":TS.prefs.getPref("time24")!==!!r.value&&(TS.prefs.setPrefLocal("time24",!!r.value),TS.prefs.time24_changed_sig.dispatch());break;case"sidebar_behavior":TS.prefs.getPref("sidebar_behavior")!=r.value&&(TS.prefs.setPrefLocal("sidebar_behavior",r.value),TS.prefs.sidebar_behavior_changed_sig.dispatch());break;case"two_factor_update_seen":TS.model.two_factor_update_seen!=r.value&&(TS.mode.prefs.two_factor_update_seen=r.value,TS.prefs.two_factor_update_seen_changed_sig.dispatch());break;case"privacy_policy_seen":TS.prefs.getPref("privacy_policy_seen")!=r.value&&(TS.prefs.setPrefLocal("privacy_policy_seen",r.value),TS.prefs.privacy_policy_seen_changed_sig.dispatch());break;case"last_seen_at_channel_warning":TS.prefs.getPref("last_seen_at_channel_warning")!=r.value&&TS.prefs.setPrefLocal("last_seen_at_channel_warning",r.value);break;case"mentions_exclude_at_channels":TS.prefs.getPref("mentions_exclude_at_channels")!=r.value&&(TS.prefs.setPrefLocal("mentions_exclude_at_channels",r.value),TS.prefs.mentions_exclude_at_channels_changed_sig.dispatch());break;case"mentions_exclude_at_user_groups":TS.prefs.getPref("mentions_exclude_at_user_groups")!=r.value&&(TS.prefs.setPrefLocal("mentions_exclude_at_user_groups",r.value),TS.prefs.mentions_exclude_at_user_groups_changed_sig.dispatch());break;case"no_invites_widget_in_sidebar":TS.prefs.getPref("no_invites_widget_in_sidebar")!=r.value&&(TS.prefs.setPrefLocal("no_invites_widget_in_sidebar",r.value),TS.prefs.no_invites_widget_in_sidebar_changed_sig.dispatch());break;case"k_key_omnibox_auto_hide_count":TS.prefs.getPref("k_key_omnibox_auto_hide_count")!=r.value&&(TS.prefs.setPrefLocal("k_key_omnibox_auto_hide_count",r.value),TS.prefs.k_key_omnibox_auto_hide_count_changed_sig.dispatch());break;case"show_sidebar_quickswitcher_button":TS.prefs.getPref("show_sidebar_quickswitcher_button")!=r.value&&TS.prefs.setPrefLocal("show_sidebar_quickswitcher_button",r.value);break;case"preferred_skin_tone":TS.prefs.getPref("preferred_skin_tone")!=r.value&&(TS.prefs.setPrefLocal("preferred_skin_tone",r.value),TS.prefs.preferred_skin_tone_changed_sig.dispatch());break;case"separate_private_channels":TS.prefs.getPref("separate_private_channels")!=r.value&&(TS.prefs.setPrefLocal("separate_private_channels",r.value),TS.prefs.separate_private_channels_changed_sig.dispatch());break;case"separate_shared_channels":TS.prefs.getPref("separate_shared_channels")!=r.value&&(TS.prefs.setPrefLocal("separate_shared_channels",r.value),TS.prefs.separate_shared_channels_changed_sig.dispatch());break;case"whats_new_read":TS.prefs.getPref("whats_new_read")!=r.value&&(TS.prefs.setPrefLocal("whats_new_read",r.value),TS.prefs.whats_new_read_changed_sig.dispatch());break;case"tz":TS.prefs.getPref("tz")!=r.value&&(TS.prefs.setPrefLocal("tz",r.value),TS.prefs.tz_changed_sig.dispatch());break;case"keyboard":TS.prefs.getPref("keyboard")!=r.value&&(TS.prefs.setPrefLocal("keyboard",r.value),TS.prefs.keyboard_changed_sig.dispatch());break;case"msg_input_send_btn":TS.prefs.getPref("msg_input_send_btn")!=r.value&&(TS.prefs.setPrefLocal("msg_input_send_btn",r.value),TS.prefs.msg_input_send_btn_changed_sig.dispatch());break;case"msg_input_send_btn_auto_set":TS.prefs.getPref("msg_input_send_btn_auto_set")!=r.value&&(TS.prefs.setPrefLocal("msg_input_send_btn_auto_set",r.value),TS.prefs.msg_input_send_btn_auto_set_changed_sig.dispatch());break;case"frecency_jumper":if(TS.ui.frecency.isEnterprise())break;TS.prefs.conditionallyClogFrecencyDueToSizeChange("PREF_USER_TEAM_FRECENCY_SHRINKAGE",JSON.stringify(TS.model.frecency_jumper),r.value),TS.prefs.mergeFrecencyJumper(r.value)&&TS.prefs.frecency_jumper_changed_sig.dispatch();break;case"frecency_ent_jumper":TS.prefs.conditionallyClogFrecencyDueToSizeChange("PREF_USER_ORG_FRECENCY_SHRINKAGE",JSON.stringify(TS.model.frecency_jumper),r.value),TS.log(666,"Received a pref_change event for frecency_ent_jumper."),TS.prefs.mergeFrecencyJumper(r.value)&&TS.prefs.frecency_jumper_changed_sig.dispatch();break;case"jumbomoji":TS.prefs.getPref("jumbomoji")!=r.value&&(TS.prefs.setPrefLocal("jumbomoji",r.value),TS.prefs.jumbomoji_changed_sig.dispatch());break;case"hide_hex_swatch":TS.prefs.getPref("hide_hex_swatch")!=r.value&&(TS.prefs.setPrefLocal("hide_hex_swatch",r.value),TS.prefs.hide_hex_swatch_changed_sig.dispatch());break;case"a11y_animations":TS.prefs.getPref("a11y_animations")!==r.value&&TS.prefs.setPrefLocal("a11y_animations",r.value);break;case"show_memory_instrument":TS.prefs.getPref("show_memory_instrument")!==r.value&&(TS.prefs.setPrefLocal("show_memory_instrument",r.value),TS.prefs.show_memory_instrument_changed_sig.dispatch());break;case"channel_sort":TS.prefs.getPref("channel_sort")!==r.value&&(TS.prefs.setPrefLocal("channel_sort",r.value),TS.prefs.setChannelSort(TS.prefs.getPref("channel_sort")),TS.prefs.channel_sort_changed_sig.dispatch());break;case"enable_unread_view":TS.prefs.getPref("enable_unread_view")!==r.value&&(TS.prefs.setPrefLocal("enable_unread_view",r.value),TS.prefs.enable_unread_view_changed_sig.dispatch());break;case"enable_react_emoji_picker":TS.prefs.getPref("enable_react_emoji_picker")!==r.value&&(TS.prefs.setPrefLocal("enable_react_emoji_picker",r.value),TS.prefs.enable_react_emoji_picker_changed_sig.dispatch());break;case"client_logs_pri":TS.prefs.setPrefLocal(r.name,r.value),TS.console.setAppropriatePri();break;case"email_alerts":TS.prefs.setPrefLocal(r.name,r.value),TS.prefs.email_alerts_changed_sig.dispatch();break;default:TS.prefs.setPrefLocal(r.name,r.value)}},hex_regex:/^#?([0-9a-f]{6})$/i,conditionallyClogFrecencyDueToSizeChange:function(r,a,t){t.length/a.length<.1&&TS.interop.clog.track(r,{updated_user_client_prefs:{existing_frecency:a,new_frecency:t}})},setSidebarThemeCustomValues:function(r){var a=!1;r&&typeof r=="object"&&r.length===void 0&&_.forOwn(r,function(t,n){if(a=!1,!t||!t.substr||(r[n]=t.substr(0,7),!t.match(TS.prefs.hex_regex)))return!1;a=!0}),a?TS.prefs.setPrefLocal("sidebar_theme_custom_values",JSON.stringify(r)):(TS.prefs.setPrefLocal("sidebar_theme","default"),TS.prefs.setPrefLocal("sidebar_theme_custom_values",JSON.stringify(TS.sidebar_themes.default_themes.default_theme)))},setPrefByAPI:function(r,a){return TS.interop.api.callExpedited("users.prefs.set",r).then(function(t){const{data:i,args:d}=t;if(i&&i.prefs&&d){const m=d.name&&[d.name]||_.keys(TS.interop.url.queryStringParse(d.prefs));_.forEach(m,u=>TS.prefs.legacyOnPrefChanged({name:u,value:i.prefs[u]}))}if(a)return a(!0,i,d)}).catch(function(t){const{args:n}=t;var i;n.hasOwnProperty("name")?i=`pref name: ${n.name}`:n.prefs&&(i="(multiple prefs)"),TS.interop.utility.getLogger({getState:TS.redux.getState}).error(i,"TS.prefs.setPrefByAPI call got a not ok rsp",{subtype:"API response error"}),setTimeout(function(){n.prefs?TS.error("multi preferences setting failed."):TS.error(`"${n.name}" preference setting failed.`)},0)})},setTeamPrefByAPI:function(r,a,t){return TS.interop.api.callExpedited("team.prefs.set",{prefs:JSON.stringify(r)}).then(function(n){const{data:i}=n;if(TS.web){t=t||[];var d=Object.keys(r).concat(t);d.forEach(function(m){i.prefs.hasOwnProperty(m)&&(r.hasOwnProperty(m)||TS.prefs.getTeamPref(m)!==i.prefs[m])&&TS.prefs.legacyOnTeamPrefChanged({name:m,value:i.prefs[m]})})}return Promise.resolve(i.prefs)}).catch(function(n){const{data:i}=n;return a&&a(i),Promise.reject(i)})},removeTeamFromEnterpriseExcludeTeamPref:function(r){if(!TS.boot_data.page_needs_enterprise)return;const a=TS.prefs.getPref("enterprise_excluded_app_teams");if(!a)return;const t=a?a.split(","):[];_.pull(t,r),TS.prefs.setPrefByAPI({name:"enterprise_excluded_app_teams",value:t.join(",")})}});var s=!1})()},6424224313:()=>{(function(){TS.registerModule("redux.bots",{bulkUpsertBots:function(s){_.isArray(s)&&TS.redux.dispatch(TS.interop.redux.models.bots.bulkUpsertBots({bots:s}))}})})()},4233675150:()=>{(function(){TS.registerModule("redux.channels.interop",{maybeWrapEntity:function(F){return!F||!F.id?F:Y(F.id)}});var s=TS.interop.channels.getChannelById,r={},a={},t={},n=o(function(){var F=window.Proxy&&q();return F},"_shouldWrapEntityInProxyObject"),i=o(function(F,H,te){if(!(!F||!H)){var c={id:F};c[H]=te,TS.interop.channels.updateOneKeyForChannel(c)}},"_updateOneKeyForChannel"),d=["_show_in_list_even_though_no_unreads","deleted","has_draft","is_archived","is_frozen","is_channel","is_ext_shared","is_group","is_im","is_member","is_mpim","is_open","is_org_shared","is_pending_ext_shared","is_starred","last_read","members","priority","unread_cnt","unread_highlight_cnt","internalTeamIds","pendingAndConnectedTeamIds"],m=["_display_name","_archive_msgs","_checking_at_channel_status","_delayed_fetch_timer","_did_defer_initial_msg_history","_display_name_lc","_display_name_truncated","_i18n_ns_history","_i18n_ns","_internal_name","_jumper_previous_name_match","_latest_via_users_counts","_mark_most_recent_read_timer","_marked_reason","_members","_mention_count_display_via_users_counts","_name_lc","_prev_last_read","_score","_users_counts_info","active_members","can_thread","create_channel","created","creator","date_created","enterprise_id","fetched_history_after_scrollback_time","has_fetched_history_after_scrollback","has_pins","history_changed","history_fetch_failed","history_fetch_retries","history_is_being_fetched","id","inherit","is_default","is_general","is_global_shared","is_limited","is_moved","is_non_threadable","is_org_default","is_org_mandatory","is_private","is_read_only","is_thread_only","last_made_active","last_msg_input","latest","length","member","msgs","name_normalized","name","needs_joined_message","never_needs_joined_msg","note","num_members","old_name","oldest_msg_ts","opened_this_session","org","parent_group","pinned_items","pinned_items_count","presence","previous_names","purpose","scroll_top","shares","domain","tooltip","topic","unlinked","unread_count_display","unread_count","unread_highlight_cnt_in_client","unread_highlights","unreads","user","was_archived_this_session","isUnknown","isNonExistent","fromAnotherTeam","internalTeamIds","team_id","pendingAndConnectedTeamIds","previously_connected_team_ids","pending_connected_team_ids","conversation_host_id"],u=["_get","_is_interop_channel_object","_set","_setWithReduxAction","attributes","children","disabled","is_broadcast_keyword","is_divider","is_emoji","is_usergroup","is_view","is_app_action","nodeType","old_name","props_to_define","selector","then","title","toObject","toJSON","window","@@toStringTag"],f=_.reduce(d,function(F,H){return F[H]=!0,F},{}),p=_.reduce(m,function(F,H){return F[H]=!0,F},{}),v=_.reduce(u,function(F,H){return F[H]=!0,F},{}),S={},k=o(function(F,H){if(!p[H]&&!f[H]&&!v[H]&&_.isString(H)){TS.console.logStackTrace(`Accessing an unknown key ${H} on a model object`),t[H]||(t[H]=!0),q()&&TS.console.error(`Dev only warning: Trying to get an unknown field "${H}" from a model object. If this is not a typo and you are relying on this property, please try and store this data outside of the model ob, or add to the model_ob_keys_as_map whitelist in TS.redux.channels.interop.source.js. Questions? Feel free to ask in #dhtml`);var te=s(F.id);return te&&te[H]}return F[H]},"_proxyGet"),P=o(function(F,H,te){if(_.isString(H)&&(r[H]=(r[H]||0)+1),!p[H]&&!f[H]&&_.isString(H)){if(TS.console.logStackTrace(`Setting an unknown key ${H} on a model object`),t[H]||(t[H]=!0),q())throw new Error(`Dev only warning: Trying to set an unknown field "${H}" on a model object. If this is not a typo and you are relying on this property, please try and store this data outside of the model ob, or add to the model_ob_keys_as_map whitelist in TS.redux.channels.interop.source.js. Questions? Feel free to ask in #dhtml`);var c=s(F.id);c&&(c[H]=te)}return F[H]=te,!0},"_proxySet"),O=o(function(F){this.id=F,Object.defineProperties(this,this.props_to_define)},"_Channel"),I={};_.without(m,"id").forEach(function(F){I[F]={enumerable:!0,get:function(){return this._get(F)},set:function(H){return this._set(F,H)}},d.forEach(function(H){I[H]={enumerable:!0,get:function(){return this._get(H)},set:function(te){return this._setWithReduxAction(H,te)}}})}),O.prototype.props_to_define=I,O.prototype._is_interop_channel_object=!0,O.prototype._get=function(F){var H=s(this.id);if(H)return H[F]},O.prototype._set=function(F,H){var te=s(this.id);return te&&(te[F]=H),!0},O.prototype._setWithReduxAction=function(F,H){var te=s(this.id);return te&&te[F]!==H&&(i(this.id,F,H),a[F]=(a[F]||0)+1),!0};var q=o(function(){return TS.boot_data&&(TS.boot_data.version_ts==="dev"||TS.boot_data.version_ts==="local_js")},"_isDev"),Y=o(function(F){if(!F)throw new Error("Must pass in a valid id to _createWrappedEntityById");var H,te=n();return S[F]?H=S[F]:(H=new O(F),te&&(H=new window.Proxy(H,{get:function(c,A){return k(c,A)},set:function(c,A,re){return P(c,A,re)}})),S[F]=H),H},"_createWrappedEntityById")})()},9267224555:()=>{(function(){TS.registerModule("redux.channels",{onStart:function(){s=!0,a=TS.interop.rules.channels.isIm||r,Object.defineProperty(TS.model,"channels",{get:function(){return f("channels")}}),Object.defineProperty(TS.model,"groups",{get:function(){return f("groups")}}),Object.defineProperty(TS.model,"mpims",{get:function(){return f("mpims")}}),Object.defineProperty(TS.model,"ims",{get:function(){return f("ims")}})},bulkAddEntities:function(p){TS.interop.channels.bulkAddChannels({channels:p})},updateMutedChannels:function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];var v=_.reduce(p,function(S,k){return S[k]=!0,S},{});TS.redux.dispatch(TS.interop.redux.actions.setMutedChannels(v))},getEntityById:function(p,v){return TS.interop.channels.getEntityById(p,v)},getPublicOrPrivateChannelByName:function(p){var v=n(p);if(TS.interop.rules.channels.isPublicChannel(v)||TS.interop.rules.channels.isPrivateChannel(v))return v},getImByMemberId:function(p){var v=i(p),S=TS.redux.channels.getEntityById(v);return a(S)?S:null},test:function(){var p={};return p}});let s=!1;function r(){TS.interop.utility.getLogger({getState:TS.redux.getState}).error(`missing-isIm: onStartDidRun=${s}, i(${_.has(window,"TS.interop")}), i.r(${_.has(window,"TS.interop.rules")}), i.r.c(${_.has(window,"TS.interop.rules.channels")}), i.r.c.i(${_.has(window,"TS.interop.rules.channels.isIm")})`);const p=Date.now()-(window.localStorage.isImBugLastEncountered||0);throw localStorage.isImBugLastEncountered=Date.now(),p>6e4&&TS.reload(null,"isIM bug detected"),new Error("TS.interop.rules.channels.isIm not present on page, not sure how to proceed")}o(r,"_isImErrorHandler");var a=r,t=TS.interop.channels.getAllChannels,n=TS.interop.channels.getChannelByName,i=TS.interop.channels.getImIdByMemberId,d,m={},u={channels:void 0,groups:void 0,mpims:void 0,ims:void 0},f=o(function(p){var v=t(),S;switch(p){case"channels":S=o(function(k){return k.is_channel&&!k.fromAnotherTeam},"filter");break;case"groups":S=o(function(k){return k.is_group&&!k.is_mpim&&!k.fromAnotherTeam},"filter");break;case"ims":S=a;break;case"mpims":S=o(function(k){return k.is_group&&k.is_mpim},"filter");break;default:}return v===d&&m[p]||(v!==d&&(d=v,m={}),m[p]=_.filter(v,S),m[p]=_.map(m[p],TS.redux.channels.interop.maybeWrapEntity),u[p]||(u[p]=_.defer(function(){delete m[p],delete u[p],d=null}))),m[p]},"_buildModelArrayKey")})()},72910410:()=>{(function(){TS.registerModule("redux.files",{onStart:function(){Object.defineProperty(TS.model,"files",{get:function(){return TS.redux.files.getAllFiles()},set:function(){return!1}})},getFileById:function(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var d=r(n,i);return!d||d.id!==n?null:d},getAllFiles:function(){var n=s();return n===a||(t=_.values(n),a=n),t}});var s=TS.redux.bindSelectorToStore("TS.interop.redux.models.files.getAllFiles"),r=TS.redux.bindSelectorToStore("TS.interop.redux.models.files.getFileById"),a,t})()},977307490:()=>{(function(){TS.registerModule("redux.members",{onStart:function(){TS.boot_data.no_login||(r=TS.utility.enableFeatureForUser(1),t(),Object.defineProperty(TS.model,"members",{get:function(){return TS.redux.members.getAllMembers()},set:function(){return!1}}),Object.defineProperty(TS.model,"user",{get:function(){return TS.interop.members.getCurrentMember()}}))},getPotentiallyUnknownMemberById:function(n){if(n&&n[0]==="@"&&(n=n.substring(1)),!TS.interop.utility.looksLikeMemberId(n)){r&&TS.console.logStackTraceToBackEnd("non-ID passed into getPotentiallyUnknownMemberById","member_name_as_id_lookup",1);const d=TS.interop.members.getMemberByName(n);if(d)return d}const i=TS.interop.members.getPotentiallyUnknownMemberById(n);return i?i.isUnknown?(TS.members.legacySetMemberUnknown(n),_.omit({...i,is_unknown:!0},"isUnknown")):i.isNonExistent?_.omit({...i,is_non_existent:!0},"isNonExistent"):i:null},getMemberByEmail:function(n){var i=TS.interop.members.getMemberByEmail(n);return!i||!i.profile?null:i},getAllMembers:function(){var n=TS.interop.members.getAllMembers();return _.values(n)},hasMemberWithId:function(n){return TS.interop.members.hasMemberWithId(n)},test:function(){var n={_addSignalListeners:t};return Object.defineProperty(n,"_bulk_upsert_payload",{get:function(){return s},set:function(i){s=i}}),n}});var s=[],r,a=o(function(){s.length&&(TS.interop.members.markObjectsAsFresh(s.map(n=>n.id)),TS.interop.members.dangerouslyBulkAddMembers(s),s=[])},"_bulkUpsertMembers"),t=o(function(){TS.members.batch_upserted_sig.add(a)},"_addSignalListeners")})()},7750274637:()=>{(function(){TS.registerModule("redux.prefs",{setUserPrefs:function(s){TS.interop.prefs.setUserPrefs(s)},setTeamPrefs:function(s){TS.interop.prefs.setTeamPrefs(s)},setEnterprisePrefs:function(s){TS.interop.prefs.setEnterprisePrefs({prefs:s})},setUserPref:function(s,r){TS.redux.prefs.getUserPref(s)!==r&&TS.interop.prefs.setUserPref({pref:s,value:r})},setTeamPref:function(s,r){TS.redux.prefs.getTeamPref(s)!==r&&TS.interop.prefs.setTeamPref({pref:s,value:r})},getUserPref:function(s){return TS.interop.prefs.getUserPref(s)},getTeamPref:function(s){return TS.interop.prefs.getTeamPref(s)},test:function(){var s={};return s}})})()},5387777188:()=>{(function(){TS.registerModule("redux.presence",{onStart:function(){t()},getPresenceByMemberId:function(n){return s(n)},updatePresenceForMember:function(n){!n||!n.id||TS.redux.dispatch(TS.interop.redux.features.presence.updatePresence({memberId:n.id,presence:n.presence}))}});var s=TS.redux.bindSelectorToStore("TS.interop.redux.features.presence.getPresenceByMemberId"),r={},a=o(function(){r.length&&(TS.redux.dispatch(TS.interop.redux.features.presence.bulkUpdatePresence(r)),r={})},"_bulkUpsertPresences"),t=o(function(){TS.members.presence_changed_sig.add(TS.redux.presence.updatePresenceForMember),TS.members.batch_upserted_sig.add(a)},"_addSignalListeners")})()},5015647131:()=>{(function(){TS.registerModule("redux.reactions",{getReactionsForKey:function(s){return TS.interop.redux.models.reactions.getReactionsForKey(TS.redux.getState(),s)},upsertReactions:function(s,r,a){const t=TS.redux.reactions.getReactionsForKey(s),n=TS.redux.dispatch(TS.interop.redux.models.reactions.upsertReactions({key:s,reactions:r,fromUserAction:a}));let i="NOOP";return n&&(r&&_.isEmpty(t)?i="ADDED":_.isEqual(t,r)||(i="CHANGED")),{status:i,what_changed:[],rxns:r}}})})()},5630507953:()=>{(function(){TS.registerModule("redux.teams",{onStart:function(){Object.defineProperty(TS.model,"team",{get:function(){return TS.redux.teams.getCurrentTeam()},set:function(){return TS.error("TS.redux.teams: trying to set TS.model.team???"),!1}})},upsertTeam:function(s){if(!(!s||!s.id))return TS.interop.teams.upsertTeam({team:s})},getTeamById:function(s,r){return TS.interop.teams.getTeamById?TS.interop.teams.getTeamById(s,r):null},getAllTeams:function(){return TS.interop.teams.getAllTeams?TS.interop.teams.getAllTeams():null},getCurrentTeam:function(){return TS.interop.teams.getCurrentTeam?TS.interop.teams.getCurrentTeam():null},fetchAndUpsertEnterpriseOrgInfo:function(){return TS.interop.teams.fetchAndUpsertEnterpriseOrgInfo?TS.redux.dispatch(TS.interop.teams.fetchAndUpsertEnterpriseOrgInfo()):null}})})()},9158920351:()=>{(function(){TS.registerModule("redux.user_groups",{onStart:function(){Object.defineProperty(TS.model,"user_groups",{get:function(){return TS.redux.user_groups.getAllUserGroups()},set:function(){return TS.error("TS.redux.user_groups: trying to set TS.model.user_groups???"),!1}})},getAllUserGroups:function(){var a=TS.interop.userGroups.getAllUserGroups();return a===s||(r=_.values(a).sort(TS.interop.i18n.mappedSorter("_name_lc")),s=a),r}});var s,r})()},8205917172:()=>{(function(){TS.registerModule("rxns",{upsertRxnsFromDataAndUpdateUI:function(r,a){var t=s(r,a);return t},getRxnKey:function(r,a,t){return r==="message"&&!t&&TS.error("getRxnKey: no c_id provided for message rxn_key"),r!=="message"&&t&&TS.error("getRxnKey: c_id provided for but this is not a message rxn_key"),`${r}-${a}-${t||""}`},getExistingRxnsByKey:function(r){var a=TS.redux.reactions.getReactionsForKey(r);return a&&a.length?a:null},test:function(){return{upsertRxnsFromData:s}}});var s=o(function(r,a){return TS.redux.reactions.upsertReactions(r,a,!1)},"_upsertRxnsFromData")})()},9032035136:()=>{(function(){TS.registerModule("shared",{onStart:function(){},test:function(){var i={};return Object.defineProperty(i,"_queried_usernames",{get:function(){return r},set:function(d){r=d}}),i},legacySetOldestUnreadTsForId:function(i,d){i&&(s[i]=d)},legacyGetActiveModelOb:function(){var i;return TS.boot_data.channel_id?i=TS.interop.channels.getPublicChannelById(TS.boot_data.channel_id):TS.boot_data.im_id?i=TS.interop.channels.getImById(TS.boot_data.im_id):TS.boot_data.mpim_id?i=TS.interop.channels.getMpimById(TS.boot_data.mpim_id):TS.boot_data.group_id?i=TS.interop.channels.getGroupById(TS.boot_data.group_id):(TS.warn("error getActiveModelOb found no ob"),TS.warn(`TS.boot_data.channel_id: ${TS.boot_data.channel_id}`),TS.warn(`TS.boot_data.im_id: ${TS.boot_data.im_id}`),TS.warn(`TS.boot_data.group_id: ${TS.boot_data.group_id}`)),i},promiseToRefetchModelOb:function(i){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"TS.shared.promiseToRefetchModelOb";if(!i||typeof i!="string")return Promise.resolve();const m=[i];return TS.interop.channels.fetchAndUpsertChannelsFromFlannel({ids:m}).then(u=>{let{channels:f}=u;return _.isEmpty(f)?TS.interop.channels.fetchAndUpsertChannelsFromAPI({ids:m,reason:d}):{channels:f}}).then(u=>{let{channels:f}=u;return f&&f[0]})},ensureModelObsArePresent:function(i,d){return!i||!i.length?Promise.resolve():TS.interop.channels.fetchAndUpsertChannelsById({ids:i,reason:d}).then(m=>{let{missing:u}=m;return _.isEmpty(u)||u.forEach(f=>TS.interop.channels.upsertChannel({id:f,isNonExistent:!0})),Promise.resolve()})},legacyEnsureModelObsInDataArePresent:function(i,d){const m=TS.interop.utility.extractAllModelObIds(i);return d==="search.messages"&&TS.boot_data.page_needs_enterprise&&t(i,m),TS.shared.ensureModelObsArePresent(m,d)},legacyBatchUpsertObjects:function(i){TS.has_pri[n]&&TS.log(n,`Flannel: upserting batch of ${i.length} objects`);var d=[],m=[],u=[];_.forEach(i,function(k){TS.interop.utility.looksLikeMemberId(_.get(k,"id"))?TS.redux.members.hasMemberWithId(k.id)?d.push(k):m.push(k):a(k)&&u.push(k)});var f=!!m.length,p=[];function v(k){TS.has_pri[n]&&TS.log(n,`Flannel: upserting and signaling user ${k.id} from query results`);var P=TS.members.legacyUpsertAndSignal(k).member;p.push(P)}o(v,"upsertAndSignalMember");function S(k){TS.has_pri[n]&&TS.log(n,`Flannel: upserting user ${k.id} from query results`);var P=TS.members.legacyUpsertMember(k).member;p.push(P)}return o(S,"upsertMember"),d.forEach(v),f&&(TS.members.legacyStartBatchUpsert(),m.forEach(S),TS.members.legacyFinishBatchUpsert()),u.length&&(TS.redux.bots.bulkUpsertBots(u),u.forEach(k=>{TS.has_pri[n]&&TS.log(n,`Flannel: upserting bot ${k.id} from query results`);var P=TS.interop.bots.getBotById(k.id);p.push(P)})),p}});var s={},r={},a=o(function(i){var d=_.get(i,"id[0]");return d==="B"},"_isBot");function t(i,d){var m=TS.model.team.id;_.remove(d,function(u){var f=_.find(i.messages.matches,function(S){return S.channel.id==u},this),p=_.get(f,"channel"),v=TS.interop.rules.channels.isOrgShared(p)||TS.interop.rules.channels.isExternallySharedChannel(p);if(f&&_.get(f,"team")!=m&&_.startsWith(u,"C")&&!v)return u})}o(t,"_excludeNonLocalModelObs");var n=1989})()},2845147576:()=>{(function(){const s="STORAGE";TS.registerModule("storage",{version:"0.85",msgs_version:window.boot_data&&boot_data.cache_version||"unknown_version",cache_ts_version:window.boot_data&&boot_data.cache_ts_version||"unknown_version",do_compression:!TS.model.is_our_app&&typeof window.Worker<"u"&&(!window.bowser||!bowser.phantom&&!bowser.msie),test:function(){return{getLocalStorage:ce,setLocalStorage:L,getKeys:I,set:Q}},onStart:function(){TS.storage.onStart=function(){},TS.storage.do_compression||(TS.interop.console.info(s,"Special case: force-enabling LS compression for this session."),TS.storage.do_compression=!0),TS.storage.version+=TS.storage.do_compression?"-compressed-LZString":"";var y=i||!ne||function(){return!TS.storage.storageAvailable()&&(Y(),!TS.storage.storageAvailable())?(TS.interop.console.info(s,"TS.storage.storageAvailable() = false in onStart after flushing all our keys, so disabling"),!0):!1}();TS.has_pri[N]&&(TS.log(N,`TS.storage.onStart should_disable:${y}`),TS.log(N,`TS.storage.do_compression:${TS.storage.do_compression} (_ls.getItem('is_compressed') === 'yes'):${ne&&ne.getItem("is_compressed")==="yes"}`)),TS.ui.window_unloaded_sig.add(H),TS.ui.window_focus_changed_sig.add(te),TS.storage.setDisabled(y),Q("rxn_records",null);var U=TS.storage.fetchExpandableState();TS.redux.dispatch(TS.interop.redux.features.expandables.bulkSetExpanded(U))},setDisabled:function(y){i!=y&&(y||!ne?(i=!0,ne&&Y()):(i=!1,q()),TS.log(N,`_disabled:${i}`))},storageAvailable:function(){if(!ne)return!1;try{var y="test_to_see_if_we_can_write_to_local_storage";return ne.setItem(y,"foo"),ne.removeItem(y),!0}catch{return!1}},storageSize:function(y){var U=0;if(!ne)return U;for(var h=I(),w=0,R,C,B=0;B<h.length;B+=1)w+=1,R=h[B],C=ne.getItem(R),!C&&C!==""?TS.interop.console.info(s,`${R} not measurable value, typeof:${typeof C}`):(U+=C.length,y&&TS.info(`${R}=${(C.length*2/1024).toFixed(2)}KB (total=${(U/1024).toFixed(2)}KB)`));return y&&TS.info(`total for ${w} items is ${(U/1024).toFixed(2)}KB`),U},flush:function(y){TS.has_pri[N]&&TS.log(N,"TS.storage.flush()"),Y(),y&&TS.storage.clearBufferAndCache()},clearBufferAndCache:function(){TS.has_pri[N]&&TS.log(N,"TS.storage.clearBufferAndCache()"),m={},u={},TS.compresion&&TS.compression.terminate()},fetchStorageVersion:function(){return J("storage_version")},storeStorageVersion:function(y){Q("storage_version",y,!0)},fetchCacheTSStorageVersion:function(){return J("storage_cache_ts_version")},_makeMsgInputId:function(y){return`msg_input_${y}`},fetchLastMsgInput:function(y){var U=J(TS.storage._makeMsgInputId(y),null);return U==="\u4000"?(TS.interop.utility.getLogger({getState:TS.redux.getState}).error({storage_version:TS.storage.fetchStorageVersion(),ts_storage_version:TS.storage.version,is_our_app:TS.model.is_our_app,typeof_window_worker:typeof window.Worker,has_bowser:!!window.bowser},"decompress_general_compressed_fail"),""):U},fetchOldestTs:function(y){return J(n(y),null)},fetchLastEventTS:function(y){return J("last_event_ts","",y)||""},storeUIState:function(y){Q("ui_state",y)},fetchExpandableState:function(){var y=J("expandable_state",{});return y&&typeof y=="object"?y:{}},fetchCustomEmoji:function(){return J("custom_emoji",null)||null},fetchStaticTranslations:function(){return J("static_translations",null)||null},storeStaticTranslations:function(y){Q("static_translations",y)},fetchApps:function(){return J("apps",null)||null},fetchCmds:function(){return J("cmds",null)||null},storeFilterState:function(y){Q("team_filter_state",y)},fetchFrecency:function(y){return J(`frecency_${y}`)},storeFrecency:function(y,U){Q(`frecency_${y}`,U)},clearFrecency:function(y){Q(`frecency_${y}`,"")},fetchLastEKMChangeTimestamp:function(){return J("last_ekm_change_ts","0")||"0"},storeLastEKMChangeTimestamp:function(y){Q("last_ekm_change_ts",y)}});var r=`${window.boot_data.user_id}_`,a="channel_msgs_",t="oldest_msg_ts_",n=o(function(y){return t+y},"_makeOldestTsId"),i,d=!1,m={},u={},f=1e3,p=!1,v=1e3,S=!1,k=1e3,P=!1,O=!1,I=o(function(){var y=[];if(!ne)return y;var U=ne.length;if(!U)return y;for(var h=0;h<U;h+=1)y.push(ne.key(h));return y},"_getKeys"),q=o(function(){var y;if(!i){var U=TS.storage.fetchStorageVersion()||"",h=U.indexOf("-compressed")!=-1||ne.getItem("is_compressed")==="yes";TS.storage.do_compression&&!h?(TS.interop.console.info(s,"migrating to compressed format"),y=I(),y.forEach(function(C){var B=C.replace(r,""),G=ee(C,ne.getItem(C)),K=`converting: ${C} -> ${B} val.length: ${G==null?-1:String(G).length}`;Q(B,null),Q(B,G),J(B)==G?TS.has_pri[N]&&TS.log(N,`${K} SUCCESS _get(name) has a value:${!!J(B)}, and it it the same as val`):TS.error(`${K} FAILURE _get(name) !== val`)}),TS.interop.console.info(s,`migration to compressed format complete, ${y.length} migrated`),TS.storage.storeStorageVersion(TS.storage.version)):TS.has_pri[N]&&TS.log(N,"no migration needed"),ne.setItem("is_compressed",TS.storage.do_compression?"yes":"no")}var w=TS.storage.fetchCacheTSStorageVersion();TS.has_pri[N]&&TS.log(N,`storage_cache_ts_version:${w}`);var R=TS.storage.fetchStorageVersion()||"";TS.has_pri[N]&&(TS.log(N,`TS.storage.version:${TS.storage.version}`),TS.log(N,`storage_version:${R}`),TS.log(N,`TS.storage last_unload_flushing: ${J("last_unload_flushing")}`),TS.log(N,`TS.storage.storageAvailable(): ${TS.storage.storageAvailable()}`)),y=I(),TS.has_pri[N]&&TS.dir(N,y,"_getKeys()"),TS.storage.storageAvailable()?R!=TS.storage.version?(TS.log(N,`storage_version:${R} does not match TS.storage.version:${TS.storage.version} so flushing all our keys: ${y.join(", ")}`),Y()):TS.storage.fetchLastEventTS()||(TS.log(N,"TS.storage.fetchLastEventTS() is empty so flushing channel data"),F()):(TS.log(N,"TS.storage.storageAvailable() = false so flushing all our keys"),Y()),TS.storage.storeStorageVersion(TS.storage.version)},"_setUp"),Y=o(function(){I().forEach(function(y){y.indexOf(r)===0&&ne.removeItem(y)})},"_removeAllOurKeys"),F=o(function(){var y=I();TS.has_pri[N]&&TS.log(N,y,"_getKeys()");for(var U,h=0;h<y.length;h+=1)U=y[h],U.indexOf(r)===0&&(U.indexOf(a)==-1&&U.indexOf(t)==-1||(ne.removeItem(U),delete m[U]));for(U in m)U.indexOf(r)===0&&(U.indexOf(a)==-1&&U.indexOf(t)==-1||delete m[U]);u={},y=I(),TS.dir(488,y,"_getKeys()")},"_completelyEmptyAllStorage"),H=o(function(){d=!0,Q("last_unload_flushing",new Date().toString(),!0),re(!0,"_windowUnloaded"),TS.compression.terminate()},"_windowUnloaded"),te=o(function(){re(!0,"_windowBlurred")},"_windowBlurred"),c=o(function(y){return typeof y=="string"||typeof y=="number"||!y?y:JSON.stringify(y)},"_prepareValForStorage"),A=o(function(y){return y==="undefined"||y==="null"?null:y},"_correctBadValsFromStorage"),re=o(function(y,U){if(!i){var h=new Date,w=Date.now(),R,C=0,B,G=!1,K,ie,ue,oe,le;for(B in m)if(!m[B].being_flushed){if(oe=c(m[B].val),oe==null)ne.removeItem(B),delete m[B],delete u[B];else try{z(B,oe)}catch(ae){TS.error(0,ae),Y(),delete m[B],delete u[B];continue}if(C+=1,R=Date.now()-w,G&&TS.has_pri[N]&&TS.log(N,`_flushBuffer _ls.setItem ${B}: ${R}ms ${m[B]&&m[B].val&&m[B].val.toString?m[B].val.toString().substr(0,100):"NULL?"}`),!y&&(K=new Date-h,!P&&K>k)){P=!0,ue=new Date;try{ie=TS.storage.storageSize()}catch{}ue=new Date-ue,le=`Took ${K}ms for ${C} item (!all case) (threshold is ${k} ms). Key: ${B}. Buffer length: ${m[B]&&m[B].val&&m[B].val.toString()?m[B].val.toString().length:"unknown (not a string)"}. localStorage size: ${ie||"unknown"}. Time to read LS size: ${ue}`,TS.info(`_flushBuffer exceeded slow write threshold: ${le}`)}if(m[B]&&(m[B].being_flushed=!0),!y){TS.has_pri[N]&&TS.log(N,`_flushBuffer: Wrote one item. why: ${U}`);return}u={}}if(C&&!O&&(K=new Date-h,K>k)){O=!0;try{ie=TS.storage.storageSize()}catch{}le=`Took ${K}ms for ${C} items (threshold is ${k} ms). localStorage size: ${ie}. App open for ${((Date.now()-TS.boot_data.start_ms)/1e3/60).toFixed(2)} min. why: ${U}`,TS.info(`_flushBuffer exceeded slow write threshold (all case): ${le}`)}TS.has_pri[N]&&(C===0?TS.log(N,"_flushBuffer: Nothing to save."):TS.log(N,`_flushBuffer: Saved ${C}${C===1?" item":" items"} why: ${U}`))}},"_flushBuffer"),J=o(function(y,U,h){var w=r+y;if(h&&TS.info(`_get name:${y} k:${w} disabled:${i} _buffer["${w}"].val:${m[w]&&m[w].val}`),i||w in m)return m[w]&&m[w].val||U;if(u.hasOwnProperty(w))return u[w];var R=ee(w,X(w,ne.getItem(w)),U,h);return u[w]=R,R},"_get"),ee=o(function(y,U,h,w){var R=new Date,C=A(U);w&&TS.info(`_get _correctBadValsFromStorage(_ls.getItem(k)) k:${y} typeof result:${typeof C} /^[{[]/.test(result):${/^[{[]/.test(C)}`);var B;if(C&&typeof C=="string"&&/^[{[]/.test(C)&&(C=TS.utility.parseJSONOrElse(C)||C),C=C||(h!==void 0?h:null),R=new Date-R,!p&&R>f){p=!0;try{B=TS.storage.storageSize()}catch{}var G=`_get took longer than threshold: Took ${R}ms to read ${y} (theshold is ${f}ms), length = ${C&&!isNaN(C.length)?C.length:"unknown"}. Storage size: ${B}`;TS.info(G)}return C},"_convertTypeForFetch"),Q=o(function(y,U,h,w){var R=!1,C=new Date,B,G=r+y;if(m[G]={val:U,being_flushed:!1},u[G]=m[G].val,w&&TS.info(`_set immediate:${h} name:${y} k:${G} disabled:${i} do_compression:${TS.storage.do_compression} _buffer["${G}"].val:${m[G].val}`),h){if(!i){var K=c(U);if(K==null)ne.removeItem(G),delete m[G];else try{z(G,K,h)}catch{TS.interop.console.warn(`_set _ls.setItem failed, flushing. TS.storage.storageSize():${TS.storage.storageSize(!1)}`),R=!0}}if(w&&TS.info(`_set failed:${R}`),!R)if(w&&TS.info(`_set _buffer["${G}"]:${m[G]&&JSON.stringify(m[G])}`),C=new Date-C,C>v){if(TS.interop.console.info(s,`_set immediately ${y}: ${C}ms ${U&&U.toString?U.toString().substr(0,100):"NULL?"}`),!S){S=!0;try{B=TS.storage.storageSize()}catch{}var ie=`_set exceeded slow set threshold (immediate): Took ${C}ms to write ${G} (theshold is ${v}ms), length = ${U&&!isNaN(U.length)?U.length:"unknown"}. Storage length: ${B}`;TS.info(ie)}}else TS.has_pri[N]&&TS.log(N,`_set GOOD immediately: ${h} ${y}: ${C}ms`,U)}},"_set"),ne=window.localStorage,ce=o(function(){return ne},"_getLs"),L=o(function(y){ne=y},"_setLs"),z=o(function(y,U,h){if(U=String(U),TS.storage.do_compression){TS.compression.compress(y,U,h||d,j);return}j({k:y,str:U})},"_compressAndStore"),j=o(function(y){ne.setItem(y.k,y.str);var U=o(function(h){var w=ne.getItem(y.k);if(w===y.str){h>1&&TS.interop.console.info(s,`${y.k} now saved, try #${h}`),delete m[y.k],delete u[y.k];return}if(h>1&&(!m[y.k]||m[y.k].val!=y.str)){TS.error(`buffer changed for ${y.k} so we don't care anymore, a new value is being set for it, try #${h}`);return}TS.error(`WTF not saved, try #${h} ${y.k} ${(y.str||"").length} typeof ob.str:${typeof y.str} from_ls:${typeof w}`),ne.setItem(y.k,y.str),setTimeout(U,1e3,h+1)},"testAndFinishOrTryAgain");U(1)},"_afterCompress"),X=o(function(y,U){if(!TS.storage.do_compression)return U==="\u4000"?(TS.interop.utility.getLogger({getState:TS.redux.getState}).error({storage_version:TS.storage.fetchStorageVersion(),ts_storage_version:TS.storage.version,is_our_app:TS.model.is_our_app,typeof_window_worker:typeof window.Worker,has_bowser:!!window.bowser},"decompress_empty_string_fail"),""):U;var h=Date.now();U&&(U=LZString.decompress(U));var w=Date.now()-h;return U&&TS.has_pri[N]&&TS.log(N,`${y} took ${w}ms to _decompress str.length: ${U.length}`),U==="\u4000"?(TS.interop.utility.getLogger({getState:TS.redux.getState}).error({storage_version:TS.storage.fetchStorageVersion(),ts_storage_version:TS.storage.version,is_our_app:TS.model.is_our_app,typeof_window_worker:typeof window.Worker,has_bowser:!!window.bowser},"decompress_double_compressed_fail"),""):U},"_decompress"),N=488})()},3572352884:()=>{(function(){TS.registerModule("team",{team_name_changed_sig:new signals.Signal,onStart:function(){TS.team.team_name_changed_sig.add(r)},ensureTeamProfileFields:function(){return s||(s=TS.interop.api.call("team.profile.get").then(function(a){TS.redux.teams.upsertTeam(_.assign({id:TS.boot_data.team_id},{profile:a.data.profile}))}),s)},getTeamProfileFieldById:function(a){TS.model.team.profile.fields.length||TS.warn("Ensure profile fields exist before calling getTeamProfileFieldById");for(var t=0;t<TS.model.team.profile.fields.length;t+=1)if(TS.model.team.profile.fields[t].id===a)return TS.model.team.profile.fields[t];return null},getVisibleTeamProfileFields:function(){return TS.model.team.profile.fields.length||TS.warn("Ensure profile fields exist before calling getVisibleTeamProfileFields"),TS.model.team.profile.fields.filter(function(a){return!a.is_hidden})},getHiddenTeamProfileFields:function(){return TS.model.team.profile.fields.length||TS.warn("Ensure profile fields exist before calling getHiddenTeamProfileFields"),TS.model.team.profile.fields.filter(function(a){return a.is_hidden})},sortTeamProfileFieldsByOrdering:function(a){if(!a||!a.length)TS.warn("Ensure profile fields exist before calling sortTeamProfileFieldsByOrdering");else return _.clone(a).sort(function(t,n){return t.ordering-n.ordering})}});var s,r=o(function(){$("#team_name").text(TS.model.team.name),document.title=document.title.replace(TS.model.last_team_name,TS.model.team.name),TS.model.last_team_name=TS.model.team.name},"_handleTeamRename")})()},7490519501:()=>{(function(){TS.registerModule("teams",{rename_sig:new signals.Signal,changed_icon_sig:new signals.Signal,onStart:function(){TS.teams.changed_icon_sig.add(r),TS.teams.rename_sig.add(r)},getTeamById:function(n,i){return _.isString(n)?TS.redux.teams.getTeamById(n,i):null},ensureTeamsArePresent:function(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"TS.teams.ensureTeamsArePresent";if(!_.isArray(n))return Promise.reject(Error("t_ids is not an array"));var d=_.filter(n,function(m){var u=!1,f=TS.teams.getTeamById(m,u);return!f||f._other_account});return d.length?s(d,i):Promise.resolve()},ensureTeamsInDataArePresent:function(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"TS.teams.ensureTeamsInDataArePresent";var d=TS.interop.utility.extractAllTeamIds(n);return TS.teams.ensureTeamsArePresent(d,i)},test:function(){var n={_getSharedTeamIdsForMember:t};return Object.defineProperty(n,"_getTeamsByIdFromApi",{get:function(){return s},set:function(i){s=i}}),n}});var s=o(function(n,i){if(!_.isArray(n))return Promise.reject(Error("t_ids is not an array"));const d=250,m=_.chunk(n,d);return Promise.map(m,u=>TS.interop.api.callExpedited("team.info",{teams:u,_x_reason:i}).then(f=>{var p=[];return f.data.teams.forEach(function(v){v&&v.id&&v.id.charAt(0)==="E"?TS.warn(`EVALUE-1721: team.info response included an Enterprise org of ${v.id}. NOT adding to model. Client requested teams=${u.join(", ")}.`):p.push(TS.redux.teams.upsertTeam(v))}),p}).catch(f=>{TS.error(`_getTeamsByIdFromApi failed with ${f.data&&f.data.error||"unknown error"}, when requesting teams=${u.join(", ")}`)})).then(u=>_.compact(_.flatten(u)))},"_getTeamsByIdFromApi"),r=o(function(n){n.id!==TS.model.team.id&&a(n)},"_handleTeamChange"),a=o(function(n){if(_.isObject(n)){var i=TS.utility.teams.getMembersForTeam(n);i.length&&_.forEach(i,function(d){TS.members.changed_profile_sig.dispatch(d)})}},"_updateTeamMembers"),t=o(function(n){return n?_.get(n,"enterprise_user")?_.intersection(_.get(n,"enterprise_user.teams",[]),_.get(TS.model.user,"enterprise_user.teams",[])):_.get(n,"team_id")===_.get(TS.model.user,"team_id")?[n.team_id]:[]:[]},"_getSharedTeamIdsForMember")})()},6358327438:()=>{(function(){TS.registerModule("templates.builders",{makeMemberPreviewLink:function(r,a){if(!r)return"";a!==!0&&(a=!1);var t=TS.templates.builders.makeMemberColorClass(r),n,i;return r.is_service?(i=TS.utility.shouldLinksHaveTargets()?`target="/services/${r.id}"`:"",t+=" app_preview_link",n=`<a href="/services/${r.id}" ${i} data-bot-id="${r.id}" class="message_sender service_link ${t}">`):(i=TS.utility.shouldLinksHaveTargets()?`target="/team/${r.id}"`:"",t+=r.is_bot?" app_preview_link":" member member_preview_link",t+=` ${TS.templates.builders.makeMemberTypeBadgeClass(r)}`,n=`<a href="/team/${r.id}" ${i} class="message_sender ${t}" data-member-id="${r.id}">`),a&&r.id==TS.model.user.id?n+=TS.interop.i18n.t("You","templates_builders")():n+=TS.interop.rules.members.getPrefCompliantMemberName(r,!0),n+=TS.templates.builders.makeMemberTypeBadgeCompact(r,!1),n+="</a>",(r.is_bot||r.is_service)&&(n+=`<span class="c-app_label">${TS.interop.i18n.t("APP","templates_builders")()}</span>`),r.is_unknown&&(n=TS.templates.unknown_member({id:r.id})),n},legacyShowDraftIcon:function(r){if(!_.isObject(r))return!1;if(TS.interop.utility.looksLikeMemberId(r.id)){var a=TS.redux.channels.getImByMemberId(r.id);if(!a)return!1}var t=a||r,n=t.last_msg_input,i=t.id,d=TS.shared.legacyGetActiveModelOb();if(d){var m=d.id;m&&m==i&&(n=null)}return t.is_channel&&(TS.interop.rules.channels.isArchived(t)||!t.is_member)&&(n=null),t.is_group&&!t.is_mpim&&TS.interop.rules.channels.isArchived(t)&&(n=null),TS.interop.rules.user.canPostInChannel(t)||(n=null),!!_.trim(n)},makeMemberPreviewLinkImage:function(r,a,t,n,i,d,m){var u;if(typeof r=="object"?u=r:u=TS.redux.members.getPotentiallyUnknownMemberById(r),!u||!u.profile)return"";t=t===!0,n=n===!0||TS.utility.members.isMemberEKMRevoked(u),i=i===!0,d=d===!0,m=typeof m=="string"?m:!1,r==="USLACKBOT"&&m&&(u=TS.utility.slackbot.getWithFeels(m));var f=TS.templates.builders.getImageStyleForMemberPreviewImage(u,a,t),p={omit_link:n,omit_badge:i,lazy:t,member:u,size:a,include_restricted_overlay:!d||!0,bg_img_style:f};return TS.templates.member_preview_link_image(p)},getImageStyleForMemberPreviewImage:function(r,a,t){var n,i,d;switch(i="background-image: ",d=[],a){case 20:TS.environment.is_retina?n=r.profile.image_48:n=r.profile.image_24;break;case 24:TS.environment.is_retina?n=r.profile.image_48:n=r.profile.image_24;break;case 32:TS.environment.is_retina?n=r.profile.image_72:n=r.profile.image_32;break;case 36:TS.environment.is_retina?n=r.profile.image_72:n=r.profile.image_48;break;case 48:TS.environment.is_retina?n=r.profile.image_72:n=r.profile.image_48;break;case 72:TS.environment.is_retina?n=r.profile.image_192:n=r.profile.image_72;break;case 192:TS.environment.is_retina?n=r.profile.image_512||r.profile.image_192:n=r.profile.image_192;break;case 512:TS.environment.is_retina?n=r.profile.image_1024||r.profile.image_512||r.profile.image_192:n=r.profile.image_512||r.profile.image_192;break;default:TS.environment.is_retina?n=r.profile.image_72:n=r.profile.image_48;break}if(d.push(`url('${n}')`),a===512){var m=TS.environment.is_retina?r.profile.image_72:r.profile.image_48;d.push(`url('${m}')`)}return t?i=d.length?d.join(", "):"":i=d.length?i+d.join(", "):"",i},makePendingUserImage:function(r,a){if(!r||!a)return"";var t=48;a===36&&(t=72);var n=`/img/new_channel_modal/airplane_${t.toString()}.png`,i=`url('${vvv(n)}')`,d={restricted:r.invite_prefs&&r.invite_prefs.type==="restricted",img_url:i,size:a};return TS.templates.pending_user_image(d)},newWindowName:function(){return TS.boot_data.app==="web"||TS.boot_data.app==="calls"?"_self":`new_${s.toString()}`},strBuilder:function(r,a){return r.replace(/\${([a-z_]+)}/g,function(t,n){return n.indexOf("_html")>-1?a[n]:_.escape(a[n])})},atLabel:function(r){r==="group"&&(r="channel");var a=(_.keyBy(TS.interop.broadcast_keywords.getAllBroadcastKeywords(),"ms_name")[r]||{}).name||"channel";return`@${a}`},makeMemberTypeBadgeClass:function(r){return!TS.boot_data.page_needs_enterprise||!r.is_restricted?"":"has_member_type_badge"},makeMemberColorClass:function(r){var a="color_";return r?a+=`${r.id} color_${r.color}`:a+="unknown",a},makeMemberTypeBadgeCompact:function(r,a){if(!TS.boot_data.page_needs_enterprise)return"";typeof a!="boolean"&&(a=!1);var t={icon_class:"",with_tooltip:a,tooltip:{member_type:"",type_description:""}},n=TS.boot_data.page_needs_enterprise?TS.interop.i18n.t("organization directory","templates_builders")():TS.interop.i18n.t("workspace directory","templates_builders")();return r.isExternal?"":r.is_ultra_restricted?(t.icon_class="ts_icon_single_channel_guest",t.tooltip.member_type=TS.interop.i18n.t("Single-Channel Guests","templates_builders")(),t.tooltip.type_description=TS.interop.i18n.t("see a partial {directory_name} and can only access messages and files from the channel they belong to.","templates_builders")({directory_name:n}),TS.templates.member_type_icon(t)):r.is_restricted?(t.icon_class="ts_icon_restricted_user",t.tooltip.member_type=TS.interop.i18n.t("Multi-Channel Guests","templates_builders")(),t.tooltip.type_description=TS.interop.i18n.t("see only a partial {directory_name} and can only access messages and files from selected channels.","templates_builders")({directory_name:n}),TS.templates.member_type_icon(t)):""},getMemberTypeClass:function(r){return r.is_restricted?" ra":""},loadingHTML:function(){return TS.templates.infinite_spinner({color:"white",size:"medium"})},test:function(){var r={};return r}});var s=Date.now()})()},2112272339:()=>{(function(){TS.registerModule("templates.helpers",{onStart:function(){TS.templates.helpers.register()},register:function(){Handlebars.registerHelper("debugger",function(){debugger}),Handlebars.registerHelper("i18n_ns",function(t){if(!_.isObject(this)){TS.warn(`Cannot set i18n namespace "${t}". Chances are you\u2019ve inadvertently changed the context in a Handlebars partial to something that\u2019s not an object.`);return}this._i18n_ns&&(this._i18n_ns_history?this._i18n_ns_history.push(this._i18n_ns):this._i18n_ns_history=[this._i18n_ns]),this._i18n_ns=t}),Handlebars.registerHelper("_i18n_ns_end",function(){this._i18n_ns_history&&this._i18n_ns_history.length&&(this._i18n_ns=this._i18n_ns_history.pop())}),Handlebars.registerHelper("i18n_img",function(t){var n=t.fn(this),i=t&&t.hash&&t.hash.locales?t.hash.locales:null;return i&&(i=i.replace(/\s/g,""),i.split(",").indexOf(TS.interop.i18n.locale)>-1&&(n=n.replace(/(\..+$)/,`.${TS.interop.i18n.locale}$1`))),n}),Handlebars.registerHelper("t",function(t){var n;typeof t=="string"?(n=t,t=arguments[1]):n=t.fn();var i;t.hash.ns!==void 0?i=t.hash.ns:this._i18n_ns!==void 0?i=this._i18n_ns:i=t.data.root&&t.data.root._i18n_ns?t.data.root._i18n_ns:"";var d=this;_.isObject(d)||(d={this:d});var m={},u;_.forOwn(t.hash,function(P,O){m[O]=d[O],d[O]=Handlebars.Utils.escapeExpression(P)});var f=n.match(/{[^\s}]+}/g);if(f&&f.length){var p=o(function(P){var O=P.split(".");if(O.length>1){var I=0,q=O.length,Y=d;for(I;I<q;I+=1)if(Y=Y[O[I]],Y===void 0)return;return Y}return d[P]},"getValue"),v,S=0,k=f.length;for(S;S<k;S+=1)u=f[S].slice(1,-1),t.hash[u]===void 0&&(v=p(u),v!==void 0&&(m[u]=d[u],d[u]=Handlebars.Utils.escapeExpression(v)))}return t.hash.debug&&(TS.info("debug handlerbars t helper"),TS.info(this)),d.__handlebars=!0,n=TS.interop.i18n.t(n,i)(d),_.forOwn(m,function(P,O){d[O]=P}),n}),Handlebars.registerHelper("zdLocale",function(){return TS.interop.i18n.zdLocale()}),Handlebars.registerHelper("exampleEmail",function(t){return TS.utility.exampleEmailAddress(t)}),Handlebars.registerHelper("convertTimestampToMilliseconds",function(t){return t*1e3}),Handlebars.registerHelper("listify",function(t,n){n.hash.map&&(t=_.map(t,n.hash.map));var i=_.get(n.hash,"conjunction"),d=_.get(n.hash,"strong"),m=_.get(n.hash,"no_escape"),u=TS.interop.i18n.listify(t,{conj:i,strong:d,noEscape:m});return new Handlebars.SafeString(u.join(""))}),Handlebars.registerHelper("isClient",function(t){return TS.boot_data.app==="client"?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("isChrome",function(t){return TS.model.is_chrome_desktop||TS.model.is_chrome_mobile?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("isWeb",function(t){return TS.boot_data.app==="web"||TS.boot_data.app==="space"||TS.boot_data.app==="calls"?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("isMac",function(t){return TS.model.is_mac?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("isWin",function(t){return TS.model.is_win?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("isLin",function(t){return TS.model.is_lin?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("isOurApp",function(t){return TS.model.is_our_app?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("feature",function(t){var n=t.hash.flag;return TS.qs_args[n]==1||TS.boot_data[n]==1?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("pageNeedsEnterprise",function(t){return TS.boot_data.page_needs_enterprise?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("experiment",function(t){var n=t.hash.name,i=t.hash.group||"treatment";return TS.interop.experiments.getGroupForUser(n)===i?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("cash",function(t){var n=t.hash.all_digits||!1,i=t.hash.currency_code||"USD",d=parseInt(t.hash.value,10);return TS.interop.currency.formatCurrency(d,i,{displayTrailingZeroes:n})}),Handlebars.registerHelper("toLowerCase",function(t){return t.toLowerCase()}),Handlebars.registerHelper("initialsSafe",function(t){var n=TS.interop.rules.teams.getTeamInitials(t,{limit:2});return new Handlebars.SafeString(n)}),Handlebars.registerHelper("json",function(t){return typeof t=="object"&&t!==null&&t.name==="json"?JSON.stringify(this):JSON.stringify(t)}),Handlebars.registerHelper("currentTeamName",function(){return _.escape(_.get(TS.model.team,"name",""))}),Handlebars.registerHelper("currentTeamNameSafe",function(){return new Handlebars.SafeString(_.escape(_.get(TS.model.team,"name","")))}),Handlebars.registerHelper("isSlackbot",function(t){return TS.interop.rules.members.isSlackbot(t)}),Handlebars.registerHelper("convertFilesize",function(t){return TS.interop.utility.convertFilesize(t)}),Handlebars.registerHelper("roundToThree",function(t){return TS.utility.roundToThree(t)}),Handlebars.registerHelper("toDate",function(t){return TS.interop.datetime.formatDate(t,"{date_num}",{customFormat:"YYYY-MM-DD, LT"})}),Handlebars.registerHelper("toCalendarDate",function(t){return TS.interop.datetime.toCalendarDate(t)}),Handlebars.registerHelper("toTime",function(t,n,i){return(!t||_.isObject(t))&&(t=window.moment().unix()),TS.interop.datetime.formatDate(t,"{time}",{do24hrTime:TS.utility.date.do24hrTime(),includeMeridiem:n!==!1,includeSeconds:i===!0})}),Handlebars.registerHelper("toTimeAgo",function(t){return TS.interop.datetime.toTimeAgo(t,{alwaysAgo:!0})}),Handlebars.registerHelper("isToday",function(t,n){return TS.interop.datetime.isToday(TS.interop.datetime.toDateObject(t))?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("if_equal",function(t,n){return n=s(n),t==n.hash.compare?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("if_gt",function(t,n){return n=s(n),t>n.hash.compare?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("if_lt",function(t,n){return n=s(n),t<n.hash.compare?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("or",function(t,n,i){return i=s(i),t||n?i.fn(this):i.inverse(this)}),Handlebars.registerHelper("and",function(t,n,i){return i=s(i),t&&n?i.fn(this):i.inverse(this)}),Handlebars.registerHelper("foreach",function(t,n){return n.inverse&&!t.length?n.inverse(this):t.map(function(i,d){var m={index:d,value:i,length:t.length};return m.first=d===0,m.last=d===t.length-1,n.fn(m)}).join("")}),Handlebars.registerHelper("repeat",function(t,n){for(var i="",d=0;d<t;d+=1)i+=n.fn(d);return i}),Handlebars.registerHelper("newWindowName",TS.templates.builders.newWindowName),Handlebars.registerHelper("truncate",function(t,n){var i=truncate(t,n);return i.replace(/&#64;/g,"@")}),Handlebars.registerHelper("truncateToNearestWordBoundary",TS.utility.truncateToNearestWordBoundary),Handlebars.registerHelper("isArchived",function(t){return TS.interop.rules.channels.isArchived(t)}),Handlebars.registerHelper("memberIsUnavailable",function(t,n){return n=s(n),TS.interop.rules.members.isUnavailable(TS.redux.getState(),t)?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("isModelObExtShared",function(t,n){return TS.interop.utility.isModelObjectExternal(t)?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("shouldUseInitialsIcon",function(t,n,i){return t&&t.icon&&(t.icon.image_default||n)?i.fn(this):i.inverse(this)}),Handlebars.registerHelper("makeTeamNameList",function(t,n){if(n=n||{},n=n.hash||n,!t)return"";var i=_.map(t,m=>TS.teams.getTeamById(m)).map(m=>TS.interop.rules.teams.isUnknown(m)?TS.templates.unknown_team({id:m.id,subtler:n.subtler}):_.escape(TS.interop.rules.teams.getTeamDisplayName(m))),d=TS.interop.i18n.listify(i,{...n,noEscape:!0}).join("");if(d)return new Handlebars.SafeString(d)}),Handlebars.registerHelper("mpimMemberCount",function(t){return TS.mpims.getMemberCount(t)}),Handlebars.registerHelper("mpimDisplayName",function(t,n,i,d,m){n=n===!0,m=m===!0;var u=TS.mpims.legacyGetDisplayName(t,n,i===!0,d,m);return n||m?new Handlebars.SafeString(u):u}),Handlebars.registerHelper("currentUserId",function(){return TS.model.user.id}),Handlebars.registerHelper("makeMemberPresenceIcon",function(t){return TS.warn("Presence icons should not be used outside of the client application, because they rely on a WS connection to keep presence up to date. Rendering anyway, but be careful out there!"),new Handlebars.SafeString(TS.templates.makeMemberPresenceIcon(t))}),Handlebars.registerHelper("showDraftIcon",function(t,n){return TS.templates.builders.legacyShowDraftIcon(t)?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("makeMemberPreviewLink",function(){var t=TS.templates.builders.makeMemberPreviewLink.apply(this,arguments);return new Handlebars.SafeString(t)}),Handlebars.registerHelper("makeMemberPreviewLinkImage",function(){return new Handlebars.SafeString(TS.templates.builders.makeMemberPreviewLinkImage.apply(this,arguments))}),Handlebars.registerHelper("makePendingUserImage",function(){return new Handlebars.SafeString(TS.templates.builders.makePendingUserImage.apply(this,arguments))}),Handlebars.registerHelper("getMemberPreviewLinkImageArgs",function(t,n,i,d,m,u,f){var p;if(typeof t=="object"?p=t:p=TS.interop.members.getMemberById(t),!p||!p.profile)return"";i=i===!0,d=d===!0,m=m===!0,u=u===!0,f=typeof f=="string"?f:!1,t==="USLACKBOT"&&f&&(p=TS.utility.slackbot.getWithFeels(f));var v,S,k;switch(S="background-image: ",k=[],n){case 20:TS.environment.is_retina?v=p.profile.image_48:v=p.profile.image_24;break;case 24:TS.environment.is_retina?v=p.profile.image_48:v=p.profile.image_24;break;case 32:TS.environment.is_retina?v=p.profile.image_72:v=p.profile.image_32;break;case 36:TS.environment.is_retina?v=p.profile.image_72:v=p.profile.image_48;break;case 48:TS.environment.is_retina?v=p.profile.image_72:v=p.profile.image_48;break;case 56:TS.environment.is_retina?v=p.profile.image_192:v=p.profile.image_72;break;case 72:TS.environment.is_retina?v=p.profile.image_192:v=p.profile.image_72;break;case 192:TS.environment.is_retina?v=p.profile.image_512||p.profile.image_192:v=p.profile.image_192;break;case 512:TS.environment.is_retina?v=p.profile.image_1024||p.profile.image_512||p.profile.image_192:v=p.profile.image_512||p.profile.image_192;break;default:TS.environment.is_retina?v=p.profile.image_72:v=p.profile.image_48;break}if(k.push(`url('${v}')`),n===512){var P=TS.environment.is_retina?p.profile.image_72:p.profile.image_48;k.push(`url('${P}')`)}i?S=k.length?k.join(", "):"":S=k.length?S+k.join(", "):"";var O={omit_link:d,omit_badge:m,lazy:i,member:p,size:n,include_restricted_overlay:!u||!0,bg_img_style:S};return O}),Handlebars.registerHelper("getGuestBadgeSize",function(t){var n;switch(t){case 24:n=10;break;case 32:case 36:case 48:n=16;break;case 72:n=24;break;case 192:n=48;break;case 512:n=96;break;default:n=16}return n}),Handlebars.registerHelper("getTeamBadgeSize",r),Handlebars.registerHelper("getPrefCompliantMemberNameById",function(t){return TS.interop.rules.members.getPrefCompliantMemberNameById(t)}),Handlebars.registerHelper("getMemberComponentPrimaryName",function(t,n){return n?n==="real_name"?TS.interop.rules.members.getMemberRealName(t):TS.getMemberMentionName(t):TS.interop.rules.members.getPrefCompliantMemberName(t,!1,!1)}),Handlebars.registerHelper("memberIsInvited",function(t,n){return t&&t.is_invited_user?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("memberComponentHasSecondaryName",function(t,n,i){var d=!1;return t&&(n?n==="real_name"?d=!!TS.interop.rules.members.getMemberProfileFieldDisplayName(t):d=!!TS.interop.rules.members.getMemberRealName(t):d=!!TS.interop.rules.members.getMemberSecondaryName(t)),d&&!t.is_invited_user?i.fn(this):i.inverse(this)}),Handlebars.registerHelper("getMemberComponentSecondaryName",function(t,n){if(n){if(n==="real_name")return TS.interop.rules.members.getMemberProfileFieldDisplayName(t);if(n==="display_name")return TS.interop.rules.members.getMemberProfileFieldDisplayName(t)?TS.interop.rules.members.getMemberRealName(t):""}return TS.interop.rules.members.getMemberSecondaryName(t)}),Handlebars.registerHelper("getPrefCompliantMemberName",function(t,n,i){return TS.interop.rules.members.getPrefCompliantMemberName(t,n===!0,i===!0)}),Handlebars.registerHelper("getTeamById",function(t){return TS.teams.getTeamById(t)}),Handlebars.registerHelper("getTeamDisplayName",function(t){return TS.interop.rules.teams.isUnknown(t)?new Handlebars.SafeString(TS.templates.unknown_team({id:t.id})):TS.interop.rules.teams.getTeamDisplayName(t)}),Handlebars.registerHelper("getMemberPreviewLinkTarget",function(t){return TS.utility.shouldLinksHaveTargets()?new Handlebars.SafeString(`target="/team/${t.id}"`):""}),Handlebars.registerHelper("getMemberRealName",function(t){return TS.interop.rules.members.getMemberRealName(t)}),Handlebars.registerHelper("getMemberProfileFieldDisplayNameandRealNameInCorrectOrder",function(t){var n=_.escape(TS.interop.rules.members.getPrefCompliantMemberName(t)),i;t.is_self?i=TS.interop.i18n.t("(you)","templates_helpers")():i=_.escape(TS.interop.rules.members.getMemberSecondaryName(t));var d=`<span class="member_real_name">${n}</span>`,m=`<span class="member_preferred_name">${i}</span>`;return new Handlebars.SafeString(d+m)}),Handlebars.registerHelper("memberHasIm",function(t){var n=t.hash.member,i=!1;return n&&TS.redux.channels.getImByMemberId(n.id)&&(i=!0),i?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("memberHasImUnreadCount",function(t){var n=t.hash.member,i=!1;if(n){var d=TS.redux.channels.getImByMemberId(n.id);d&&d.unread_cnt&&(i=!0)}return i?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("getUnreadCountForIMByMemberId",function(t){var n=TS.redux.channels.getImByMemberId(t);return n?n.unread_cnt:""}),Handlebars.registerHelper("makeMemberLinksWithDisplayNames",function(t){if(!t)return"";var n=t.split(/\s*,\s*/).map(function(i){return TS.templates.builders.makeMemberPreviewLink(TS.interop.members.getMemberById(i))}).join(", ");return new Handlebars.SafeString(n)});function a(t){var n=TS.interop.members.getMemberById(t.user);if(!n)return TS.warn(`Missing member in makeIMLink: ${t.user}`),TS.templates.search_im_link({im_exists:!1,im_member_id:t.user,im_name:t.user,im_id:t.id,member_color:"unknown"});var i={im_exists:!TS.interop.rules.channels.isImWithDeletedMember(t),im_member_id:n.id,im_name:TS.ims.getDisplayNameOfUserForIm(t),im_id:t.id,member_color:`color_${n?`${n.id} color_${n.color}`:"unknown"}`};if(TS.utility.shouldLinksHaveTargets()){var d=`/messages/${t.id}`;TS.interop.rules.channels.isImWithDeletedMember(t)&&(d=TS.templates.builders.newWindowName()),i.target=d}return TS.templates.search_im_link(i)}o(a,"makeIMLink"),Handlebars.registerHelper("makeIMLink",function(t){return new Handlebars.SafeString(a(t))}),Handlebars.registerHelper("currentUserIsOwner",function(t){return TS.model.user.is_owner?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("tinyspeck",function(t){return t.inverse(this)}),Handlebars.registerHelper("math",function(t,n,i){return arguments.length<4&&(i=n,n="+"),t=parseFloat(t),i=parseFloat(i),{"+":t+i,"-":t-i,"*":t*i,"/":t/i,"%":t%i}[n]}),Handlebars.registerHelper("loadingHTML",function(){return new Handlebars.SafeString(TS.templates.builders.loadingHTML())}),Handlebars.registerHelper("versioned_loading_animation",function(){return cdn_url+"/80588/img/loading.gif"}),Handlebars.registerHelper("versioned_upload_file_icon",function(t){if(t==="1x")return cdn_url+"/80588/img/upload_file_icon.png";if(t==="2x")return cdn_url+"/80588/img/upload_file_icon@2x.png"}),Handlebars.registerHelper("versioned_default_application_icon",function(){return cdn_url+"/80588/img/apps/default_new_app_icon.png"}),Handlebars.registerHelper("versioned_tos_book_illustration",function(t){if(t==="1x")return cdn_url+"/80588/img/signup/book_illustration.png";if(t==="2x")return cdn_url+"/80588/img/signup/book_illustration@2x.png"}),Handlebars.registerHelper("number",function(t){return _.isUndefined(t)?"":TS.interop.i18n.number(t)||""}),Handlebars.registerHelper("atLabel",function(t){return TS.templates.builders.atLabel(t)}),Handlebars.registerHelper("getMemberTypeClass",TS.templates.builders.getMemberTypeClass),Handlebars.registerHelper("dangerouslyRenderHTML",function(t){return new Handlebars.SafeString(t)}),Handlebars.registerHelper("getTeamIconOfSize",function(t,n){return t&&t.icon?t.icon[`image_${n}`]:null}),Handlebars.registerHelper("getIconSizeToFit",function(t){return TS.interop.utility.getIconSizeToFit(t,[230,132,102,88,68,44,34])}),Handlebars.registerHelper("escape",function(t){return _.escape(t)})},test:function(){return{_optionsFnInverseBooleanHelper:s}}});var s=o(function(a){return typeof a.fn!="function"&&(a.fn=function(){return!0}),typeof a.inverse!="function"&&(a.inverse=function(){return!1}),a},"_optionsFnInverseBooleanHelper"),r=o(function(a){var t;switch(a){case 32:case 36:case 48:t=16;break;case 72:t=22;break;case 192:case 512:break;default:t=16}return t},"_getTeamBadgeSize")})()},3592604942:()=>{(function(){TS.registerModule("templates",{onStart:function(){a(),TS.members&&TS.members.user_color_changed_sig.add(TS.templates.memberUserColorChanged,TS.templates),TS.prefs&&TS.prefs.sidebar_behavior_changed_sig.add(TS.templates.sidebarBehaviorPrefChanged,TS.templates),TS.environment.retina_changed_sig.add(s)},makeMemberPresenceDomClass:function(n){return`member_presence_${n}`},makeMemberPresenceStateClass:function(n){var i=TS.redux.presence.getPresenceByMemberId(n.id);return i},makeMemberPresenceIcon:function(n){if(n.deleted)return"";var i=TS.templates.makeMemberPresenceDomClass(n.id),d="ts_icon_presence",m=TS.redux.presence.getPresenceByMemberId(n.id),u=m==="active"?TS.interop.i18n.t("active","templates_helpers")():TS.interop.i18n.t("away","templates_helpers")();n.is_ultra_restricted?(i+=" ura",d="ts_icon_presence_ura"):n.is_restricted?(i+=" ra",d="ts_icon_presence_ra"):TS.interop.rules.members.isExternal(n)?(i+=" external",d="ts_icon_presence_external"):n.is_slackbot&&(d="ts_icon_heart");var f=`<i aria-hidden="true" class="ts_icon ${d} presence_icon"></i>`,p=TS.templates.makeMemberPresenceStateClass(n),v=`<span data-member-presence="${n.id}" class="presence ${p} ${i}" title="${u}">${f}</span>`;return v},memberUserColorChanged:function(n){var i=`color_${n.id}`;if(n.color==n.member_color){var d=`color_rule_${i}`,m=$(`#${d}`);m.remove();return}TS.templates.makeUserColorRule(n)},makeUserColorRule:function(n){var i=`color_${n.id}`,d=`#${_.escape(n.member_color)}`,m;m=`            .${i}:not(.nuc) {                color:${d};            }        `;var u=`color_rule_${i}`,f=$(`#${u}`);f.length?f.text(m):$(`<style type="text/css" id="${u}">${m}</style>`).appendTo("body")},sidebarBehaviorPrefChanged:function(){TS.templates.makeSidebarBehaviorRule()},makeSidebarBehaviorRule:function(){var n,i="sidebar_behavior",d=$(`#${i}`);TS.prefs.getPref("sidebar_behavior")==="hide_read_channels"?n="				.channels_list_holder ul li:not(.unread):not(.active):not(.show_in_list_even_though_no_unreads) {					display: none;			}":TS.prefs.getPref("sidebar_behavior")==="hide_read_channels_unless_starred"&&(n="				.channels_list_holder div:not(#starred_div)>ul li:not(.unread):not(.active):not(.is_starred):not(.show_in_list_even_though_no_unreads) {					display: none;			}"),n?d.length?d.text(n):$(`<style type="text/css" id="${i}">${n}</style>`).appendTo("head"):$(`#${i}`).remove()}});var s=o(function(){var n,i,d,m;$(".member_image").each(function(){m=$(this),n=m.data("member-id"),i=m.data("thumb-size"),d=!m.is("a"),n&&i&&$(this).replaceWith(TS.templates.builders.makeMemberPreviewLinkImage(n,i,!1,d))}),m=null},"_redrawRetinaAssets"),r=/{{\s*i18n_ns\s*('|")[a-zA-Z0-9]+('|")\s*}}/,a=o(function(){Object.keys(TS.raw_templates).forEach(function(n){TS.templates[n]=t(n,TS.raw_templates[n]),TS.raw_template_paths||(TS.raw_template_paths={},TS.interop.utility.getLogger({getState:TS.redux.getState}).error("MISSING_RAW_TEMPLATE_PATHS")),TS.templates[`${n}_path`]=TS.raw_template_paths[n],Handlebars.registerPartial(n,TS.templates[n])}),delete TS.raw_templates},"_load"),t=o(function(n,i){if(!i)return TS.warn(`${n} was passed no html`),null;r.test(i)&&(i+=" {{_i18n_ns_end}}");var d=Handlebars.compile(i);return function(m){m=m||{};var u=!1,f=!1,p=TS.interop.experiments.getGroupForUser("jira_newxp_2040");if(p==="variant"){var v=Math.floor(Math.random()*1e5);u=v==1,TS.templates_to_audit&&TS.templates_to_audit.includes(n)&&(u=!0,f=!0)}if(u)try{var S={contexts:{ui_context:{action:"impression",ui_properties:{element_name:`${n}.hbs`}}}};!TS.interop.environment.isDev&&!TS.interop.environment.isQa&&TS.interop.clog.track("HANDLEBARS_TEMPLATE_LOGS",S);var k=/\/[A-Z0-9-.]*\//g,P=window.location.pathname.replace(k,"/#####/"),O=new Error;O.fileName=TS.templates[`${n}_path`],O.message=`${P} ${window.location.hash}`,O.stack="";var I="HANDLEBARS_TEMPLATE_LOGS";f&&(I="HANDLEBARS_TEMPLATE_LOGS_AUDIT"),TS.interop.utility.getLogger({getState:TS.redux.getState}).error(O,I,{subtype:n})}catch{}return d(m)}},"_compile")})()},4421161189:()=>{(function(){TS.registerModule("tips",{onStart:function(){s.delegate(".ts_tip_lazy, .ts_tip_float","mouseenter",m),s.delegate(".ts_tip_float","mouseleave",u),s.on("click",".ts_tip",function(){v($(this))})},hideAll:function(){$(".ts_tip").addClass("ts_tip_hide")},unhideAll:function(){$(".ts_tip").removeClass("ts_tip_hide")},updateTipTitle:function(O,I){var q=S(O);q.length?q.html(I):O.attr("title",I),a&&a[0]==O[0]&&(I?(n.html(I),p()):f())}});var s=$("BODY"),r=null,a=null,t=null,n=null,i=10,d=0,m=o(function(O){a=$(O.currentTarget);var I=a.hasClass("ts_tip_multiline");if(a.addClass("ts_tip_hidden"),a.children(".ts_tip_tip").length==0&&P(a,I),a.removeAttr("title"),a.removeClass("ts_tip_lazy"),$("#ts_tip_float_floater").remove(),a.hasClass("ts_tip_float")){var q=a.attr("class").split(/\s+/).filter(function(F){return F==="ts_tip_float"||F==="ts_tip_lazy"?!1:F.indexOf("ts_tip")===0}),Y=TS.templates.builders.strBuilder('<div id="ts_tip_float_floater" style="width:${w}px; height:${h}px;" class="${classes}">${tip_html}</div>',{w:a.outerWidth(),h:a.outerHeight(),classes:q.join(" "),tip_html:a.find(".ts_tip_tip").clone()[0].outerHTML});t=$(Y),s.append(t),d=setTimeout(function(){t.removeClass("ts_tip_hidden"),p()},i),r=a.closest(":scrollable(vertical)"),r.on("scroll.ts_tip_removal",f),a.on("destroyed.ts_tip_removal",f),a.hasClass("ts_tip_hide_on_click")&&a.on("click.ts_tip_removal",f),I?n=t.find(".ts_tip_multiline_inner"):(n=t.find(".ts_tip_tip_inner"),n.length||(n=t.find(".ts_tip_tip")))}else setTimeout(function(){a.removeClass("ts_tip_hidden")},i)},"_onMouseEnter"),u=o(function(){f()},"_onMouseLeave"),f=o(function(){clearTimeout(d),t&&t.addClass("ts_tip_hidden"),a&&a.length&&(a.off("click.ts_tip_removal"),a.off("destroyed.ts_tip_removal")),r&&r.off("scroll.ts_tip_removal"),r=null,a=null,t=null,n=null},"_hideFloater"),p=o(function(){var O=a.offset(),I=2,q=window.innerWidth-I,Y=window.innerHeight-I,F=t.hasClass("ts_tip_multiline"),H=o(function(){return F?t.find(".ts_tip_multiline_inner").dimensions_rect():t.find(".ts_tip_tip").dimensions_rect()},"getRect"),te=o(function(A){t.removeClass("			ts_tip_right 			ts_tip_rightish 			ts_tip_left 			ts_tip_leftish 			ts_tip_multiline_top_leftish 			ts_tip_multiline_top_left 			ts_tip_multiline_top_right 			ts_tip_multiline_top_rightish 		").addClass(A)},"setHorizontalPositionClass");t.css("left",O.left).css("top",O.top);var c=H();c.bottom>Y?t.removeClass("ts_tip_bottom").addClass("ts_tip_top"):c.top<I&&t.removeClass("ts_tip_top").addClass("ts_tip_bottom"),F?(c.right>q?te("ts_tip_multiline_top_rightish"):c.left<I&&te("ts_tip_multiline_top_leftish"),c=H(),c.right>q?te("ts_tip_multiline_top_right"):c.left<I&&te("ts_tip_multiline_top_left")):(c.right>q?te("ts_tip_rightish"):c.left<I&&te("ts_tip_leftish"),c=H(),c.right>q?te("ts_tip_right"):c.left<I&&te("ts_tip_left"))},"_positionFloater"),v=o(function(O){var I=S(O),q="tip-toggle-auto",Y;if(O.data(q)?Y=O:I.data(q)&&(Y=I),!!(Y&&Y.length)){var F=I.html(),H=Y.data(q);if(!H)return TS.warn("No toggle state text defined on tipped element. Please add text to data-tip-toggle-text or data-tip-toggle-auto attribute");TS.tips.updateTipTitle(O,H),Y.data(q,F)}},"_toggleTipTitle"),S=o(function(O){var I=O.find(".ts_tip_multiline_inner");return I.length||(I=O.find(".ts_tip_tip_inner")),I.length||(I=O.find(".ts_tip_tip")),I},"_getTipEl"),k=o(function(O){if(!O.text().trim().length&&!O.attr("aria-label"))return _.uniqueId("ts_tip_tip_")},"_possiblyMakeLabelId"),P=o(function(O,I){var q="";if(O.data("tip-member"))q=TS.templates["c-unified_member"]({member:TS.interop.members.getMemberById(O.data("tip-member")),size:"small",avatar:!0,no_tip:!0,dark:!0,omit_status:!0,forced_primary:"real_name"});else{var Y=_.escape(O.prop("title")),F=k(O),H=F?` id="${F}"`:"";q=I?`<span class="ts_tip_multiline_inner">${Y}</span>`:Y}var te=["<span",H,' class="ts_tip_tip"',">",q,"</span>"];O.append(te.join("")),O.attr("aria-labelledby",F)},"_buildDom")})()},8293793871:()=>{(function(){TS.registerModule("ui.a11y",{unread_message_strings:{},$aria_live_div:null,zoom_level_changed_sig:new signals.Signal,onStart:function(){t(),u(),p(),TS.channels.switched_sig.add(TS.ui.a11y.annouceCurrentChannelOrImOrGroup),TS.ims.switched_sig.add(TS.ui.a11y.annouceCurrentChannelOrImOrGroup),TS.groups.switched_sig.add(TS.ui.a11y.annouceCurrentChannelOrImOrGroup),TS.mpims.switched_sig.add(TS.ui.a11y.annouceCurrentChannelOrImOrGroup),$(document).on("focus","input[placeholder],textarea[placeholder]",function(P){a($(P.target))}),$(document).on("blur","input[placeholder],textarea[placeholder]",function(P){a($(P.target))})},focusAndAddTabindex:function(P){P&&(P.attr("tabindex")&&P.data("previous-tabindex",P.attr("tabindex")),P.attr("tabindex","0"),P.focus())},ariaLiveAnnounce:function(P,O){TS.ui.a11y.$aria_live_div.empty(),TS.ui.a11y.$aria_live_div.attr("aria-live",O?"assertive":"polite"),TS.ui.a11y.$aria_live_div.text(P)},assembleActiveModelName:function(){var P=TS.shared.legacyGetActiveModelOb(),O;if(!P)return"";if(P.is_channel)O=TS.interop.i18n.t("Channel #{model_name}","a11y")({model_name:P.name});else if(P.is_im)O=TS.interop.i18n.t("Direct message with {model_name}","a11y")({model_name:TS.interop.rules.members.getPrefCompliantMemberNameById(P.user)});else if(P.is_mpim)O=TS.interop.i18n.t("Direct message with {model_name}","a11y")({model_name:TS.mpims.legacyGetDisplayName(P)});else if(P.is_group)O=TS.interop.i18n.t("Private Channel {model_name}","a11y")({model_name:P.name});else return"";return O},annouceCurrentChannelOrImOrGroup:function(){var P=TS.ui.a11y.assembleActiveModelName(),O=P,I=TS.shared.legacyGetActiveModelOb();I&&(TS.ui.a11y.unread_message_strings[I.name]&&(O+=`, ${TS.ui.a11y.unread_message_strings[I.name]}`,delete TS.ui.a11y.unread_message_strings[I.name]),TS.ui.a11y.ariaLiveAnnounce(O,!0))},getContrastColor:function(P){var O=!1;if(P=P.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(H,te,c,A){return te+te+c+c+A+A}),P=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(P),P){var I=parseInt(P[1],16),q=parseInt(P[2],16),Y=parseInt(P[3],16),F=(I*299+q*587+Y*114)/1e3;O=F>=128?"#000000":"#FFFFFF"}return O},test:function(){return{createAriaLiveElement:t,destroyAriaLiveElement:n,getMessageInputElement:i,getMessageDivElement:d}}});var s={70:"-3",80:"-2",90:"-1",normal:"0",110:"1",125:"2",150:"3"},r=Object.keys(s).reduce(function(P,O){return P[s[O]]=O,P},{}),a=o(function(P){var O=P.attr("placeholder"),I=P.attr("aria-label")||"",q=!!I.length,Y=!!P.val().trim().length;if(Y&&!q&&O.length){P.attr("aria-label",O);return}!Y&&q&&I==O&&P.removeAttr("aria-label")},"_labelWithPlaceholder"),t=o(function(){return TS.ui.a11y.$aria_live_div=$('<div id="aria_live_announcer" role="status"></div>'),$("body").append(TS.ui.a11y.$aria_live_div),TS.ui.a11y.$aria_live_div},"_createAriaLiveElement"),n=o(function(){TS.ui.a11y.$aria_live_div.remove(),delete TS.ui.a11y.$aria_live_div},"_destroyAriaLiveElement"),i=o(function(){return $()},"_getMessageInputElement"),d=o(function(){return $()},"_getMessageDivElement"),m,u=o(function(){TS.model.is_electron&&(m=TS.interop.desktop.getZoom(),$(window).on("resize",f))},"_bindResizeListener"),f=o(function(){var P=TS.interop.desktop.getZoom();m!=P&&(m=P,TS.ui.a11y.zoom_level_changed_sig.dispatch({zoom_level:P}))},"_onResize"),p=o(function(){TS.model.is_electron&&($("body").append('<div class="zoom_level_indicator hidden"></div>'),TS.ui.a11y.zoom_level_changed_sig.add(k))},"_createZoomLevelIndicatorUI"),v=o(function(P){var O=r[P]||"100",I=O==="normal"?"100":O,q=TS.interop.i18n.t("zoom: <strong>{zoom_percentage}%</strong>","a11y")({zoom_percentage:I});$(".zoom_level_indicator").html(q)},"_setZoomLevel"),S,k=o(function(P){if(!$("body").hasClass("loading")){var O=$(".prefs_modal.active");if(!(O.length&&O.find(".a11y_pref_zoom").length)){S&&(clearTimeout(S),S=null),v(P.zoom_level);var I=$(".zoom_level_indicator");I.insertAfter(document.body.lastElementChild),I.removeClass("hidden").show(0);var q=I.outerWidth()/2,Y=`calc(50vw - ${q}px)`;I.css("left",Y),S=setTimeout(function(){I.fadeOut(100)},1e3)}}},"_showZoomLevel")})()},2083408393:()=>{(function(){TS.registerModule("ui.admin_edit_team_profile",{onStart:function(){$("body").on("click",'[data-action="edit_team_profile_modal"]',TS.ui.admin_edit_team_profile.start)},start:function(){ne()&&i()}});var s,r,a,t=[],n=50,i=o(function(){var x={body_template_html:TS.templates.admin_edit_team_profile_modal(),onShow:d,onCancel:m};TS.ui.fs_modal.start(x)},"_start"),d=o(function(){s=$("#edit_team_profile_container"),r=$("body"),s.on("click",'[data-action="edit_team_profile_to_custom"]',c),s.on("click",'[data-action="edit_team_profile_to_add"]',te),s.on("click",'[data-action="edit_team_profile_to_edit"]',A),s.on("click",'[data-action="edit_team_profile_to_hide"]',re),s.on("click",'[data-action="edit_team_profile_to_delete"]',J),s.on("click",'[data-action="edit_team_profile_cancel"]',H),s.on("click",'[data-action="edit_team_profile_confirm_edit"]',O),s.on("click",'[data-action="edit_team_profile_confirm_hide"]',S),s.on("click",'[data-action="edit_team_profile_confirm_delete"]',v),s.on("click",'[data-action="edit_team_profile_remove_option"]',j),s.on("click",'[data-action="edit_team_profile_add_option"]',X),s.on("focusin",'[data-action="edit_team_profile_update_preview_label"], [data-action="edit_team_profile_update_preview_hint"], .option_header_row + .option_row [data-action="edit_team_profile_update_preview_option"]',U),s.on("focusout",'[data-action="edit_team_profile_update_preview_label"], [data-action="edit_team_profile_update_preview_hint"], .option_header_row + .option_row [data-action="edit_team_profile_update_preview_option"]',h),s.on("input",'[data-action="edit_team_profile_update_preview_label"], [data-action="edit_team_profile_update_preview_hint"], .option_header_row + .option_row [data-action="edit_team_profile_update_preview_option"]',y),s.on("click",'[data-action="edit_team_profile_list_menu"]',B),s.on("input","input",me),r.on("keydown.admin_submit",u),f().then(H).catch(TS.error)},"_onShow"),m=o(function(){ce(!0),s=null,t=[],a=null,r.off("keydown.admin_submit"),r=null},"_onCancel"),u=o(function(x){if(x.which==TS.utility.keymap.enter)return $(a).find('button[type="submit"]').trigger("click"),!1},"_onKeydown"),f=o(function(){return TS.team.ensureTeamProfileFields()},"_ensureProfile"),p=o(function(x,l){if(x)return TS.interop.api.call(x,l).then(function(g){return x==="team.profile.delete"?TS.interop.members.deleteProfileFields(TS.model.team.id,JSON.parse(l.profile).fields):x==="team.profile.reorder"?TS.interop.teams.reorderTeamProfileFields(TS.model.team.id,_.get(g,"data.profile.fields")):TS.interop.members.updateProfileFields(TS.boot_data.team_id,_.get(g,"data.profile.fields")),Promise.resolve(g)},function(g){return Promise.reject(g)})},"_apiCall"),v=o(function(x){var l=$(x.target),g=l.data("id");if(g||(l=l.closest("[data-id]")),g=l.data("id"),!!g){var b=TS.team.getTeamProfileFieldById(g);b&&I("team.profile.delete",[g]).then(H,_.noop)}},"_deleteField"),S=o(function(x){P(x,!0)},"_hideField"),k=o(function(x){P(x,!1)},"_showField"),P=o(function(x,l){var g=$(x.target),b=g.data("id");if(b||(g=g.closest("[data-id]")),b=g.data("id"),!b)return;var M=TS.team.getTeamProfileFieldById(b);if(!M)return;M=$.extend({},M),M.is_hidden=l,l&&(M.ordering=M.ordering||C());function Z(){H(),ae(b)}o(Z,"resolve"),I("team.profile.set",[M]).then(Z,_.noop)},"_hideOrShowField"),O=o(function(x){var l=s.find("#edit_team_profile_edit");if(!TS.ui.validation.validate(l,{quiet:!0,fast:!0})){TS.ui.validation.validate(l),Ladda.stopAll(),$("#edit_team_profile_confirm_edit_btn").addClass("disabled");return}var g=$(x.target),b=g.data("id");b||(g=g.closest("[data-id], [data-type]")),b=g.data("id");var M=s.find('input[name="label"]'),Z=s.find('input[name="hint"]'),V=TS.team.getTeamProfileFieldById(b)||{},_e=JSON.stringify(V);V=$.extend({},V),V.type=V.type||g.data("type")||"text",V.label=M.val().trim(),V.hint=Z.val().trim(),V.ordering=V.ordering||C(),V.type==="options_list"&&(V.possible_values=s.find('input[name^="option_"]').map(function(){return $(this).val().trim()}).toArray());function fe(){H(),ae(b)}o(fe,"resolve"),JSON.stringify(V)==_e?(fe(),Ladda.stopAll()):I("team.profile.set",[V]).then(fe,_.noop)},"_editField"),I=o(function(x,l){l=l&&l.length?l:TS.model.team.profile.fields;var g={profile:JSON.stringify({fields:l})};return p(x,g).catch(function(b){if(b.data.error==="no_perms"||b.data.error==="missing_scope"){var M=TS.boot_data.page_needs_enterprise,Z=M?TS.interop.i18n.t("Sorry! An organization owner or admin is required to update this setting.","team_profile","21d269f8b1a2802d90b32308195ac5b67c9413f6")():TS.interop.i18n.t("Sorry! An owner in your workspace has restricted who can customize your members\u2019 profile.","team_profile")();TS.generic_dialog.start({body:Z,show_cancel_button:!1,esc_for_ok:!0,fullscreen:!1,onEnd:TS.ui.fs_modal.close})}else return b.data.error==="field_bad_order"?(TS.error(`Failed to create profile field: ${b.data.error}`),TS.generic_dialog.alert(TS.interop.i18n.t("Apologies, but the maximum number of profile fields you can add is {max_no_of_fields, number}. Please remove some existing fields if you\u2019d like to add different ones.","team_profile")({max_no_of_fields:n}))):(TS.error(`Failed to customize profile: ${b.data.error}`),TS.generic_dialog.alert(TS.interop.i18n.t("Sorry! Something went wrong. Please try again.","team_profile")()))}).finally(Ladda.stopAll)},"_saveProfile"),q=o(function(){return(TS.model.team.profile.fields||[]).some(x=>x.field_name==="title"&&x.options&&x.options.is_scim)},"_shouldHideDefaultTitle"),Y=o(function(){return TS.interop.experiments.getGroupForUser("rimeto_profile_show_default_phone_webapp")==="on"?!1:(TS.model.team.profile.fields||[]).some(x=>x.field_name==="primaryPhone"&&x.options&&x.options.is_scim)},"_shouldHideDefaultPhone"),F=o(function(){return TS.prefs.getTeamPref("display_pronouns")},"_shouldShowPronounField"),H=o(function(){t.length=0,t.push({back:H});var x={};x.team_profile_fields=ie(),x.hidden_team_profile_fields=ue(),x.default_team_profile_fields=le(),x.hide_default_title=q(),x.hide_default_phone=Y(),x.show_pronoun_field=F();var l=TS.templates.admin_edit_team_profile_list(x);s.find("#edit_team_profile_header").text(TS.interop.i18n.t("Customize profile","team_profile")()).removeClass("hidden center_and_narrow");var g;TS.model.team.profile&&TS.model.team.profile.fields.length>=50?g=`<div class="alert alert_info"><i class="ts_icon ts_icon_info_circle"></i>${TS.interop.i18n.t("You have reached the maximum number of fields that can be added to profiles.","team_profile")()}</div>`:g=TS.interop.i18n.t("Expand your members\u2019 profiles by adding additional fields below","team_profile")(),s.find("#edit_team_profile_value_note").html(g).removeClass("hidden center_and_narrow"),s.find("#edit_team_profile_list").html(l),K("#edit_team_profile_list"),R(),Q(),ce(!0)},"_switchToList"),te=o(function(){t.push({back:te});var x={};x.default_team_profile_fields=le();var l=TS.templates.admin_edit_team_profile_add(x);s.find("#edit_team_profile_header").text(TS.interop.i18n.t("Select a field type","team_profile")()).removeClass("center_and_narrow"),s.find("#edit_team_profile_value_note").addClass("hidden"),s.find("#edit_team_profile_add").html(l),K("#edit_team_profile_add"),Q(),ce()},"_switchToAdd"),c=o(function(){t.push({back:c});var x=TS.templates.admin_edit_team_profile_custom();s.find("#edit_team_profile_header").text(TS.interop.i18n.t("Create a new field","team_profile")()).removeClass("center_and_narrow"),s.find("#edit_team_profile_value_note").text(TS.interop.i18n.t("Which type of field would you like to create?","team_profile")()).removeClass("hidden center_and_narrow"),s.find("#edit_team_profile_custom").html(x),K("#edit_team_profile_custom"),Q(),ce(),w()},"_switchToCustom"),A=o(function(x){var l=$(x.target);if(l.hasClass("ts_icon_grabby_patty"))return!1;var g=l.data("id");g||(l=l.closest("[data-id], [data-type]")),g=l.data("id");var b={},M;if(!g)b.type=l.data("type"),b.label=l.data("label"),M=TS.interop.i18n.t("Customize profile field","team_profile")();else{if(b=TS.team.getTeamProfileFieldById(g),!b)return;M=TS.interop.i18n.t("Edit profile field","team_profile")()}x.stopPropagation(),t.push({back:A,event:x});var Z=TS.templates.admin_edit_team_profile_edit(b);s.find("#edit_team_profile_header").text(M).removeClass("center_and_narrow"),s.find("#edit_team_profile_value_note").addClass("hidden"),s.find("#edit_team_profile_edit").html(Z),K("#edit_team_profile_edit"),L(),z(),w(),Ladda.bind("#edit_team_profile_confirm_edit_btn"),Q(),ce(),me()},"_switchToEdit"),re=o(function(x){var l=$(x.target),g=l.data("id");if(g||(l=l.closest("[data-id]")),g=l.data("id"),!!g){var b=TS.team.getTeamProfileFieldById(g);if(b){x.stopPropagation(),t.push({back:re,event:x});var M=TS.templates.admin_edit_team_profile_hide({id:b.id,can_delete:!_.get(b,"options.is_scim",!1)}),Z=TS.interop.i18n.t('Hide "{field_label}"',"team_profile")({field_label:b.label});s.find("#edit_team_profile_header").text(Z).addClass("center_and_narrow");var V=TS.interop.i18n.t("All data entered for this field will no longer be visible on your members\u2019 profiles. You can un-hide it later.","team_profile")();s.find("#edit_team_profile_value_note").text(V).addClass("center_and_narrow").removeClass("hidden"),s.find("#edit_team_profile_hide").html(M),K("#edit_team_profile_hide"),Ladda.bind("#edit_team_profile_confirm_hide_btn"),ee(),ce()}}},"_switchToHide"),J=o(function(x){var l=$(x.target),g=l.data("id");if(g||(l=l.closest("[data-id]")),g=l.data("id"),!!g){var b=TS.team.getTeamProfileFieldById(g);if(b){x.stopPropagation(),t.push({back:J,event:x});var M=TS.templates.admin_edit_team_profile_delete(b),Z=TS.interop.i18n.t('Delete "{field_label}"',"team_profile")({field_label:b.label});s.find("#edit_team_profile_header").text(Z).addClass("center_and_narrow");var V=TS.interop.i18n.t("<strong>Are you sure?</strong> All data associated with this field will be permanently deleted. This <strong>cannot be undone</strong>.","team_profile")();s.find("#edit_team_profile_value_note").html(V).addClass("center_and_narrow").removeClass("hidden"),s.find("#edit_team_profile_delete").html(M),K("#edit_team_profile_delete"),Ladda.bind("#edit_team_profile_confirm_delete_btn"),ee(),ce()}}},"_switchToDelete"),ee=o(function(){s.closest(".contents").addClass("display_flex flex_direction_column").css("height","70vh"),s.css({margin:"auto 0",height:"auto","padding-top":0})},"_flexContentsAndCenter"),Q=o(function(){s.closest(".contents").removeClass("display_flex flex_direction_column").css("height",""),s.css({margin:"",height:"","padding-top":""})},"_unflexContentsAndCenter"),ne=o(function(){if(!TS.model.team)return!1;var x=TS.model.user;return x?TS.prefs.getTeamPref("who_can_change_team_profile")==="admin"?x.is_admin:TS.prefs.getTeamPref("who_can_change_team_profile")==="owner"?x.is_owner:!0:!1},"_userCanEditTeamProfile"),ce=o(function(x){x?(TS.ui.fs_modal.unbindBackButton(),TS.ui.fs_modal.hideBackButton()):(TS.ui.fs_modal.bindBackButton(function(){t.pop();var l=t.pop();l.back(l.event)}),TS.ui.fs_modal.showBackButton())},"_updateBackButton"),L=o(function(){var x=s.find(".option_row");x.length>=3?x.addClass("show_remove_action"):x.removeClass("show_remove_action")},"_maybeShowOptionRemoveAction"),z=o(function(){y({target:s.find('.option_header_row + .option_row [data-action="edit_team_profile_update_preview_option"]')})},"_maybeUpdateOptionPreviewValue"),j=o(function(x){$(x.target).closest(".row.option_row").remove(),me(),L(),z(),N()},"_removeOption"),X=o(function(){var x=TS.templates.admin_edit_team_profile_option_row({index:s.find(".row.option_row").length});s.find("#option_rows").append(x).find(".row.option_row").last().find("input").focus(),me(),L(),N()},"_addOption"),N=o(function(){s.find(".row.option_row").length===50?s.find('[data-action="edit_team_profile_add_option"]').addClass("hidden").next().removeClass("hidden"):s.find('[data-action="edit_team_profile_add_option"]').removeClass("hidden").next().addClass("hidden")},"_maybeUpdateAddOptionAction"),y=o(function(x){var l=$(x.target),g=l.val();g&&(g=g.trim()),g!==void 0&&!g.length&&(g=l.data("default")),s.find(`.profile_field_preview [data-id="${l.data("target")}"]`).text(g)},"_updatePreviewValue"),U=o(function(x){var l=s.find(`.profile_field_preview [data-id="${$(x.target).data("target")}"]`),g=l.closest("select");g.length&&(l=g),l.addClass("highlight_yellow_bg")},"_decoratePreview"),h=o(function(x){var l=s.find(`.profile_field_preview [data-id="${$(x.target).data("target")}"]`),g=l.closest("select");g.length&&(l=g),l.removeClass("highlight_yellow_bg")},"_undecoratePreview"),w=o(function(){var x=s.find(".edit_team_profile_lazy_filter_select");if(x.length){var l="USLACKBOT",g={append:!0,classes:"disabled",preselected_ids:[l]};TS.ui.people_picker.make(x,g)}},"_makePeoplePicker"),R=o(function(){s.find("#edit_team_profile_list_drag_and_drop_area").sortable({items:".visible_row[data-id]",handle:".ts_icon_grabby_patty",forcePlaceholderSize:!0}).on("sortupdate",function(x){x.stopPropagation();var l=[];$(this).find(".row[data-id]").each(function(b){var M=TS.team.getTeamProfileFieldById($(this).data("id"));M&&M.ordering!=b&&(M.ordering=b,l.push({id:M.id,ordering:b}))});var g=TS.team.sortTeamProfileFieldsByOrdering(TS.model.team.profile.fields);TS.redux.teams.upsertTeam(_.assign({},TS.model.team,{profile:{fields:g}})),I("team.profile.reorder",l)})},"_enableDragAndDrop"),C=o(function(){return TS.model.team.profile.fields.length?_.max(TS.model.team.profile.fields.map(function(x){return x.ordering}))+1:0},"_makeOrdering"),B=o(function(x){x.stopPropagation();var l=$(x.target).closest("[data-id]").get(0),g={};g.is_scim=$(x.target).closest("[data-is-scim]").data("is-scim");var b=jQuery.Event("click",{target:l,currentTarget:l});TS.menu.startWithEditTeamProfileListActions(b,G,g)},"_openListMenu"),G=o(function(x){x.preventDefault();var l=$(x.target).closest("[data-id]");l.is('[data-action="edit_team_profile_to_show"]')?k(x):l.is('[data-action="edit_team_profile_to_hide"]')?re(x):l.is('[data-action="edit_team_profile_to_delete"]')&&J(x),TS.menu.end()},"_onListMenuClick"),K=o(function(x){var l=["#edit_team_profile_loading","#edit_team_profile_list","#edit_team_profile_add","#edit_team_profile_custom","#edit_team_profile_edit","#edit_team_profile_hide","#edit_team_profile_delete"].filter(function(g){return g!==x}).join(", ");s.find(l).addClass("hidden"),s.find(x).removeClass("hidden"),a=x},"_hideAllSectionsBut"),ie=o(function(){var x=TS.team.getVisibleTeamProfileFields();return x.length?x:null},"_getVisibleTeamProfileFields"),ue=o(function(){var x=TS.team.getHiddenTeamProfileFields();return x.length?x:null},"_getHiddenTeamProfileFields"),oe=o(function(){return TS.model.team.profile.fields.reduce(function(x,l){return x[l.label.toLowerCase()]=!0,x},{})},"_getLabelsMap"),le=o(function(){var x=oe(),l=[{type:"text",label:TS.interop.i18n.t("Address","team_profile")()},{type:"date",label:TS.interop.i18n.t("Birthdate","team_profile")()},{type:"user",label:TS.interop.i18n.t("Direct Reports","team_profile")()},{type:"link",label:TS.interop.i18n.t("Facebook","team_profile")()},{type:"link",label:TS.interop.i18n.t("Flickr","team_profile")()},{type:"link",label:TS.interop.i18n.t("GitHub","team_profile")()},{type:"link",label:TS.interop.i18n.t("Instagram","team_profile")()},{type:"link",label:TS.interop.i18n.t("LinkedIn","team_profile")()},{type:"user",label:TS.interop.i18n.t("Manager","team_profile")()},{type:"link",label:TS.interop.i18n.t("Pinterest","team_profile")()},{type:"text",label:TS.interop.i18n.t("Skype","team_profile")()},{type:"link",label:TS.interop.i18n.t("SoundCloud","team_profile")()},{type:"date",label:TS.interop.i18n.t("Start Date","team_profile")()},{type:"link",label:TS.interop.i18n.t("Tumblr","team_profile")()},{type:"link",label:TS.interop.i18n.t("Twitter","team_profile")()},{type:"link",label:TS.interop.i18n.t("YouTube","team_profile")()}].filter(function(g){return!x[g.label.toLowerCase()]});return l.length?l:[]},"_getDefaultTeamProfileFields"),ae=o(function(x){var l=x?`[data-id=${x}]`:".visible_row[data-id]",g=s.find("#edit_team_profile_list").find(l).last(),b=g.outerHeight()*-2;g.highlight(1500,"",null,0),g.scrollintoview({duration:200,px_offset:b,direction:"y"})},"_highlightInList"),me=o(function(){$("#edit_team_profile_confirm_edit_btn").toggleClass("disabled",!TS.ui.validation.validate(s.find("#edit_team_profile_edit"),{quiet:!0,fast:!0}))},"_toggleSave")})()},7223983431:()=>{(function(){TS.registerModule("ui.admin_user_groups",{user_groups_fetched:new signals.Signal,onStart:function(){$("body").on("click",'[data-action="admin_user_groups_modal"]',function(){m()}),$("body").on("click",'[data-action="admin_user_groups_modal_new"]',function(){TS.ui.admin_user_groups.add()})},start:function(){m()},add:function(){m(),n=!0,H()},editInfo:function(h){m(),n=!0,H(h)},editMembers:function(h){m(),n=!0,ee(h,!1)},disable:function(h){m(),n=!0,Y(h,"disable_user_group")},enable:function(h){m(),n=!0,Y(h,"enable_user_group")},interopFunctions:function(h){let{action:w,userGroup:R,defaultChannels:C}=h;switch(w){case"add":H();break;case"enable":Y(R,"enable_user_group");break;case"disable":Y(R,"disable_user_group");break;case"editInfo":H(R,C);break;case"editMembers":ee(R,!1);break;default:}},test:function(){var h={_isFullLocalMember:j};return Object.defineProperty(h,"_isFullLocalMember",{get:function(){return j},set:function(w){j=w}}),h}});var s,r,a,t=[],n=!1,i=!1,d=!1,m=o(function(){var h=TS.templates.user_group_modal({show_info_pane:!TS.prefs.getPref("hide_user_group_info_pane"),show_user_groups_add:TS.interop.userGroups.canCreateAndDeleteUserGroups()}),w={body_template_html:h,onShow:u,onCancel:f};w.full_height_contents=!0,w.modal_contents_container_class="overflow_hidden",y="",TS.interop.userGroups.setSearchQuery(y),TS.ui.fs_modal.start(w)},"_start"),u=o(function(){s=$("#all_user_groups"),r=$("#user_groups_form_div"),a=$("#user_groups_toggle_div"),I(),$("#user_groups_create_btn").on("click",()=>{H()})},"_onShow"),f=o(function(){s=null,r=null,a=null,n=!1,U=null,$(window).off("resize",O),TS.ui.admin_user_groups.user_groups_fetched.dispatch(t),X(TS.model.user_groups),N()},"_onCancel"),p=o(function(h){h&&h.preventDefault(),n?TS.ui.fs_modal.close():I(),X(TS.model.user_groups)},"_onReset"),v=o(function(){n?TS.ui.fs_modal.close():I(),TS.ui.admin_user_groups.user_groups_fetched.dispatch(t),X(TS.model.user_groups)},"_onUpdateComplete"),S=o(function(){n||(TS.ui.fs_modal.bindBackButton(I),TS.ui.fs_modal.showBackButton())},"_bindBackButton"),k=o(function(h){if(!t||!h)return!1;for(var w=0,R=t.length;w<R;w+=1)if(t[w].auto_type===h)return t[w];return!1},"_findAutoUserGroup"),P=o(function(h){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!h){var R=$("#user_group_name_input").val()||"",C=$("#user_group_handle_input").val()||"";if(w.group_name=R,w.group_handle=C,w.error&&(w.error==="forbidden_handle"||w.error==="forbidden_name")){var B=R+C;if(B){var G=k("owner"),K=k("admin"),ie=!!B.match(/admins/i),ue=!!B.match(/owners/i);w.suggest_auto_group=!0,w.can_create_auto_owners=ue&&TS.model.user.is_admin&&!G,w.can_enable_auto_owners=ue&&G&&G.date_delete,w.can_create_auto_admins=ie&&TS.model.user.is_admin&&!K,w.can_enable_auto_admins=ie&&K&&K.date_delete}}return $("#user_group_alerts").html(TS.templates.user_group_alerts(w)),!0}return!1},"_alertIfNotOk"),O=o(function(){var h=$("#user_groups_header");if(h.length){var w=$("#user_groups_list_scroller");if(w.length){var R=h[0].offsetHeight,C=$(window).height(),B=250,G=C*.15,K=Math.max(B,C-R-G);w.css("height",K)}}},"_onResizeList"),I=o(function(){var h=$("#user_groups_list_div");h&&!i&&(TS.interop.mountUserGroupsList(TS.boot_data.team_id,h[0],{isLegacy:!0,isUserGroupBrowser:!0,includeDeactivated:!0,onClearSearch:()=>z()}),h.addClass("ug_modern_list"),i=!0),s.removeClass("hidden"),r.addClass("hidden"),a.addClass("hidden"),q(),TS.ui.fs_modal.hideBackButton()},"_switchListView"),q=o(function(){$(window).on("resize",O),O(),$("#user_group_modal_search").on("keydown keyup change",L),U=$("#user_groups_header .user_groups_search .icon_close"),U.off("click").on("click",z),s.off("click");var h=o(function(R,C){if(R){n=!1;let B=null;C.subteam&&C.subteam.id&&(B=C.subteam.id),C.usergroup&&C.usergroup.id&&(B=C.usergroup.id),I(B)}},"autoMethodHandler"),w={owners:{create:function(){TS.interop.api.call("subteams.createAuto",{type:"owner"}).then(function(R){let{data:C,args:B,request_id:G}=R;var K=!0;return h&&h(K,C,B,G),{data:C,args:B,request_id:G}}).catch(function(R){let{data:C,args:B,request_id:G}=R;var K=!1;return h&&h(K,C,B,G),{data:C,args:B,request_id:G}})},enable:function(){var R=k("owner");R&&TS.redux.dispatch(TS.interop.userGroups.enableUserGroup({usergroup:R.id})).then(C=>{h(!0,C)})}},admins:{create:function(){TS.interop.api.call("subteams.createAuto",{type:"admin"}).then(function(R){let{data:C,args:B,request_id:G}=R;var K=!0;return h&&h(K,C,B,G),{data:C,args:B,request_id:G}}).catch(function(R){let{data:C,args:B,request_id:G}=R;var K=!1;return h&&h(K,C,B,G),{data:C,args:B,request_id:G}})},enable:function(){var R=k("admin");R&&TS.redux.dispatch(TS.interop.userGroups.enableUserGroup({usergroup:R.id})).then(C=>{h(!0,C)})}}};r.off("click").on("click","a.user_group_auto_action",function(R){var C=$(R.target),B=C.data("auto-type"),G=C.data("auto-action");if(w[B]&&w[B][G])return w[B][G](),R.preventDefault(),!1})},"_bindListUI"),Y=o(function(h,w){if(!h){TS.warn("Cannot switch toggle view to undefined User Group");return}N(),a.html(TS.templates.user_group_toggle({action:w,user_group:h})),a.find('[data-action="cancel"]').on("click",p),a.find(".user_group_toggle_btn").on("click",function(){var R=$(this).data("action");_.includes(["enableUserGroup","disableUserGroup"],R)&&TS.redux.dispatch(TS.interop.userGroups[R]({usergroup:h.id})).then(()=>{R==="enableUserGroup"&&F(h),v()}).catch(function(C){const{data:B}=C;return P(!1,B)})}),s.addClass("hidden"),a.removeClass("hidden"),S()},"_switchToggleView"),F=o(function(h){TS.interop.userGroups.upsertUserGroup(h),TS.interop.userGroups.searchLocalUserGroups()},"_upsertUserGroup"),H=o(function(h,w){N(),r.html(TS.templates.user_group_settings_form(h)),d=!1,$("#user_group_default_channels").lazyFilterSelect(re(h,w)),J(h),s.addClass("hidden"),r.removeClass("hidden"),S()},"_switchSettingsFormView"),te=o(function(h,w){if(!h||!w)return!1;const R=h&&h.id,C=w.prefs.channels.concat(w.prefs.groups);return _.includes(C,R)},"isPreselected"),c=o(function(h,w){const R=_.get(w,"prefs.channels",[]);return(R.length?TS.shared.ensureModelObsArePresent(R):Promise.resolve()).then(function(){return TS.interop.searcher.search({query:h,options:{entities:{channels:{includePublic:!0,includePrivate:!0,includeFromAnotherTeam:!1,includeMpims:!1,includeArchived:!1,searchPreviousNames:!1,onlyVisibleMpims:!1,includeRequired:!0}},limit:100,tiered:!0,allowEmptyQuery:!0,sort:{frecency:!0}}})}).then(function(B){return B})},"getLFSChannels"),A=o(function(h,w){return function(R){return c(R,h).then(function(C){const B=_.map(C,G=>{const K=G.id,ie=d?!1:te(G,h);return{model_ob:G,lfs_id:K,preselected:ie}});return!d&&w&&w.length>0&&_.differenceWith(w,B,(K,ie)=>K.id===ie.lfs_id).forEach(K=>{K&&K.id&&B.push({lfs_id:K.id,model_ob:K,preselected:!0})}),d=!0,{replace_all_items:!0,all_items_fetched:!0,items:B}})}},"_getLFSChannelsProvider"),re=o(function(h,w){return{data_promise:A(h,w),template:function(R){const C=R.model_ob;let B="";return B+=TS.interop.rules.channels.isPublicChannel(C)?"#":'<ts-icon class="ts_icon_lock ts_icon_inherit"></ts-icon>',B+=_.escape(C.name||TS.interop.i18n.t("private channel","channel_token")()),TS.interop.rules.channels.isOrgShared(C)?B+=' <ts-icon class="ts_icon_shared_channel ts_icon_inherit"></ts-icon>':TS.interop.utility.isModelObjectExternal(C)&&(B+=TS.templates.shared_channels_icon({model_ob:C,tooltip:!0,connectedTeamIds:TS.interop.rules.channels.getConnectedTeamIds(TS.redux.getState(),C),inherit:!0})),new Handlebars.SafeString(B)},placeholder_text:""}},"_getLFSChannelsOptions"),J=o(function(h){var w,R,C;h?(w=TS.interop.userGroups.updateUserGroup,R=!1,C=h.id):(w=TS.interop.userGroups.createUserGroup,R=!0);var B=$("#user_group_handle_input");B.on("input",function(){$(this).closest(".handle_input").toggleClass("empty",!this.value.length)}),r.find(".user_group_settings_form").on("submit",function(ue){ue.preventDefault();var oe=$('input[name="name"]').val(),le=$('input[name="handle"]').val(),ae=$('input[name="description"]').val(),me=$("#user_group_default_channels").lazyFilterSelect("value");me=_.map(me,"model_ob.id");var x={name:oe,handle:le,description:ae,channels:me};C&&(x.usergroup=C),TS.redux.dispatch(w(x)).then(function(l){const g=l.usergroup;F(g),R?ee(g,R):v(),TS.user_groups.updated_info_sig.dispatch(g.id)}).catch(function(l){const{data:g}=l;return P(!1,g)})}),r.find(".user_group_settings_form").on("reset",p);var G=$("#save_user_group"),K=$("#user_group_name_input");function ie(){var ue=K.val(),oe=B.val();!_.isEmpty(ue)&&!_.isEmpty(oe)?G.removeAttr("disabled"):G.attr("disabled",!0)}o(ie,"inputChange"),G.length&&K.length&&B.length&&(K.on("change",ie),K.on("keyup",ie),B.on("change",ie),B.on("keyup",ie),ie())},"_bindSettingsFormUI"),ee=o(function(h,w){var R=!!h.is_external||!!h.auto_type,C=o(function(){r.html(TS.templates.user_group_members_form({is_new:w,is_locked:R,user_group:h}))},"renderForm"),B=o(function(){var K=$("#member_count"),ie=h.user_count||0,ue=o(function(){var le=$(w?"#create_group":"#save_group");le.length&&(ie<1?le.prop("disabled",!0):le.prop("disabled",!1))},"updateForm"),oe={approx_item_height:36,template:function(le){var ae=TS.templates.user_group_invite_member_small(le);return new Handlebars.SafeString(ae)},onItemAdded:function(){ie+=1,K.html(ie),ue()},onItemRemoved:function(){ie-=1,K.html(ie),ue()},filter:function(le,ae){var me=le.member;ae.charAt(0)==="@"&&(ae=ae.substr(1));var x=new RegExp(`^${TS.utility.regexpEscape(ae)}`,"i"),l=new RegExp(`(-|_|\\+|\\s|\\.|@)${TS.utility.regexpEscape(ae)}`,"i");return TS.utility.members.checkMemberMatch(me,x)||TS.utility.members.checkMemberMatch(me,l)},disabled:!!h.is_external||!!h.auto_type,data_promise:Q(h)};$("#user_group_members_select").lazyFilterSelect(oe),ce(h),s.addClass("hidden"),r.removeClass("hidden"),N(),ue()},"renderUI");if(w)C(),TS.ui.fs_modal.hideBackButton(),B();else{var G=o(function(){C(),S(),B()},"work");if(TS.user_groups.legacyNeedsToFetchMembership(h))TS.interop.userGroups.getUserGroupMembers(h.id,function(K){if(K&&K.users){h=K;const ie=_.get(h,"users",[]);return TS.interop.members.ensureMembersArePresent(ie).then(G)}});else{const K=_.get(h,"users",[]);return TS.interop.members.ensureMembersArePresent(K).then(G)}}},"_switchMembersFormView"),Q=o(function(h){var w=!0;return function(R,C){R.charAt(0)==="@"&&(R=R.substring(1));var B=!1;if(w&&(w=!1,_.get(h,"users.length")&&(B=!0)),B){var G=h.users.map(oe=>TS.interop.members.getMemberById(oe));G.sort(TS.interop.members.memberSorterByName);var K=G.map(function(oe){return oe?{member:oe,lfs_id:String(oe.id),preselected:!0}:{}});return Promise.resolve(K)}if(C>0)return Promise.resolve([]);var ie={query:R,include_org:!1,include_slackbot:!1,include_self:!0,full_profile_filter:!1,include_bots:!0,include_profile_only_users:!0},ue=ne(ie);return ue}},"_buildMembersSelectDataPromise"),ne=o(function(h){return Promise.resolve().then(function(){return TS.members.promiseToSearchMembers(h).then(function(w){var R=[];return w.query===""?R=TS.utility.teams.getMembersForTeam(TS.model.team):R=w.items,w.items=R.filter(j).map(function(C){return{member:C,lfs_id:String(C.id)}}),w})})},"_getSearchPromise"),ce=o(function(h){r.find(".user_group_members_form").on("submit",function(w){w.preventDefault();var R=$("#user_group_members_select").lazyFilterSelect("value");R=R.map(function(C){return C.member.id}),TS.redux.dispatch(TS.interop.userGroups.updateMembersOfUserGroup({usergroup:h.id,users:R})).then(C=>{v(),TS.user_groups.updated_info_sig.dispatch(C.usergroup.id)}).catch(C=>{const{data:B}=C;P(!1,B)})}),r.find(".user_group_members_form").on("reset",function(w){w.preventDefault(),p(w)})},"_bindMembersFormUI"),L=o(function(h){var w=$(h.target),R=w.val();R!==y&&(y=R,U.toggleClass("hidden",R===""),TS.interop.userGroups.setSearchQuery(y))},"_updateSearch"),z=o(function(){var h=$("#user_group_modal_search");y="",h.val(""),setTimeout(function(){h.focus()},0),U.addClass("hidden"),TS.interop.userGroups.setSearchQuery(y)},"_clearSearch"),j=o(function(h){return h?!!((TS.interop.rules.members.isMemberOnTeam(h,TS.model.team.id)||h.is_profile_only_user)&&!h.deleted&&!h.is_ultra_restricted&&!h.is_restricted&&!(h.is_bot||TS.interop.rules.members.isSlackbot(h))):!1},"_isFullLocalMember"),X=o(function(h){var w=$("#user_groups_tab .count");w.html(h.length)},"_updateTabUserGroupsCount"),N=o(function(){i=!1;var h=$("#user_groups_list_div");TS.interop.unmountUserGroupsList(h[0])},"_cleanupListView"),y,U})()},4449762740:()=>{(function(){TS.registerModule("ui.edit_member_profile",{onStart:function(){TS.members.changed_profile_sig.add(r)}});var s,r=o(function(){s&&$("#edit_member_profile_photo_container .member_image").replaceWith(TS.templates.builders.makeMemberPreviewLinkImage(TS.model.user.id,192,!1,!0))},"_maybeUpdateMemberPhoto")})()},3476953684:()=>{(function(){TS.registerModule("ui.fs_modal",{is_showing:!1,transition_duration:250,start:function(Q){if(TS.ui.fs_modal.is_showing)return c(Q);S=_.defaults({},Q,k),TS.ui.fs_modal.is_showing=!0,TS.tips.hideAll(),P(),S.modal_class&&s.addClass(S.modal_class),S.modal_bg_class&&r.addClass(S.modal_bg_class),S.modal_contents_container_class&&s.find(".contents_container").addClass(S.modal_contents_container_class),t=s.find(".contents"),n=s.find("#fs_modal_sidebar"),i=s.find("#fs_modal_header"),m=s.find("#fs_modal_footer_content");var ne;if(S.body_template_html?(ne=S.body_template_html,S.body&&TS.warn("Both body and body_template_html were passed in settings to TS.ui.fs_modal.start(). Using body_template.")):ne=TS.templates.fs_modal_generic_contents({settings:S,fs_modal_header:_.includes(S.modal_class,"fs_modal_header"),fs_modal_footer:_.includes(S.modal_class,"fs_modal_footer")}),t.html(ne),S.header_html&&i.replaceWith(S.header_html),S.footer_html&&m.html(S.footer_html),S.sidebar_html&&n.html(S.sidebar_html),Q.title&&s.attr("aria-label",Q.title),!Q.title&&i&&s.attr("aria-labelledby","fs_modal_header"),$("#client-ui").attr("aria-hidden",!0),s.on("click",".dialog_go",O),s.on("click",".dialog_secondary_go",I),s.on("click",".dialog_cancel",F),$(window.document).off(".fs_modal"),$(window.document).on("keydown.fs_modal",q),$(window.document).on("focusin.fs_modal",Y),a.on("click",function(){S.esc_for_ok?O():F()}),$("html").addClass("fs_modal_active"),setTimeout(function(){r&&r.addClass("active"),s&&s.addClass("active")},0),s.find("input").length?s.find("input").first().focus():document.activeElement&&document.activeElement!==document.body&&document.activeElement.blur(),S.onShow&&S.onShow(),S.onShowComplete||TS.model.is_our_app&&TS.interop.desktop.legacyAreDragRegionsRequired()){var ce=!1,L=A();p=setTimeout(function(){ce=!0,re(),S.onShowComplete&&S.onShowComplete(),s.off(`${L}.fs_modal_show_complete`)},600),s.one(`${L}.fs_modal_show_complete`,function(){ce||(re(),clearTimeout(p),S.onShowComplete&&S.onShowComplete())})}},close:function(Q){F(Q)},bindBackButton:function(Q){$("#fs_modal_back_btn").off("click.fs_modal").on("click.fs_modal",Q)},unbindBackButton:function(){$("#fs_modal_back_btn").off("click.fs_modal")},showBackButton:function(){$("#fs_modal_back_btn").removeClass("hidden")},hideBackButton:function(){$("#fs_modal_back_btn").addClass("hidden")},activate:function(){s.addClass("active"),r.addClass("active")},deactivate:function(){s.removeClass("active"),r.removeClass("active")},hideFooter:function(){d.length&&(s.removeClass("fs_modal_footer"),d.addClass("hidden"))},isShowing:function(){return TS.ui.fs_modal.is_showing}});var s,r,a,t,n,i,d,m,u=!1,f,p,v=".modal,[role=dialog]:not(.modal),[role=alertdialog]:not(.modal)",S=null,k={title:"",body:"",body_template_html:null,show_go_button:!0,show_secondary_go_button:!1,show_cancel_button:!0,go_button_text:TS.interop.i18n.t("OK","fs_modal")(),go_button_class:"",secondary_go_button_text:TS.interop.i18n.t("OK 2","fs_modal")(),secondary_go_button_class:"",cancel_button_text:TS.interop.i18n.t("Cancel","fs_modal")(),disable_default_controls:!1,disable_esc:!1,onGo:null,onSecondaryGo:null,onCancel:null,onEnd:null,esc_for_ok:!1,onShow:null,enter_always_gos:!1,fullscreen:!1,modal_class:null,modal_bg_class:null,modal_contents_container_class:null,sidebar_html:null,header_html:null,footer_html:null,full_height_contents:!1},P=o(function(){r=null,s=null,i=null,d=null,m=null,a=null,t=null,n=null;var Q={settings:S,fs_modal_header:_.includes(S.modal_class,"fs_modal_header"),fs_modal_footer:_.includes(S.modal_class,"fs_modal_footer"),fs_modal_sidebar:_.includes(S.modal_class,"fs_modal_sidebar"),disable_default_controls:S.disable_default_controls},ne=TS.templates.fs_modal(Q);$("body").append(ne),r=$("#fs_modal_bg"),s=$("#fs_modal"),i=$("#fs_modal_header"),d=$("#fs_modal_footer"),a=$("#fs_modal_close_btn")},"_build"),O=o(function(){if(!TS.ui.fs_modal.is_showing){TS.error("not showing?");return}S.onGo?S.onGo()!==!1&&F():F()},"_go"),I=o(function(){if(!TS.ui.fs_modal.is_showing){TS.error("not showing?");return}S.onSecondaryGo?S.onSecondaryGo()!==!1&&F():F()},"_secondaryGo"),q=o(function(Q){if(Q.which==TS.utility.keymap.enter&&(TS.utility.getActiveElementProp("NODENAME")==="BODY"||S.enter_always_gos))S.show_go_button&&(O(),Q.preventDefault());else if(Q.which==TS.utility.keymap.esc){if(S.disable_esc)return;S.esc_for_ok?O():(F(),S.clog_name&&TS.interop.clog.track(`${S.clog_name}_ACTION`,{source:S.clog_source,action:"close_modal",trigger:"esc_key"}))}},"_onKeyDown"),Y=o(function(Q){var ne=$(v).filter(function(){return $(this).css("display")!=="none"}).toArray(),ce=_.sortBy(ne,function(z){return parseInt($(z).css("z-index"),10)}).pop();if(s.is(ce)){var L=Q.target;!s.is(L)&&!s.has(L).length&&s.focus()}},"_onFocus"),F=o(function(Q){ee(Q)&&(s&&s.removeClass("active"),r&&r.removeClass("active"),setTimeout(function(){$("html").removeClass("fs_modal_active")},TS.ui.fs_modal.transition_duration),S.onCancel&&S.onCancel(),te())},"_cancel"),H=o(function(){s.removeAttr("aria-label"),s.removeAttr("aria-labelledby"),s.remove(),r.remove(),TS.ui.fs_modal.is_showing=!1,J()},"_clean"),te=o(function(){setTimeout(function(){H(),$("#client-ui").removeAttr("aria-hidden")},TS.ui.fs_modal.transition_duration),$(window.document).off("keydown.fs_modal"),$(window.document).off("focusin.fs_modal"),clearTimeout(p),s.off(`${A()}.fs_modal_show_complete`),S.onEnd&&S.onEnd(),TS.tips.unhideAll()},"_end"),c=o(function(Q){s.removeClass("active"),S.onCancel&&S.onCancel();var ne=r.attr("id",null).addClass("fs_modal_bg");return new Promise(ce=>{setTimeout(function(){s.remove(),TS.ui.fs_modal.is_showing=!1,ce(TS.ui.fs_modal.start(Q)),setTimeout(ne.remove.bind(ne),TS.ui.fs_modal.transition_duration)},TS.ui.fs_modal.transition_duration)})},"_swap"),A=o(function(){var Q={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};for(var ne in Q)if(s[0].style[ne]!==void 0)return Q[ne]},"_getTransitionEndEventName"),re=o(function(){if(!(!TS.model.is_our_app||!TS.interop.desktop.legacyAreDragRegionsRequired())){if(_.get(window,"desktop.app.updateDragRegion")){window.desktop.app.updateDragRegion([]);return}TS.interop.desktop.legacyUpdateNoDragRegion([]);var Q=$("#fs_modal").find("header").find("button, a").toArray();u||(TSSSB.nodrag.updateElements(Q),u=!0),f=_.debounce(()=>{TS.interop.utility.requestIdleCallback(()=>TSSSB.nodrag.updateElements(Q),{timeout:200})},400),$(window).off("resize.setupNoDragFSM").on("resize.setupNoDragFSM",f)}},"_setupNoDragRegions"),J=o(function(){!TS.model.is_our_app||!TS.interop.desktop.legacyAreDragRegionsRequired()||(u=!1,$(window).off("resize.setupNoDragFSM"),TS.interop.desktop.legacyUpdateNoDragRegion([]))},"_tearDownNoDragRegions"),ee=o(function(Q){return Q?!0:!(TS.ui.lazy_filter_select.is_list_open||TS.model.menu_is_showing||TS.model.dialog_is_showing||TS.utility.isTabCompleteShowing())},"_canClose")})()},7487487633:()=>{(function(){TS.registerModule("ui.lazy_filter_select",{STYLES:{default:"default",filter_in_list:"filter_in_list",normal:"normal",small:"small"},onStart:function(){$("select[data-lazy-filter-select], label[data-lazy-filter-select] select").addClass("hidden").lazyFilterSelect({use_data_attributes:!0})},create:function(e,T){if(T.use_data_attributes){var D=Object.keys(e.data());D.forEach(function(de){if(de.indexOf("lazyFilterSelect")>-1&&de!=="TS-lazyFilterSelect"&&e.data(de)!==""){var pe=e.data(de);(pe==="true"||pe==="false")&&(pe=pe==="true"),T[de.replace("lazyFilterSelect","").toLowerCase()]=pe}})}e.prop("tagName")==="SELECT"&&typeof T.single>"u"&&(T.single=!e.prop("multiple"));var E=$.extend({},s,T);T.approx_divider_height===void 0&&(E.approx_divider_height*=1),T.approx_item_height===void 0&&(E.approx_item_height*=1);var W=$('<div class="lazy_filter_select">');E.classes&&W.addClass(E.classes),e.prop("disabled")&&(E.disabled=!0),E.disabled&&W.addClass("disabled"),E.style=_.get(TS.ui.lazy_filter_select.STYLES,E.style,TS.ui.lazy_filter_select.STYLES.default),b(E)&&!E.single&&(TS.warn("Multi-select lazyFilterSelect instances can't use the 'filter_in_list' style. Using 'default' style instead."),E.style=TS.ui.lazy_filter_select.default);var se=TS.templates.lazy_filter_select_container({instance:E,aria_labelledby:e.attr("aria-labelledby"),STYLES:TS.ui.lazy_filter_select.STYLES});return W.html(se),E.append?W.appendTo(e):W.insertAfter(e),W.addClass(`${E.style}_style`),E.single&&(W.addClass("single"),W.attr("tabindex",0)),E.width&&W.css("width",E.width),E.css&&W.css(E.css),E.$container=W,E.$select=e,E.$input_container=W.find(".lfs_input_container"),E.$lfs_value=W.find(".lfs_value"),E.$input=W.find(".lfs_input"),E.$list_container=W.find(".lfs_list_container"),E.$list=W.find(".lfs_list"),E.$status=W.find(".lfs_status"),E.$status_loading_indicator=E.$status.find(".lfs_status_loading_indicator"),E.$status_content=E.$status.find(".lfs_status_content"),b(E)?E.$filter_input=W.find(".lfs_filter_input"):E.$filter_input=E.$input,E._page_number=1,E._slug_id_counter=1,E.run=z,E.data_promise?(N(E)&&E._running_promise.cancel("Uhhh..."),E._running_promise=X(E,"").then(function(de){E.data=de,E.run(),n(E)},function(de){n(E),TS.interop.utility.getLogger({getState:TS.redux.getState}).error(de,"LFS error"),Z(E,de,"Something failed while trying to return the initial data for lazyFilterSelect.")})):(E.data&&(E.data=E.data.slice()),_.forEach(E.data,function(de,pe,ge){de&&de._is_interop_channel_object&&(ge[pe]=_.assign({},de))}),E.run(),n(E)),E.current_items_in_view_signal=new signals.Signal,E},is_list_open:!1});var s={allow_item_unselect:!1,allow_list_position_above:!1,always_visible:!1,append:!1,approx_divider_height:28,approx_item_height:30,data_promise:null,data_qa:"lfs",disabled:!1,filter:function(e,T){var D=e.toString();if(T=T.toLowerCase(),e instanceof jQuery||e instanceof HTMLElement){D=$(e).text();var E=$(e).attr("data-additional-search-field");if(E&&E.toLowerCase().indexOf(T)>-1)return!0}return D.toLowerCase().indexOf(T)>-1},input_debounce_wait_time:void 0,listItemClass:null,max_selected_items:1/0,min_query_length:0,monkey_scroll:!0,no_default_selection:!1,noResultsTemplate:function(e){return M(this)&&e.length<this.min_query_length?TS.interop.i18n.t("{query_length, plural, =0 {Start typing to see results\u2026} other {Keep typing to see results\u2026}}","lazy_filter_select")({query_length:e.length}):TS.interop.i18n.t("No items matched {query}","lazy_filter_select")({query:TS.interop.i18n.safeString(`<strong>${_.escape(e)}</strong>`)})},errorTemplate:function(e){return e||TS.interop.i18n.t("Couldn't load results.","lazy_filter_select")()},onInputBlur:_.noop,onInputFocus:_.noop,onReady:function(){},onItemAdded:function(){},onItemRemoved:function(){},onKeyDown:function(){},onMaxItemsSelected:function(){},onListShown:_.noop,onListHidden:_.noop,adjustAvailableSpaceAbove:_.identity,adjustAvailableSpaceBelow:_.identity,placeholder_text:TS.interop.i18n.t("Choose an option\u2026","lazy_filter_select")(),filter_placeholder_text:TS.interop.i18n.t("Search","lazy_filter_select")(),renderDividerFunc:null,render_item_func:null,restrict_input_container_height:!1,restrict_preselected_item_removal:!1,scroll_threshold:1e3,set_height:!0,single:!1,sluggify:{enabled:!1,delimiter:null,key_name:null,validator:null},style:TS.ui.lazy_filter_select.STYLES.default,template:function(e){var T=e.toString(),D,E;return(e instanceof jQuery||e instanceof HTMLElement)&&(T=$(e).text(),D=x($(e).attr("data-additional-search-field"),this),E=x($(e).attr("data-ts-icon"),this)),T=x(T,this),D&&(T+=` <span class="addl_text">${D}</span>`),E&&(T+=` <ts-icon class="addl_icon ${E}"></ts-icon>`),new Handlebars.SafeString(T)},tokenClass:null,tokenTemplate:null,tokenTemplateSingle:null,use_data_attributes:!1,_$active:null,_all_done_fetching:!1,_list_built:!1,_list_visible:!1,_mouse:{},_page_number:1,_prevent_blur:!1,_previous_val:"",_running_promise:null,_scroll_callback_was_called:!1,_selected:[],_showing_status:!1};$.widget("TS.lazyFilterSelect",{_create:function(){this.instance=TS.ui.lazy_filter_select.create(this.element,this.options)},_destroy:function(){this.instance.$container.remove(),delete this.instance},blur:function(){this.instance.$filter_input.blur()},clearValue:function(){if(this.instance.single){if(this.instance._selected.length){var e=this.instance.$input_container.find(".lfs_item");ce(this.instance,e)}}else Q(this.instance)},container:function(){return this.instance.$container},disable:function(){v(this.instance)},disabled:function(){return this.instance.disabled},enable:function(){k(this.instance)},focus:function(){this.instance.$filter_input.focus()},getInstance:function(){return this.instance},hideList:function(){Y(this.instance,{force:!0}),he(this.instance)},recomputeHeight:function(){ae(this.instance)},setValue:function(e,T){var D=this.element[0].selectedIndex;this.element.val(e),this.element[0].selectedIndex<0&&(this.element[0].selectedIndex=0);var E=this.element[0].options[this.element[0].selectedIndex];if(this.instance.single){if(this.element[0].selectedIndex==D&&!T)return}else Q(this.instance);var W=I(this.instance,$(E));h(this.instance,W)},forceSelectItem:function(e){this.instance.$lfs_value.html(i(this.instance,e,{force_selected:!0})),this.instance.$container.addClass("value")},showList:function(){G(this.instance)},update:function(e){le(this.instance,e)},updatePlaceholder:function(e){this.instance.placeholder_text=e,this.instance.$input.prop("placeholder",e)},updateFilterPlaceholder:function(e){b(this.instance)&&(this.instance.filter_placeholder_text=e,this.instance.$filter_input.prop("placeholder",e))},value:function(){return this.instance._selected}});var r=o(function(e,T){if(F(e)&&T.trim()&&p(e)){var D={};D[e.sluggify.key_name]=T.trim(),D.lfs_id=null,D.lfs_slug_id=e._slug_id_counter,e._slug_id_counter+=1,e._selected.push(D);var E=TS.templates.lazy_filter_select_item({content:e.tokenTemplate(D),applied_classes:"lfs_token",slug_id:D.lfs_slug_id,data_qa:e.data_qa}).replace(/(\r\n|\n|\r)/gm,""),W=$(E);W.insertBefore(e.$input),e.sluggify.validator&&e.sluggify.validator(W),re(e,e.data),G(e),e.$filter_input.val(""),e._previous_val="",a(e),e.onItemAdded(D),p(e)||e.onMaxItemsSelected()}},"_addUserCreatedSlugFromString"),a=o(function(e){e.single||(e.$input.prop("size",e.$filter_input.val().length+1),e.$filter_input.val().length+e._selected.length===0?B(e):(e.$input_container.removeClass("empty"),e.$input_container.removeClass("error"),l(e)))},"_adjustInput"),t=o(function(e){e.data_promise&&e.$list.on("scroll",function(){var T=$(this).scrollTop(),D=e.$list.height(),E=e.$list.find(".list_items").height(),W=E-T-D;W<=e.scroll_threshold&&!e._scroll_callback_was_called&&!e._all_done_fetching?(f(e,e._previous_val,e._page_number+1),e._scroll_callback_was_called=!0):W>e.scroll_threshold&&e._scroll_callback_was_called&&(N(e)&&e._running_promise.cancel("User scrolled back and we do not need to add more data"),e._scroll_callback_was_called=!1)})},"_bindListListeners"),n=o(function(e){e.$container.on("mouseleave",ye.bind(null,e)),e.$container.on("click",Te.bind(null,e)),e.$container.parents("label").on("click",Pe.bind(null,e)),e.$container.on("keydown",Be.bind(null,e)),e.$input_container.on("focus",Ue.bind(null,e)),e.$input.on("focus",Ee.bind(null,e));var T;_.isUndefined(e.input_debounce_wait_time)?T=Ce:T=_.debounce(Ce,e.input_debounce_wait_time),e.$filter_input.on("input",T.bind(null,e)),e.$filter_input.on("keydown",Me.bind(null,e)),e.$filter_input.on("blur",He.bind(null,e)),e.$lfs_value.on("click",Le.bind(null,e)),e.$lfs_value.on("mousedown",We.bind(null,e)),e.$input_container.on("click",".lfs_token",Oe.bind(null,e)),e.$input_container.on("mousedown",".lfs_token",je.bind(null,e)),e.$list_container.on("mousedown",Ae.bind(null,e)),e.$list_container.on("mouseup",ze.bind(null,e)),e.$list_container.on("mousemove",".lfs_item",De.bind(null,e)),e.$list_container.on("mouseleave",".lfs_item.active",Ke.bind(null,e)),e.$list_container.on("click",".lfs_item",Re.bind(null,e)),e.onReady()},"_bindUI"),i=o(function(e,T,D){var E=$(T);D=D||{};var W=D.force_selected||H(e,T),se=T.disabled||T.lfs_disabled;e.restrict_preselected_item_removal&&T.preselected&&(se=!0);var de;D.should_tokenize&&_.isFunction(e.tokenTemplate)?de=e.tokenTemplate(T):e.single&&_.isFunction(e.tokenTemplateSingle)?de=e.tokenTemplateSingle(T):de=e.template(T);var pe=x(E.data("lfs-item-desc"),e),ge={active:e._previous_val!==""&&!W&&!se,disabled:se,lfs_token:D.should_tokenize,selected:W,single:e.single,group_item:E.hasClass("group_item")};return _.isFunction(e.tokenClass)&&(ge[e.tokenClass(T)]=!0),TS.templates.lazy_filter_select_item({content:de,icon:E.data("lfs-item-icon"),desc:new Handlebars.SafeString(pe),applied_classes:TS.utility.getAppliedClasses(ge),lfs_id:T.lfs_id,data_qa:e.data_qa}).replace(/(\r\n|\n|\r)/gm,"")},"_buildItem"),d="position_above",m="show_status",u=o(function(e){if(!(!e._list_built&&!e._showing_status)){e.$list_container.removeClass(d);var T=e.$list.css("max-height");e.$list.css({"max-height":0});var D=e.$list[0].scrollHeight,E=parseInt(e.$list_container.css("padding-top"),10)+parseInt(e.$list_container.css("padding-bottom"),10)+parseInt(e.$list_container.css("border-top-width"),10)+parseInt(e.$list_container.css("border-bottom-width"),10)+parseInt(e.$list_container.css("margin-top"),10)+parseInt(e.$list_container.css("margin-bottom"),10);b(e)&&(E+=e.$filter_input.outerHeight()+parseInt(e.$filter_input.css("margin-bottom"),10));var W=parseInt(e.$list_container.css("max-height"),10),se=2*e.approx_item_height+E,de=Math.min(D+E,W),pe=$(window).height(),ge=e.$input_container[0].getBoundingClientRect().bottom+parseInt(e.$input_container.css("margin-bottom"),10),ve=e.adjustAvailableSpaceBelow(pe-ge);if(e.allow_list_position_above){var we=e.$input_container[0].getBoundingClientRect().top+parseInt(e.$input_container.css("margin-top"),10),Se=e.adjustAvailableSpaceAbove(we),$e=Se>=de,be=ve>=de&&ve>se;$e&&!be&&(ve=Se,e.$list_container.addClass(d))}var ke=Math.floor(Math.min(ve,de)-E);e.$list.css({"max-height":ke||T})}},"_sizeAndPositionItemsList"),f=o(function(e,T,D){N(e)&&e._running_promise.cancel("Scrolling happened"),!e._all_done_fetching&&(e._running_promise=e.data_promise(T,D).then(function(E){var W=E;if(W.items&&(W=W.items),W&&W.length){e._page_number+=1,e._current_data||(e._current_data=e.data.slice()),typeof E.all_items_fetched<"u"&&(e._all_done_fetching=!!E.all_items_fetched),typeof E.num_remaining<"u"&&E.num_remaining===0&&(e._all_done_fetching=!0);var se,de=parseInt(E.num_new,10)||0;se=W.slice(-de),se.length?(E._replace_all_items||E.replace_all_items?e._current_data=se:e._current_data=e._current_data.concat(se),S(e,e._current_data)):e._all_done_fetching=!0}else e._all_done_fetching=!0},function(E){TS.interop.utility.getLogger({getState:TS.redux.getState}).error(E,"LFS error"),Z(e,E,"Something failed while trying to return the next batch of data for lazyFilterSelect.")}))},"_callScrollCallback"),p=o(function(e){return e._selected.length<e.max_selected_items},"_canAddNewItem"),v=o(function(e){e.disabled||(e.disabled=!0,e.$container.addClass("disabled"),e.$input.prop("disabled",!0),e.$filter_input.prop("disabled",!0))},"_disable"),S=o(function(e,T){ee(e,T),re(e,T);var D=e._list_built&&(!e.data||e.data.length===0||e.always_visible);D&&G(e,!0),a(e)},"_doAllTheThingsRequiredWithNewData"),k=o(function(e){e.disabled&&(e.disabled=!1,e.$container.removeClass("disabled"),e.$input.prop("disabled",!1),e.$filter_input.prop("disabled",!1))},"_enable"),P=o(function(e,T){for(var D=e.data,E=[],W=0;W<D.length;W+=1){var se=D[W];if(se.lfs_group||se.is_divider){for(var de=[],pe=0;pe<se.children.length;pe+=1){var ge=se.children[pe];e.filter(ge,T)&&de.push(ge)}de.length>0&&E.push({is_divider:!0,lfs_group:!0,label:se.label,children:de})}else e.filter(se,T)&&E.push(se)}return E},"_filterGroup"),O=o(function(e){return e.attr("data-lfs-id")||e.prop("lfs_id")||null},"_getLfsId"),I=o(function(e,T,D){var E=O(T),W;if(D)W=e._selected;else if(W=e.data_promise&&e._current_data?e._current_data:e.data,E.indexOf(".")!==-1){var se=parseInt(E.split(".")[0],10);W=W[se]?W[se].children:W[0].children}var de=W.filter(function(pe){return pe.lfs_id===E});return de.length?de[0]:null},"_getData"),q=o(function(e,T){var D=parseInt(T.attr("data-lfs-slug-id"),10),E=e._selected,W=E.filter(function(se){return se.lfs_slug_id===D});return W.length?W[0]:null},"_getUserCreatedSlugData"),Y=o(function(e,T){T=T||{};var D=!e._list_visible||e.always_visible||e.disabled;D&&!T.force||(e._list_visible=!1,e.$list_container.removeClass("visible"),e.$container.removeClass("list_visible"),e.$input_container.removeClass("active"),e._list_built&&e.$list.longListView("setHidden",!0),e._$active=null,e.onListHidden())},"_hideList"),F=o(function(e){return e.sluggify.enabled?e.sluggify.delimiter?e.sluggify.key_name?e.single?(TS.error("Sluggify only works in multi-select versions of lazyFilterSelect."),!1):!0:(TS.error("You must pass a key name to use sluggify with lazyFilterSelect."),!1):(TS.error("You must pass a delimiter regular expression to use sluggify with lazyFilterSelect."),!1):!1},"_instanceCanSluggify"),H=o(function(e,T){if(!e._selected.length)return!1;var D=e._selected.filter(function(E){return E.lfs_id===T.lfs_id});return!!D.length},"_isAlreadySelected"),te=o(function(e){return e instanceof jQuery?!!e.attr("data-lfs-slug-id"):e.lfs_slug_id!==void 0},"_itemIsUserCreatedSlug"),c=o(function(e,T,D){if(F(e)&&te(T)){var E=$(T),W=x(E.data("lfs-item-desc"),e);e._slug_id_counter=Math.max(T.lfs_slug_id,e._slug_id_counter)+1,e._selected.push(T);var se,de=TS.templates.lazy_filter_select_item({content:e.tokenTemplate(T),icon:E.data("lfs-item-icon"),desc:new Handlebars.SafeString(W),applied_classes:"lfs_token",slug_id:T.lfs_slug_id,data_qa:e.data_qa}).replace(/(\r\n|\n|\r)/gm,"");return se=$(de),se.insertBefore(e.$input),a(e),e.sluggify.validator&&e.sluggify.validator(se),e.data=D.filter(function(pe){return pe.lfs_slug_id!==T.lfs_slug_id}),e.data}},"_loadSlugAndRemoveFromData"),A=o(function(e){var T=e.children("option, optgroup"),D=T.length>0?[]:void 0;return T.each(function(){if($(this).prop("tagName")==="OPTGROUP"){var E=$(this).children("option").toArray();$(this).prop("disabled")&&(E=E.map(function(W){return W.lfs_disabled=!0,W})),D.push({is_divider:!0,lfs_group:!0,label:$(this).prop("label"),children:E})}else D.push(this)}),D},"_parseHTMLOptionData"),re=o(function(e,T){if(T||(T=e.data),!T){Z(e);return}if(T.length===0){V(e);return}if(he(e,{keep_input_active:!0}),!e._list_built)(!e.data||e.data.length===0)&&(e.data=T),K(e);else{var D=J(T);e.$list.longListView("setItems",D,!0),e._current_data=T,ae(e)}u(e)},"_populate"),J=o(function(e){var T=[];return e.forEach(function(D){if(T.push(D),D.children&&D.children.length)for(var E=0;E<D.children.length;E+=1)T.push(D.children[E])}),T},"_preLongListViewPrep"),ee=o(function(e,T){if(T||(T=e.data),!!T){for(var D="",E=!e.single,W=0;W<T.length;){var se=T[W];if(te(se)){T=c(e,se,T);continue}if(se.children&&se.children.length&&(se.lfs_group=!0),se.lfs_group||se.is_divider){se.is_divider=!0;for(var de=W,pe=0;pe<se.children.length;pe+=1){var ge=se.children[pe];if(ge.lfs_id=ge.lfs_id||`${de}.${pe}`,(ge.selected||ge.preselected)&&e.no_default_selection===!1){if(e.single&&e._selected.length>0||H(e,ge))continue;e._selected.push(ge),D+=i(e,ge,{should_tokenize:E})}}}else if(se.lfs_id=se.lfs_id||String(W),(se.selected||se.preselected)&&e.no_default_selection===!1){if(e.single&&e._selected.length>0||H(e,se)){W+=1;continue}e._selected.push(se),D+=i(e,se,{should_tokenize:E})}W+=1}D.length>0&&(e.$container.addClass("value"),e.single?e.$lfs_value.html(D):($(D).insertBefore(e.$input),e.$input_container.removeClass("empty"),e.$input_container.removeClass("error"),l(e)))}},"_prepItems"),Q=o(function(e){for(;e.$input_container.find(".lfs_token").length>0;)ne(e)},"_removeAllSelected"),ne=o(function(e){var T=e.$input_container.find(".lfs_token").last();T.length&&ce(e,T)},"_removeLastSelected"),ce=o(function(e,T){if(!e.disabled){if(te(T)){L(e,T);return}var D=I(e,T,!0);if(!(D.disabled||e.restrict_preselected_item_removal&&D.preselected)){e._selected=e._selected.filter(function(W){return W!==D});var E=e.$list.find(`[data-lfs-id="${D.lfs_id}"]`);E.removeClass("selected"),T.remove(),me(e),e.$filter_input.val().length+e._selected.length===0&&B(e),e._selected.length===0&&e.$container.removeClass("value"),e.onItemRemoved(D)}}},"_removeSelected"),L=o(function(e,T){if(F(e)){var D=q(e,T);e._selected=e._selected.filter(function(E){return E!==D}),T.remove(),me(e),e.$filter_input.val().length+e._selected.length===0&&B(e),e.onItemRemoved(D)}},"_removeUserCreatedSlug"),z=o(function(){this.data&&this.data.length===0&&TS.warn("Data passed to lazyFilterSelect is empty."),le(this,this.data),this.always_visible&&G(this),this.restrict_input_container_height&&(this.$container.addClass("has_restricted_input_container_height"),TS.environment.supports_custom_scrollbar||this.$input_container.monkeyScroll())},"_run"),j=o(function(e,T,D){if(!e.disabled&&T!==e._previous_val)if(e._all_done_fetching=!1,e._previous_val=T,e._$active=null,a(e),e._page_number=1,e._list_built&&e.$list.longListView("scrollToTop",!0),e.data_promise)N(e)&&e._running_promise.cancel("User entered more text"),e._running_promise=X(e,T).then(function(W){S(e,W),G(e,D)},function(W){TS.interop.utility.getLogger({getState:TS.redux.getState}).error(W,"LFS error"),Z(e,W,"Something failed while trying to return the filtered data for lazyFilterSelect.")});else{G(e,D);var E=P(e,T);re(e,E),a(e)}},"_runQuery"),X=o(function(e,T){return new Promise(function(D,E){T.length<e.min_query_length?(e._all_done_fetching=!0,D([])):(_.delay(function(){N(e)&&_e(e)},650),e.data_promise(T).then(function(W){W=W||{},_.isUndefined(W.all_items_fetched)||(e._all_done_fetching=!!W.all_items_fetched),W.num_remaining===0&&(e._all_done_fetching=!0);var se=(W.items||W).slice();D(se),he(e,{keep_input_active:!0})},function(W){E(W),he(e)}))})},"_runDataPromiseQuery"),N=o(function(e){return e._running_promise&&e._running_promise.isPending()},"_isRunningPromisePending"),y=o(function(e,T){if(!e.disabled){if(!e._list_visible){G(e);return}var D;e._$active?D=e._$active[T](".lfs_item:not(.disabled, .hidden)").first():D=e.$list.find(".lfs_item:not(.disabled, .hidden)").first(),D.length&&(D.scrollintoview({duration:0}),e._$active&&e._$active.removeClass("active"),D.addClass("active"),e._$active=D)}},"_select"),U=o(function(e){return!(e.hasClass("selected")||e.hasClass("disabled"))},"_selectable"),h=o(function(e,T){if(p(e)){if(e.single&&e._selected.length){var D=e.$list.find(`[data-lfs-id="${e._selected[0].lfs_id}"]`);D.removeClass("selected"),e._selected.length=0,e.$lfs_value.empty()}e._selected.push(T),me(e);var E=$(i(e,T,{should_tokenize:!e.single}));_.isFunction(e.tokenClass)&&E.addClass(e.tokenClass(T)),e.single?e.$lfs_value.html(E):(E.addClass("lfs_token"),E.insertBefore(e.$input)),e.single||(e.$input_container.removeClass("empty"),e.$input_container.removeClass("error"),l(e)),e.$container.addClass("value"),e.onItemAdded(T),p(e)||e.onMaxItemsSelected(),e.single||e.$filter_input.focus()}},"_selectDataItem"),w=o(function(e){return y(e,"nextAll")},"_selectDown"),R=o(function(e){if(!e.disabled){var T=e._$active;if(T.length&&U(T)&&p(e)){T.addClass("selected"),T.removeClass("active"),e._$active=null;var D=I(e,T);h(e,D)}}},"_selectListItem"),C=o(function(e){return y(e,"prevAll")},"_selectUp"),B=o(function(e){e.$input_container.addClass("empty"),g(e)},"_showEmptyState"),G=o(function(e,T){e.disabled||(TS.utility.rAF(function(){e.$filter_input.focus()}),!e._list_visible&&(e._showing_status&&e.always_visible||(e._list_built||K(e),(e._list_built||e._showing_status)&&(e._list_visible=!0,e.$list_container.addClass("visible"),e.$container.addClass("list_visible"),b(e)||e.$input_container.addClass("active"),e._list_built&&e.$list.longListView("setHidden",!1)),e.single&&!T&&(e.$filter_input.val(""),e._previous_val="",e.$filter_input.focus(),M(e)&&(e.data=[]),re(e)),e.set_height&&(u(e),e.monkey_scroll&&!TS.environment.supports_custom_scrollbar&&e.$list.monkeyScroll()),e.onListShown())))},"_showList"),K=o(function(e){if(!(!e.data||e.data.length===0)){var T=J(e.data);e._list_built=!0;var D={items:T,approx_item_height:e.approx_item_height,approx_divider_height:e.approx_divider_height,preserve_dom_order:!0,calcDividerHeight:function(E){return E.outerHeight()},makeDivider:function(){return $('<div class="lfs_group"></div>')},makeElement:function(){return $(TS.templates.lazy_filter_select_item().replace(/(\r\n|\n|\r)/gm,""))},renderDivider:function(E,W,se){if(e.renderDividerFunc)return e.renderDividerFunc(E,W,se);E.html(x(W.label,e))},renderItem:function(E,W,se){if(e.render_item_func)return e.render_item_func(E,W,se);var de=$(W),pe="active selected disabled single group_item lfs_token",ge={disabled:W.disabled||W.lfs_disabled,selected:H(e,W),single:e.single,group_item:de.hasClass("group_item")};_.isFunction(e.listItemClass)&&(ge[e.listItemClass(W)]=!0);var ve=TS.utility.getAppliedClasses(ge),we={"data-qa":`${e.data_qa}-item-${W.lfs_id}`,"data-lfs-id":W.lfs_id,title:W.title};if(E.attr(we).removeClass(pe).addClass(ve).html(e.template(W).string),de.data("lfs-item-icon")){var Se=`url(${de.data("lfs-item-icon")})`,$e=$('<span class="lfs_item_icon">').css("background-image",Se);E.prepend($e)}if(de.data("lfs-item-desc")){var be=x(de.data("lfs-item-desc"),e),ke=$('<span class="lfs_item_desc">').html(be);E.append(ke)}}};e.$list.longListView(D),t(e),e.$list_items=e.$container.find(".list_items"),TS.utility.rAF(function(){e.monkey_scroll&&!TS.environment.supports_custom_scrollbar&&e.$list.monkeyScroll(),e.$list.longListView("resizeImmediately"),TS.utility.rAF(function(){e.current_items_in_view_signal.dispatch(e.$list.longListView("getCurrentItemsInView")||[])})}),e.$list.longListView("getCurrentItemsInViewSignal")&&e.$list.longListView("getCurrentItemsInViewSignal").add(function(E){e.current_items_in_view_signal.dispatch(E)})}},"_startListView"),ie=o(function(e){e.stopPropagation(),e.preventDefault()},"_stopThePresses"),ue=o(function(e,T){if(!(e.single||!e.allow_item_unselect)){var D=I(e,T,!0);T.removeClass("selected"),e._selected=e._selected.filter(function(E){return E!==D}),e.$input_container.find(`.lfs_item[data-lfs-id="${D.lfs_id}"]`).remove(),me(e),e.$filter_input.val().length+e._selected.length===0&&B(e),e._selected.length===0&&e.$container.removeClass("value"),e.onItemRemoved(D)}},"_unselectItem"),oe=o(function(e,T){if(!(!F(e)||!te(T))){var D=T.text().trim();T.length&&L(e,T),e.$filter_input.val(D),a(e),e.$filter_input.select()}},"_unsluggifySlug"),le=o(function(e,T){if(e.data=T||A(e.$select),e.data&&(e._selected=[],ee(e),e.$filter_input.val().length)){var D=e.$filter_input.val();e._previous_val="",j(e,D)}},"_update"),ae=o(function(e){e.restrict_input_container_height&&TS.ui.utility.updateClosestMonkeyScroller(e.$input_container,!0),e.monkey_scroll&&!TS.environment.supports_custom_scrollbar&&(u(e),TS.utility.rAF(function(){TS.ui.utility.updateClosestMonkeyScroller(e.$list,!0)}))},"_updateMonkeyScroll"),me=o(function(e){if(!e.append){var T=e._selected.filter(function(D){return D instanceof HTMLOptionElement}).map(function(D){return $(D).val()});e.$select.val(T).trigger("change")}},"_updateVal"),x=o(function(e){return e=_.escape(e),e},"_formatTextForDisplay"),l=o(function(e){e.$input.attr("placeholder",""),b(e)&&e.$filter_input.attr("placeholder","")},"_clearPlaceholderText"),g=o(function(e){e.$input.attr("placeholder",e.placeholder_text),b(e)&&e.$filter_input.attr("placeholder",e.filter_placeholder_text)},"_resetPlaceholderText"),b=o(function(e){return e.style===TS.ui.lazy_filter_select.STYLES.filter_in_list},"_isFilterInListStyle"),M=o(function(e){return _.isFunction(e.data_promise)&&e.min_query_length},"_usingMinQueryLength"),Z=o(function(e,T,D){fe(e,e.errorTemplate(T),{internal_error_message:D,clear_active_items:!0})},"_showErrorStatus"),V=o(function(e){var T=e.noResultsTemplate(e.$filter_input.val());fe(e,T,{clear_active_items:!0})},"_showNoResultsStatus"),_e=o(function(e){var T=TS.interop.i18n.t("Loading results\u2026","lazy_filter_select")();fe(e,T,{show_loading_indicator:!0})},"_showLoadingStatus"),fe=o(function(e,T,D){D=D||{},e._showing_status=!0,D.internal_error_message&&TS.error(D.internal_error_message),b(e)||e.$input_container.addClass("active"),D.show_loading_indicator&&e.$status_loading_indicator.removeClass("hidden"),D.clear_active_items&&(e._$active=null),e.$status_content.html(T),e.$list_container.addClass(m)},"_showStatus"),he=o(function(e,T){T=T||{},e._showing_status=!1,T.keep_input_active||e.$input_container.removeClass("active"),e.$status_loading_indicator.addClass("hidden"),e.$list_container.removeClass(m)},"_hideStatus"),ye=o(function(e){e._prevent_blur=!1},"_onContainerMouseleave"),Te=o(function(e){e.disabled||G(e)},"_onContainerClick"),Be=o(function(e,T){e.disabled||T.which!==13||G(e)},"_onContainerKeydownEnter"),Pe=o(function(e,T){e.disabled||(T.preventDefault(),G(e))},"_onContainerParentsLabelClick"),Ue=o(function(e){e.$input_container.click(),e.$input.focus()},"_onInputContainerFocus"),Ee=o(function(e){e._input_is_focused||(e._input_is_focused=!0,e.$input_container.click(),e.onInputFocus()),e.single||e.$input_container.addClass("active")},"_onInputFocus"),Ce=o(function(e){var T=e.$filter_input.val();if(F(e)&&T.match(e.sluggify.delimiter)){var D=T.split(e.sluggify.delimiter);D.forEach(function(E){E.length&&r(e,E)})}else j(e,T,!0)},"_onFilterInputInput"),Me=o(function(e,T){if(!e.disabled){switch(T.keyCode){case TS.utility.keymap.down:ie(T),w(e);break;case TS.utility.keymap.up:ie(T),C(e);break;case TS.utility.keymap.enter:xe(e,T);break;case TS.utility.keymap.del:Fe(e,T);break;case TS.utility.keymap.tab:Ie(e,T);break;case TS.utility.keymap.esc:Ne(e,T);break;default:break}e.onKeyDown(T,T.isDefaultPrevented())}},"_onFilterInputKeydown"),He=o(function(e){e._prevent_blur||(Y(e),he(e)),e._input_is_focused=!1,e.onInputBlur()},"_onFilterInputBlur"),xe=o(function(e,T){if(e._$active&&e._$active.length&&e._list_visible){ie(T);var D=e._$active,E=!e.single&&e.allow_item_unselect&&H(e,I(e,D));if(E)ue(e,D);else{if(!p(e))return;R(e);var W=$(T.currentTarget);W.val()!==""&&(W.val(""),e._previous_val="",re(e)),e.single&&(Y(e),he(e))}}},"_onFilterInputKeydownEnter"),Fe=o(function(e,T){if(e.$filter_input.val()===""){ie(T);var D=e.$input_container.find(".lfs_token").last();F(e)&&te(D)?oe(e,D):ne(e)}},"_onFilterInputKeydownDel"),Ie=o(function(e,T){e.$filter_input.val().trim()&&F(e)?(ie(T),r(e,e.$filter_input.val())):e.tab_to_nav&&(ie(T),T.shiftKey?C(e):w(e))},"_onFilterInputKeydownTab"),Ne=o(function(e,T){ie(T),Y(e),he(e),e.$filter_input.blur()},"_onFilterInputKeydownEsc"),Le=o(function(e,T){e.disabled||(T.stopPropagation(),G(e),e._prevent_blur=!1)},"_onValueClick"),We=o(function(e,T){T.which===1&&(e._prevent_blur=!0)},"_onValueMousedown"),Oe=o(function(e,T){e.disabled||(ce(e,$(T.currentTarget)),e._prevent_blur=!1)},"_onTokenClick"),je=o(function(e,T){T.which===1&&(e._prevent_blur=!0)},"_onTokenMousedown"),Ae=o(function(e,T){T.which===1&&(e._prevent_blur=!0)},"_onListContainerMousedown"),ze=o(function(e){e._prevent_blur&&e.$filter_input.focus()},"_onListContainerMouseup"),De=o(function(e,T){if(!e.disabled&&!(T.clientX==e._mouse.lastX&&T.clientY==e._mouse.lastY)){var D=$(T.currentTarget);e._$active&&e._$active.removeClass("active"),!D.hasClass("active")&&U(D)&&(D.addClass("active"),e._$active=D),e._mouse.lastX=T.clientX,e._mouse.lastY=T.clientY}},"_onItemMousemove"),Ke=o(function(e,T){$(T.currentTarget).removeClass("active"),e._$active=null},"_onActiveItemMouseleave"),Re=o(function(e,T){if(!e.disabled){T.preventDefault();var D=$(T.currentTarget);e._$active=D;var E=!e.single&&e.allow_item_unselect&&H(e,I(e,D));if(E)ue(e,D);else{var W=U(D);if(!W&&!e.single||!p(e))return;if(!W&&e.single){Y(e),T.stopPropagation();return}R(e),e.$filter_input.val()!==""&&(e.$filter_input.val(""),e._previous_val="",re(e)),e.single&&(Y(e),T.stopPropagation())}e._prevent_blur=!1}},"_onItemClick")})()},855542745:()=>{(function(){TS.registerModule("ui.people_picker",{STYLES:{normal:"normal",small:"small"},onStart:function(){},preload:function(t){return r(t)(""),t},make:function(t,n){n=n||{},n.append||t.addClass("hidden"),n.style=_.get(TS.ui.people_picker.STYLES,n.style,TS.ui.people_picker.STYLES.normal),t.lazyFilterSelect({append:!!n.append,always_visible:!!n.always_visible,approx_item_height:n.approx_item_height||50,data_promise:r(n),placeholder_text:n.placeholder_text||TS.interop.i18n.t("Search by name","people_picker")(),classes:"people_picker",scroll_threshold:2500,single:!!n.single,style:n.style,sluggify:n.sluggify,disabled:n.disabled,template:n.template||function(i){var d=TS.templates.member_small({member:i.member});return new Handlebars.SafeString(d)},tokenTemplate:n.tokenTemplate||function(i){var d=TS.templates.member_token({member:i.member});return new Handlebars.SafeString(d)},tokenClass:function(i){return TS.templates.builders.getMemberTypeClass(i.member)},noResultsTemplate:n.noResultsTemplate||function(i){return i?TS.interop.i18n.t("No one found matching <strong>{query}</strong>","people_picker")({query:TS.interop.i18n.safeString(_.escape(i))}):TS.interop.i18n.t("No one found","people_picker")()},onItemAdded:n.onItemAdded,onItemRemoved:n.onItemRemoved})},value:function(t){return t.lazyFilterSelect("value")},clearValue:function(t){return t.lazyFilterSelect("clearValue")},recomputeHeight:function(t){return t.lazyFilterSelect("recomputeHeight")}});var s=["include_slackbot","include_self","include_bots","only_local_team","only_admins"],r=o(function(t){var n={},i={};t.preselected_ids&&t.preselected_ids.length&&_.forEach(t.preselected_ids,function(u){u&&(i[u]=!0)});var d={};t.omitted_ids&&t.omitted_ids.length&&_.forEach(t.omitted_ids,function(u){u&&(d[u]=!0)});var m=o(function(u,f){if(u.charAt(0)==="@"&&(u=u.substring(1)),u===""&&t.empty_query_result)return f>0?Promise.resolve([]):Promise.resolve(t.empty_query_result.map(function(v){return{member:v,lfs_id:String(v.id),preselected:!!i[v.id]}}));if(u===""&&t.initial_load_promise)return _.isUndefined(f)||(t.initial_load_promise=a(t.initial_load_promise,i,d)),t.initial_load_promise;n.query!==u&&(n.query=u,n.include_org=TS.boot_data.page_needs_enterprise,n.include_slackbot=!!t.include_slackbot,n.include_self=t.include_self,n.full_profile_filter=!1,n.include_bots=!!t.include_bots,n.only_local_team=!!t.only_local_team,n.only_admins=!!t.only_admins);var p=TS.interop.members.ensureMembersArePresent(_.keys(i)).then(function(){return a(n,i,d)});return u===""&&!t.initial_load_promise&&(t.initial_load_promise=p),p},"promiseToFilter");return m},"_createFilterFunction"),a=o(function(t,n,i){return Promise.resolve().then(function(){var d=[],m=_.keys(n);return m.forEach(function(u){var f=TS.interop.members.getMemberById(u);f||d.push(u)}),d.length?TS.interop.members.ensureMembersArePresent(d).catch(_.noop):Promise.resolve()}).then(function(){return TS.members.promiseToSearchMembers(t).then(function(d){var m=[];if(d.query===""){var u=_.pick(t,s);m=TS.members.getMembersWithOptions(u)}else m=d.items;return d.items=m.filter(function(f){return!i[f.id]}).map(function(f){return f.member&&typeof f.preselected<"u"?f:{member:f,lfs_id:String(f.id),preselected:!!n[f.id]}}),d})})},"_getSearchPromise")})()},1489906838:()=>{(function(){TS.registerModule("ui.validation",{completed_sig:new signals.Signal,onStart:function(){f(),$("body").on("input.validation paste.validation change.validation","[data-validation]",TS.utility.debounce(function(l){$(l.target).is(".ql-editor")||$(l.target).is(".ql-clipboard")?k($(l.target).closest(".ql-container"),{},l):k($(l.target),{},l)},500)),$("body").on("input.channel-name-validation paste.channel-name-validation change.channel-name-validation",'[data-validation*="channel_name"]',function(l){const g=$(l.target);if(!g.is('input[type="text"]'))return;const b={query:me(g),count:1};TS.interop.channels.fetchAndUpsertChannelsWithQuery({query:b})}),$("body").on("submit.validation","form[data-validation-form]",function(l){var g=$(l.target),b=TS.ui.validation.validate(g);b||l.preventDefault(),TS.ui.validation.completed_sig.dispatch(g,{event:l,passed:b})})},validate:function(l,g){g=g||{};var b=document;if(l){if(l.is("[data-validation]"))return l.length===1?k(l,g):l.toArray().every(function(V){return k($(V),g)});b=l.get(0)}var M=Array.prototype.slice.call(b.querySelectorAll("[data-validation]"));if(g&&g.fast)return M.every(function(V){return k($(V),g)});if(g&&g.verbose){var Z={};return M.forEach(function(V){Z[V.name]=k($(V),g)}),Z}return M.reduce(function(V,_e){return k($(_e),g)&&V},!0)},register:function(l,g){if(S[l]){TS.warn(`${l} cannot be registered because that key is already in use.`);return}if(typeof g!="function"){TS.warn("Only functions can be registered as validators.");return}S[l]=g},showCustomValidation:function(l,g,b,M){C(l,b.error_message||g,b.class,b,M)},getErrorMessage:function(l,g){switch(l){case"invalid_name_required":return n.required;case"invalid_name_punctuation":return n.punctuation;case"invalid_name_maxlength":return n.maxlength;case"invalid_name_specials":return n.specials;case"name_taken":return n.name_taken({name:g.name});case"restricted_action":return u.restricted_action;case"name_invalid_name_required":return m.required;case"invalid_starts_with_at":return m.at_sign;case"name_invalid_name_maxlength":case"too_long":return m.maxlength;case"invalid_reserved_word":return m.reserved;case"name_invalid_name_specials":return m.specials;case"invalid_emoji_not_allowed":return x(g.name||"");case"display_name_not_allowed":return m.sso_display_name;case"invalid_email":return p.invalid;case"url_in_message":return v.url_in_message;case"invalid_target_domain":return i.invalid_target_domain;case"invalid_target_domain_sameorg":return i.invalid_target_domain_sameorg;case"invalid_target_domain_self":return i.invalid_target_domain_self;default:return TS.interop.i18n.t("For some weird reason, that didn\u2019t work. Please try again to continue.","ui_validation")()}},maybeConvertNameErrorCode:function(l){return l==="invalid_name_specials"?"name_invalid_name_specials":l==="invalid_name_maxlength"?"name_invalid_name_maxlength":l==="invalid_name_required"?"name_invalid_name_required":l},showError:function(l,g,b,M){C(l,b.error_message||g,"validation_error",b,M)},showWarning:function(l,g,b,M){C(l,b.warning_message||g,"validation_warning",b,M)},showSuccess:function(l,g,b,M){C(l,b.success_message||g,"validation_success",b,M)},test:function(){return{validations:S}}});var s=80,r=80,a=21,t=TS.interop.i18n.t("Channel names can\u2019t be longer than {maxLength} characters.","ui_validation")({maxLength:r}),n={name_taken:TS.interop.i18n.t("{name} is already taken by a channel, username, or user group.","ui_validation"),lowercase:TS.interop.i18n.t("Channel names must be all lowercase. Try again?","ui_validation")(),maxlength:t,required:TS.interop.i18n.t("Don\u2019t forget to name your channel.","ui_validation")(),specials:TS.interop.i18n.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?","ui_validation")(),punctuation:TS.interop.i18n.t("Names can\u2019t consist solely of punctuation. Please elaborate!","ui_validation")()},i={invalid_target_domain:TS.interop.i18n.t("{targetDomain}.slack.com\xA0doesn\u2019t appear to be in use.","shared"),invalid_target_domain_sameorg:TS.interop.i18n.t("{targetDomain} is a part of your organization.","shared"),invalid_target_domain_self:TS.interop.i18n.t("You\u2019ll need to enter the Slack URL of the other organization.","shared")()},d={firstalphanumeric:TS.interop.i18n.t("Usernames must start with a letter or number. Sorry about that!","ui_validation")(),lowercase:TS.interop.i18n.t("Sorry, usernames must be lowercase!","ui_validation")(),maxlength:TS.interop.i18n.t("Sorry, that\u2019s a bit too long! Usernames must be fewer than {max_length_plus_one} characters.","ui_validation","10f62c929475d76c2b47d666c9703843310ef356")({max_length_plus_one:a+1}),required:TS.interop.i18n.t("Please fill in a username.","ui_validation")(),specials:TS.interop.i18n.t("Usernames can\u2019t contain special characters. Sorry about that!","ui_validation")()},m={required:TS.interop.i18n.t("Unfortunately, you can\u2019t leave this blank.","ui_validation")(),at_sign:TS.interop.i18n.t("Names can\u2019t start with the @ sign \u2014\xA0that\u2019s how your coworkers will mention you in conversation.","ui_validation","dbbcef363a405836bfc582044f84fec0a0a1cc64")(),maxlength:TS.interop.i18n.t("Unfortunately, names can\u2019t be longer than {maxlength} characters.","ui_validation")({maxlength:s}),reserved:TS.interop.i18n.t("That name\u2019s already being used by Slack.","ui_validation")(),specials:TS.interop.i18n.t("Mostly, names can\u2019t contain punctuation. (Apostrophes, spaces, and periods are fine.)","ui_validation")(),emoji:TS.interop.i18n.t("For all manner of complex reasons, names simply cannot contain emoji. Try again?","ui_validation")(),sso_display_name:TS.interop.i18n.t("Display names are automatically set by your organization.","ui_validation")()},u={},f=o(function(){u={restricted_action:TS.interop.i18n.t("Sorry! An admin in your workspace has restricted who can create private channels.","ui_validation")()}},"_initMpimErrorMessages"),p={invalid:TS.interop.i18n.t("This doesn\u2019t seem like an email address. Sorry!","ui_validation")()},v={url_in_message:TS.interop.i18n.t("Unfortunately, custom messages can\u2019t contain URLs.","ui_validation")()},S={dateandformat:Q,firstalphanumeric:L,hasnourl:H,isurl:Y,isouathredirecturl:F,lowercase:ne,maxcsv:J,maxlength:c,mincsv:re,minlength:te,nospace:ce,required:O,reservedwords:I,keywords:q,username:z,channel_name:X,team_name:N,is_email:y,membername:j,is_time:h},k=o(function(l,g,b){g=g||{},l.is("[data-validation-for]")&&(g.custom_for=l.attr("data-validation-for")),g.success_message=TS.interop.i18n.t("Nice, thanks!","ui_validation")(),l.is("[data-validation-success]")&&(g.success_message=l.attr("data-validation-success")),l.is("[data-validation-warning]")&&(g.warning_message=l.attr("data-validation-warning")),l.is("[data-validation-error]")&&(g.error_message=l.attr("data-validation-error")),l.is("[data-validation-trim-value]")&&(g.trim_value=!0),oe(l)&&ue(l,g);var M=P(l).every(function(Z){if(Z.indexOf("=")===-1)return S[Z.trim()](l,g);var V=Z.split("=");return S[V[0]](l,g,V[1])});return TS.ui.validation.completed_sig.dispatch(l,{event:b,passed:M}),R(l,M,g)&&TS.ui.validation.showSuccess(l,g.success_message,g,3e3),l.attr("aria-invalid",!M),M},"_validate"),P=o(function(l){return l.is("[data-validation]")?_.compact(l.attr("data-validation").replace(/\s*(,|=)\s*/g,"$1").split(/\s+/)):[]},"_getValidators");function O(l,g){if(l.is('input[type="radio"]')){if($(document.querySelectorAll(`[name="${l.prop("name")}"][data-validation]`)).filter(":checked").length)return!0;TS.ui.validation.showWarning(l,TS.interop.i18n.t("Please select an option","ui_validation")(),g)}else if(l.is('input[type="checkbox"]')){if($(document.querySelectorAll(`[name="${l.prop("name")}"][data-validation]`)).filter(":checked").length)return!0;TS.ui.validation.showWarning(l,TS.interop.i18n.t("Please select at least one option","ui_validation")(),g)}else if(l.is("select")){var b=_.get(l.data(),"TSLazyFilterSelect",!1);if(b&&!_.isEmpty(b.value())||!b&&!_.isEmpty(l.val()))return!0;TS.ui.validation.showWarning(l,TS.interop.i18n.t("Please select an option","ui_validation")(),g)}else if(oe(l)){if(le(l).trim())return!0;TS.ui.validation.showWarning(l,TS.interop.i18n.t("This field can\u2019t be empty","ui_validation")(),g)}else TS.error("Error: cannot validate")}o(O,"_validateRequired");function I(l,g,b){if(l.is('input[type="radio"]')||l.is('input[type="checkbox"]')||l.is("select"))return!0;if(oe(l)){var M=le(l).trim().toLowerCase(),Z=b.split(",");if(Z.indexOf(M)===-1)return!0;TS.ui.validation.showWarning(l,TS.interop.i18n.t('"{word}" is a reserved word. Try something else!',"ui_validation")({word:TS.interop.i18n.safeString(_.escape(M))}),g)}else TS.error("WTF: cannot validate")}o(I,"_validateReservedWords");function q(l,g){return I(l,g,TS.model.RESERVED_KEYWORDS.join(","))}o(q,"_validateKeywords");function Y(l,g,b){var M=le(l);g&&g.trim_value&&(M=M.trim());var Z=TS.interop.i18n.t("This doesn\u2019t seem like a proper link. Sorry!","ui_validation")(),V,_e=!1,fe=!1;if(!M||l.is('input[type="radio"]')||l.is('input[type="checkbox"]')||l.is("select"))return!0;if(!oe(l)){TS.error("Error: cannot validate");return}if(b){V=b.split(","),V.indexOf("http")!=-1&&V.indexOf("https")==-1&&V.push("https");for(var he=0;he<V.length;he+=1)M.indexOf(`${V[he]}://`)===0&&(_e=!0);!_e&&V.indexOf("https")!=-1&&(Z=TS.interop.i18n.t("Please use https (for security).","ui_validation")())}else _e=!0,M.indexOf("://")==-1&&(M=`http://${M}`);if(fe=TS.interop.url.simpleIsUrl(M),fe&&_e)return!0;TS.ui.validation.showWarning(l,Z,g)}o(Y,"_validateIsUrl");function F(l,g,b){if(Y(l,g,b)){var M=le(l);if(M.indexOf("#")==-1)return!0;const Z=TS.interop.i18n.t("Oauth redirect URLs should not contain a fragment component (#)","ui_validation")();TS.ui.validation.showWarning(l,Z,g)}}o(F,"_validateIsOauthRedirectUrl");function H(l,g){if(l.is('input[type="radio"]')||l.is('input[type="checkbox"]')||l.is("select"))return!0;if(oe(l)){var b=le(l);if(!b||!TS.interop.url.findUrlsInString(b).length)return!0;TS.ui.validation.showWarning(l,v.url_in_message,g)}else TS.error("Error: cannot validate")}o(H,"_validateHasNoUrl");function te(l,g,b,M){return A(l,"minlength",g,b,M)}o(te,"_validateMinLength");function c(l,g,b,M){return A(l,"maxlength",g,b,M)}o(c,"_validateMaxLength");function A(l,g,b,M,Z){if(l.is('input[type="radio"]')||l.is('input[type="checkbox"]')||l.is("select"))return!0;if(oe(l)){var V=le(l);if(M=+M,V===void 0||isNaN(M)){TS.error("Error: no length to validate");return}if(g==="minlength"){if(TS.interop.utility.getStringLength(V)>=M)return!0;TS.ui.validation.showError(l,TS.interop.i18n.t("This field can\u2019t be less than {minlength, plural, =1{# character}other{# characters}}","ui_validation")({minlength:M}),b)}else if(g==="maxlength"){if(Z||K(l,V.length,M,b),TS.interop.utility.getStringLength(V)<=M)return!0;TS.ui.validation.showError(l,TS.interop.i18n.t("This field can\u2019t be more than {maxlength, plural, =1{# character}other{# characters}}","ui_validation")({maxlength:M}),b)}}else TS.error("Error: cannot validate")}o(A,"_validateLength");function re(l,g,b){return ee(l,"mincsv",g,b)}o(re,"_validateMinCSV");function J(l,g,b){return ee(l,"maxcsv",g,b)}o(J,"_validateMaxCSV");function ee(l,g,b,M){if(l.is('input[type="radio"]')||l.is('input[type="checkbox"]')||l.is("select"))return!0;if(oe(l)){var Z=le(l).trim();if(M=+M,Z===void 0||isNaN(M)){TS.error("Error: no length to validate");return}if(g==="mincsv"){if(Z.split(/\s*,\s*/).length>=M)return!0;TS.ui.validation.showError(l,TS.interop.i18n.t("This field can\u2019t have less than {minlength, plural, =1{# value}other{# values}}","ui_validation")({minlength:M}),b)}else if(g==="maxcsv"){if(Z.split(/\s*,\s*/).length<=M)return!0;TS.ui.validation.showError(l,TS.interop.i18n.t("This field can\u2019t have more than {maxlength, plural, =1{# value}other{# values}}","ui_validation")({maxlength:M}),b)}}else TS.error("Error: cannot validate")}o(ee,"_validateCSV");function Q(l,g,b){if(l.is('input[type="radio"]')||l.is('input[type="checkbox"]')||l.is("select"))return!0;if(oe(l)){var M=le(l).trim();if(!M)return!0;var Z,V,_e,fe;switch(b){case"Y-m-d":Z="YYYY-MM-DD",V=M.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/),_e=V&&V.length===1&&V[0]===M,_e&&(fe=w(`${M}T00:00:00.000Z`));break;case"m-d":Z="MM-DD",V=M.match(/^[0-9]{2}-[0-9]{2}$/),_e=V&&V.length===1&&V[0]===M,_e&&(fe=w(`0000-${M}T00:00:00.000Z`));break;default:TS.error("Error: cannot validate");return}if(_e&&fe)return!0;_e?fe||TS.ui.validation.showWarning(l,TS.interop.i18n.t("{value} doesn\u2019t appear to be a valid date. Sorry!","ui_validation")({value:TS.interop.i18n.safeString(_.escape(M))}),g):TS.ui.validation.showWarning(l,TS.interop.i18n.t("This needs to be in the format {pattern}. Sorry!","ui_validation")({pattern:Z}),g)}else TS.error("Error: cannot validate")}o(Q,"_validateDateAndFormat");function ne(l,g){var b=oe(l)?le(l):l.val(),M=b===b.toLocaleLowerCase();if(M)return!0;TS.ui.validation.showWarning(l,TS.interop.i18n.t("This field must be lowercase only","ui_validation")(),g)}o(ne,"_validateLowercase");function ce(l,g){var b=oe(l)?le(l):l.val(),M=/\s/.test(b);if(!M)return!0;TS.ui.validation.showWarning(l,TS.interop.i18n.t("This field can\u2019t contain spaces","ui_validation")(),g)}o(ce,"_validateNospace");function L(l,g){var b=oe(l)?le(l):l.val(),M=/^[^\W_]/.test(b);if(M)return!0;TS.ui.validation.showWarning(l,TS.interop.i18n.t("This first character must be a letter or number","ui_validation")(),g)}o(L,"_validateFirstAlphanumeric");function z(l,g){var b=$.extend({},g,{quiet:!0});if(!O(l,b))TS.ui.validation.showWarning(l,d.required,g);else if(!c(l,b,a,!0))TS.ui.validation.showWarning(l,d.maxlength,g);else if(!ce(l,b))TS.ui.validation.showWarning(l,d.specials,g);else if(!U(l,b,/^[\w._-]+$/))TS.ui.validation.showWarning(l,d.specials,g);else if(!L(l,b))TS.ui.validation.showWarning(l,d.firstalphanumeric,g);else if(!ne(l,b))TS.ui.validation.showWarning(l,d.lowercase,g);else return!!I(l,g,TS.interop.constants.RESERVED_USERNAMES.join(","))}o(z,"_validateUsername");function j(l,g,b){var M=$.extend({},g,{quiet:!0});if(l.is('input[type="radio"]')||l.is('input[type="checkbox"]')||l.is("select"))return!0;if(!oe(l)){TS.error("Error: cannot validate");return}var Z=_.trim(le(l)),V=TS.interop.i18n.deburr(Z.toLowerCase()),_e=ae(b);if(_.includes(_e,"required")&&!O(l,M))return TS.ui.validation.showWarning(l,m.required,g),!1;if(!c(l,M,s,!0))return TS.ui.validation.showWarning(l,m.maxlength,g),!1;var fe=TS.interop.constants.RESERVED_USERNAMES.concat(TS.model.RESERVED_KEYWORDS).map(function(he){return TS.interop.i18n.deburr(he)});return fe.indexOf(V)!==-1?(TS.ui.validation.showWarning(l,m.reserved,g),!1):Z.charAt(0)==="@"?(TS.ui.validation.showWarning(l,m.at_sign,g),!1):U(l,M,/^[-_.'\u2018\u2019",(){}[\]/;]+$/)?(TS.ui.validation.showWarning(l,n.punctuation,g),!1):U(l,M,/[`~!@#$%^&*+=\\:"<>?|]/)?(TS.ui.validation.showWarning(l,m.specials,g),!1):TS.emoji.hasUnifiedEmoji(Z)?(TS.ui.validation.showWarning(l,x(Z),g),!1):!0}o(j,"_validateRealOrDisplayName");function X(l,g,b){if(l.is('input[type="radio"]')||l.is('input[type="checkbox"]')||l.is("select"))return!0;if(!oe(l)){TS.error("Error: cannot validate");return}var M=le(l),Z=ae(b),V=_.includes(Z,"fix");V&&(M=me(l));var _e=TS.validation.channel_name_with_errors(M);return _e!==!0?(g.should_truncate=!1,TS.ui.validation.showWarning(l,_e.error_message,g),!1):!0}o(X,"_validateChannelName");function N(l,g){g=g||{};var b=le(l).trim(),M=TS.validation.team_name(b);return M!==!0?(g.should_truncate=!1,M.error_key==="empty"?TS.ui.validation.showCustomValidation(l,M.error_message,g):TS.ui.validation.showError(l,M.error_message,g),!1):!0}o(N,"_validateTeamName");function y(l,g){if(l.is('input[type="radio"]')||l.is('input[type="checkbox"]')||l.is("select"))return!0;if(oe(l)){var b=le(l);if(!b)return!0;var M=b.match(TS.utility.email_regex);if(M&&M.length===1&&M[0]===b)return!0;TS.ui.validation.showWarning(l,p.invalid,g)}else TS.error("Error: cannot validate")}o(y,"_validateIsEmail");function U(l,g,b){var M=oe(l)?le(l):l.val();if(!b.test(M))TS.ui.validation.showWarning(l,TS.interop.i18n.t("This field contains invalid characters","ui_validation")(),g);else return!0}o(U,"_validatePattern");function h(l){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l.is('input[type="radio"]')||l.is('input[type="checkbox"]')||l.is("select"))return!0;if(oe(l)){var b=le(l);if(!b||/((1[0-2]|0?[1-9]):([0-5][0-9]) ?([ap][m]))/i.test(b))return!0;TS.ui.validation.showWarning(l,"Try the format 10:30am",g)}}o(h,"_validateTime");var w=o(function(l){if(!isNaN(Date.parse(l))){var g=new Date(l);return!g.toISOString().indexOf(l)}},"_isValidISODate"),R=o(function(l,g,b){var M=$(document.querySelector(`label[for="${b.custom_for||l.attr("name")}"]`));if(M.length)return!(b&&b.quiet)&&g&&M.data("validation-ephemeral")===!1},"_shouldShowSuccess"),C=o(function(l,g,b,M,Z){if(M=M||{},_.isUndefined(M.should_truncate)&&(M.should_truncate=!0),!(M&&M.quiet)){var V=$(document.querySelector(`label[for="${M.custom_for||l.attr("name")}"]`));if(V.length){var _e=V.data("validation-timeout");clearTimeout(_e);var fe=V.find(".validation_message");if(fe.length||(fe=$("<span />").addClass("validation_message").toggleClass("overflow_ellipsis",M.should_truncate),l.is("select")&&V.find("select").length?fe.insertBefore(V.find("select")):fe.appendTo(V)),G(l,V,b),!g){fe.remove();return}fe.get(0).title=g,fe.fadeIn(100),V.data("validation-ephemeral",!!Z),Z&&V.data("validation-timeout",setTimeout(function(){V.removeData("validation-ephemeral").removeData("validation-timeout"),fe.fadeOut(100,function(){G(l,V),fe.remove()})},Z))}}},"_showMessage"),B=["validation_error","validation_warning","validation_success"],G=o(function(l,g,b){g.hasClass(b)||(l.removeClass(B.join(" ")),l.addClass(b),g.removeClass(B.join(" ")),g.addClass(b))},"_toggleValidationLevel"),K=o(function(l,g,b,M){b-g<=6?ie(l,g,b,M):ue(l,M)},"_countdown"),ie=o(function(l,g,b,M){var Z=document.querySelector(`label[for="${M.custom_for||l.attr("name")}"]`);if(Z){var V=[g,b].join("/");$(Z).attr("data-countdown",V).addClass("countdown");var _e=window.getComputedStyle(Z,":after"),fe=parseFloat(_e.width)||9*V.length;l.hasClass("no_validation_padding")||(l.data("countdown-padding-right")||l.data("countdown-padding-right",parseFloat(l.css("padding-right"))),l.css("padding-right",fe+parseFloat(_e.right)+l.data("countdown-padding-right")))}},"_setCountdown"),ue=o(function(l,g){var b=document.querySelector(`label[for="${g.custom_for||l.attr("name")}"]`);b&&($(b).removeClass("countdown"),l.removeData("countdown-padding-right"),l.css("padding-right",""))},"_clearCountdown"),oe=o(function(l){return TS.interop&&TS.interop.utility?l.is("input")||l.is("textarea")||TS.interop.utility.isContentEditableElement(l):l.is("input")||l.is("textarea")},"_isElementTextInput"),le=o(function(l){return TS.utility&&TS.utility.contenteditable?TS.utility.contenteditable.value(l):l.val()},"_getTextInputValue"),ae=o(function(l){return _.isString(l)?_(l).split(",").map(_.trim).compact().value():[]},"_parseParams"),me=o(function(l){var g=le(l),b=g.toLowerCase().replace(/^#+/,"");if(b=b.replace(/^\s+/,""),b=b.replace(/\s+$/,""),b=b.replace(/\s/g,"-"),b&&g!==b){var M=TS.utility.contenteditable.cursorPosition(l).start;b.length<g.length&&(M-=g.length-b.length),l.val(b),TS.utility.contenteditable.cursorPosition(l,M)}return b},"_fixChannelName"),x=o(function(l){var g=//u,b=[TS.interop.i18n.t("For all manner of complex reasons, names simply cannot contain emoji. Try again?","ui_validation")(),TS.interop.i18n.t("Using emoji for names makes some sense, but sadly, not enough. Try again?","ui_validation","29a0641ffb224418f796bb16c7f79013ec377a4c")(),TS.interop.i18n.t("For technical reasons, emoji are not allowed in names. Try again?","ui_validation")(),TS.interop.i18n.t("Of course you want a name with an emoji. Sadly, it is not to be. Try letters?","ui_validation")()];return l.match(g)?TS.interop.i18n.t("For reasons of party-pooping, names cannot contain emoji. Try again?","ui_validation")():_.sample(b)},"_getInvalidNameEmojiErrorMessage")})()},712551907:()=>{(function(){TS.registerModule("user_groups",{updated_sig:new signals.Signal,updated_info_sig:new signals.Signal,changed_is_unknown_sig:new signals.Signal,legacyNeedsToFetchMembership(s){return s.users===void 0||_.size(s.users)!==s.user_count}})})()},9007475922:()=>{(function(){TS.registerModule("utility.contenteditable",{isActiveElement:function(a){return a=s(a),a&&r(a)?document.activeElement===a:!1},focus:function(a){a=s(a),a&&r(a)&&a.focus()},value:function(a,t){return a=s(a),a&&r(a)?(_.isString(t)&&(a.value=t),a.value):""},cursorPosition:function(a,t,n){_.isString(a)&&(a=$(a));var i={start:0,end:0,length:0};if(a=s(a),!a)return i;if(_.isNumber(t))n||(n=0),i.start=t,i.end=t+n,i.length=n,r(a)&&TS.selection.selectCharacters(a,i.start,i.end);else{if(!TS.utility.contenteditable.isActiveElement(a)){var d=$(a).data("utility-contenteditable-cursor-position");if(_.isObject(d))return d}r(a)&&(a.focus(),i.start=a.selectionStart,i.end=a.selectionEnd,i.length=Math.abs(a.selectionEnd-a.selectionStart))}return i},test:function(){var a={_normalizeInput:s,_isFormElement:r};return a}});var s=o(function(a){return!a||(a instanceof jQuery&&a[0]&&(a=a[0]),a.nodeType!==Node.ELEMENT_NODE)?!1:a.tagName.toLowerCase()==="textarea"||a.tagName.toLowerCase()==="input"?a:$(a).hasClass("ql-editor")?a.parentNode:a.hasAttribute("contenteditable")||a.tagName==="DIV"?a:!1},"_normalizeInput"),r=o(function(a){return!a||!a.tagName?!1:a.tagName.toLowerCase()==="textarea"||a.tagName.toLowerCase()==="input"},"_isFormElement")})()},733042761:()=>{(function(){TS.registerModule("utility.date",{do24hrTime:function(){return TS.model.user&&TS.prefs.prefs_loaded&&TS.prefs.getPref("time24")}})})()},7523642072:()=>{(function(){TS.registerModule("utility.enterprise",{splitQueryIntoTerms:function(s,r,a){var t=r,n;return s=s.trim(),s.length>=2&&(t=_.isArray(r)?_.slice(r):[],n=s.split(/\s+/),_.each(n,function(i){t.push({type:a||"fuzzy_with_email",value:i})})),t},getSSOProviderLabel:function(s,r){if(!s)return r;var a=_.get(s,"type",""),t=_.get(s,"name",""),n=a==="",i=a==="saml";return n||i?r:t||r},buildTeamUrl:function(s){return`https://${s||"my"}.${TS.boot_data.abs_root_url.replace(/(http:\/\/|https:\/\/)/,"")}`},buildOrgUrl:function(s){return`https://${s}.enterprise.${TS.boot_data.abs_root_url.replace(/(http:\/\/|https:\/\/)/,"")}`},formatChannelsData:function(s){var r=[];return s.private_channels&&(s.private_channels=_.isArray(s.private_channels)?s.private_channels:[s.private_channels],r=_.map(s.private_channels,function(a){var t=TS.interop.members.getMemberById(a.creator)||{};const n=a.members,i=Array.isArray(n)?n.length:a.members,d={creator_display:t.real_name?t.real_name:t.name,creator_id:a.creator,creator_username:t.name,date_created:a.created,member_count:a.member_count||i,purpose:a.purpose.value,topic:a.topic.value,private:!0};return _({}).assign(a,d).omit("members").value()})),s.channels&&(r=r.concat(_.map(s.channels,function(a){var t=TS.interop.members.getMemberById(a.creator)||{};const n=a.members,i=Array.isArray(n)?n.length:a.members,d={creator_display:t.real_name?t.real_name:t.name,creator_id:a.creator,creator_username:t.name,date_created:a.created,member_count:i||0,purpose:_.get(a,"purpose.value",""),topic:_.get(a,"topic.value",""),private:!1};return _({}).assign(a,d).omit("members").value()}))),r},buildApiOptionsForAnalyticsCSVExport:function(s){var r={};if(s.type&&(r.type=s.type),s.date_range&&(r.date_range=s.date_range),_.get(s.selected_columns,"length")&&(r.cols=s.selected_columns.join(",")),s.team_id&&(r.team_id=s.team_id),s.sort_prefix&&(r.sort_prefix=s.sort_prefix,s.sort_dir&&(r.sort_dir=s.sort_dir)),s.search_term){var a=TS.utility.enterprise.splitQueryIntoTerms(s.search_term,[],"fuzzy_with_email");if(a.length){var t=a.length===1?_.head(a):{type:"and",clauses:a};r.query=JSON.stringify(t)}}return r},recordAnalyticsPricingEvents:function(s,r,a){a=a||{};const t={};switch(r){case"overview_impression":t.action="impression",t.step="team_stats_overview";break;case"coachmark_impression":t.action="impression",t.step=`team_stats_overview_${_.get(a,"callout_module")}_coachmark`;break;case"coachmark_resolve":t.action="click",t.step=`team_stats_overview_${_.get(a,"callout_module")}_coachmark`,t.ui_element="learn_more_btn";break;case"coachmark_reject":t.action="dismiss",t.step=`team_stats_overview_${_.get(a,"callout_module")}_coachmark`,t.ui_element="skip_this";break;case"msg_files_pricing_btn_click":t.action="click",t.step="team_stats_overview",t.ui_element="msg_files_chart_link_btn";break;case"single_callout_upgrade_link_impression":t.action="impression",t.step="team_stats_overview",t.ui_element=`${_.get(a,"callout_module")}_upgrade_link`;break;case"multi_callout_upgrade_link_impression":t.action="impression",t.step="team_stats_overview",t.ui_element="multi_lim_upgrade_link";break;case"data_table_upsell_banner_impression":t.action="impression",t.step=`team_stats_${_.get(a,"report_name")}`;break;case"data_table_upsell_banner_click":t.action="click",t.step=`team_stats_${_.get(a,"report_name")}`,t.ui_element="see_pricing_plans_btn";break;default:}TS.interop.clog.track(s,{contexts:{ui_context:t}})},recordAnalyticsImpression:function(s,r,a,t,n){const i="ENTERPRISE_ANALYTICS",d={},m={};d.action="impression",d.ui_element=r,m.entity_key=a,m.tracking_code=t,m.anchor_page=s,n?m.target_team_id=n:m.target_team_id=TS.enterprise.model.get("org.enterprise.id")||_.get(TS.boot_data,"team_id"),TS.interop.clog.track(i,_.assign({},m,{contexts:{ui_context:d}}))},recordAnalyticsSearchEvent:function(s,r,a){const t="ENTERPRISE_ANALYTICS",n={},i={};n.action="impression",n.action_status=a?2:1,n.ui_element="SEARCH_BAR",i.entity_key=r,i.anchor_page=s,i.target_team_id=TS.enterprise.model.get("org.enterprise.id")||_.get(TS.boot_data,"team_id"),TS.interop.clog.track(t,_.assign({},i,{contexts:{ui_context:n}}))},convertDateRangeToThriftID:function(s){switch(s){case"28d":return"FILTER_LAST_28DAYS";case"30d":return"FILTER_LAST_30DAYS";case"all":return"FILTER_ALL_TIME";default:}},convertTimeseriesTabToClogKey:function(s){switch(s){case"active-users_weekly_active_users":return"wau_ts";case"active-users_daily_active_users":return"dau_ts";case"messages-and-files_messages_sent":return"messages_sent_ts";case"messages-and-files_files_uploaded":return"files_uploaded_ts";case"transparency_where_messages_sent":return"transparency_sent_ts";case"transparency_where_messages_read":return"transparency_read_ts";default:}}})})()},2657130564:()=>{(function(){TS.registerModule("utility.members",{checkMemberMatch:function(s,r,a){return!a&&s.profile&&s.profile.email&&s.profile.email.match(r)||s.profile&&s.profile.real_name_normalized&&s.profile.real_name_normalized.match(r)||s.profile&&s.profile.real_name&&s.profile.real_name.match(r)||s.profile&&s.profile.display_name_normalized&&s.profile.display_name_normalized.match(r)||s.profile&&s.profile.display_name&&s.profile.display_name.match(r)},isMemberRelevantToModel:function(s,r){return _.isObject(s)||(s=TS.interop.members.getMemberById(s)),s?TS.interop.rules.members.isSlackbot(s)?!0:s.deleted?!1:(_.isObject(r)||(r=TS.redux.channels.getEntityById(r)||TS.shared.legacyGetActiveModelOb()),!0):!1},isMemberEKMRevoked:function(s){return s&&s.id==="UREVOKEDU"}})})()},5764283451:()=>{(function(){TS.registerModule("utility.msgs",{setMsgs:function(s,r){for(var a=0;a<r.length;a+=1)r[a]=TS.utility.msgs.makeSureMsgObIsValid(r[a]);return TS.utility.msgs.sortMsgs(r),s.msgs=r,s.msgs},sortMsgs:function(s){function r(a,t){return a.ts<t.ts?1:a.ts>t.ts?-1:0}o(r,"compare"),s.sort(r)},makeSureMsgObIsValid:function(s){return s},_handleLegacyAttachment:function(s,r){if(!s){TS.warn("attachment is null!");return}return delete s.mrkdwn_in,s._index=r,"id"in s&&(s.id=s.id.toString()),s},ingestMessagesFromBootData:function(s){if(TS.boot_data.msgs){var r=TS.boot_data.msgs[s.id]||[],a=TS.interop.messages.preprocessImsgs(r.filter(t=>!!t.ts),s.id);TS.utility.msgs.setMsgs(s,a)}}})})()},2584623857:()=>{(function(){TS.registerModule("utility.search",{test:function(){return{_fetchMembersFromFlannel:t}},makeClause:function(i,d,m){if(!s(i,d,m)){var u={type:i.toLowerCase(),value:d};return m&&(u.field_id=m),u}},makeConjunction:function(i,d){if(!r(i,d))return{type:i.toLowerCase(),clauses:d}},promiseToSearch:function(i){if(!i)return Promise.reject(new Error("Cannot search without arguments."));if(i.all_of_org&&!TS.boot_data.page_needs_enterprise)return Promise.reject(new Error("cannot search an org when not an enterprise team"));if(!i.solr){if(!i.hasOwnProperty("raw_query"))return Promise.reject(new Error("Flannel searches require a `raw_query` to be provided"));var d=i.raw_query,m=i.count||1/0,u;if(_.isEmpty(i.raw_query)&&!i.only_admins)u=Promise.resolve([]);else{var f={};i.only_admins?f.filter="admins":i.only_local_team&&(f.filter="team"),u=t(i.raw_query,m,i.determine_membership_for_channel,f)}return u.then(function(S){var k=S.objects;if(!i.include_bots){var P=_.remove(k,{is_bot:!0});P.length&&TS.has_pri[n]&&TS.log(n,"Flannel: removed these bots from results:",P)}if(i.exclude_slackbot&&i.include_bots){var O=_.remove(k,{is_slackbot:!0});O.length&&TS.has_pri[n]&&TS.log(n,"Flannel: removed slackbot from results:",O)}if(TS.boot_data.page_needs_enterprise&&!i.all_of_org){var I=_.remove(k,function(F){var H=_.get(F,"enterprise_user.teams",[]),te=_.includes(H,TS.model.team.id),c=i.include_profile_only_users&&F.is_profile_only_user;return!te&&!c});I.length&&TS.has_pri[n]&&TS.log(n,"Flannel: removed these org members from results:",I)}if(!i.include_deleted){var q=_.remove(k,{deleted:!0});q.length&&TS.has_pri[n]&&TS.log(n,"Flannel: removed these deleted members from results:",q)}if(!i.include_profile_only_users){var Y=_.remove(k,{is_profile_only_user:!0});Y.length&&TS.has_pri[n]&&TS.log(n,"Flannel: removed these profile-only users from results:",Y)}return k=_.intersectionBy(TS.members.getMembersForUser(),k,"id"),{ok:!0,data:{items:k.slice(0,m),next_cursor_mark:null,num_found:k.length,teams:[TS.model.team]},args:{query:d}}})}if(!i.query)return Promise.reject(new Error("Cannot search without a query."));var p={query:JSON.stringify(i.query)};["sort","sort_direction","count","cursor_mark","include_bots","include_deleted","exclude_slackbot","ignore_guest_accounts"].forEach(function(S){i.hasOwnProperty(S)&&(p[S]=i[S])});var v=i.endpoint;return v||(v=i.all_of_org?"search.enterprise":"search.team"),TS.interop.api.call(v,p).catch(a)}});var s=o(function(i,d,m){if(!i){TS.error("cannot make a clause without a type");return}if(!d){TS.error("cannot make a clause without a value");return}i==="custom"&&!m&&TS.error("cannot make a custom type clause without a field id")},"_validateClauseParameters"),r=o(function(i,d){if(!i){TS.error("cannot make a conjunction without an 'and' or 'or' type");return}(!d||d.length<2)&&TS.error("cannot make a conjunction without at least two clauses")},"_validateConjunctionParameters"),a=o(function(i){throw TS.error(`${i.data.error} error occured while searching`),TS.generic_dialog.alert(TS.interop.i18n.t("Sorry! Something went wrong. Please try again.","utility_search")()),i},"_handleError"),t=o(function(i,d,m,u){u=u||{};var f={query:i,count:d};u.filter&&(f.filter=u.filter);var p=TS.members.fetchAndUpsertMembersWithQuery(f);if(!m)return p;var v=_.assign({channels:[m]},f),S=TS.members.fetchAndUpsertMembersWithQuery(v);return Promise.join(p,S).then(function(k){var P=k[0],O=k[1],I=_.map(P.objects,"id"),q=_.map(O.objects,"id"),Y={};return q.forEach(function(F){Y[F]=!0}),_.difference(I,q).forEach(function(F){Y[F]=!1}),TS.redux.dispatch(TS.interop.redux.models.membership.setChannelMembershipInfoForUsers({channelId:m,membershipInfo:Y})),P})},"_fetchMembersFromFlannel"),n=1989})()},1225006787:()=>{(function(){TS.registerModule("utility",{onStart:function(){TS.utility.makeRefererSafeLink=_.memoize(TS.utility.makeRefererSafeLink),TS.prefs&&TS.prefs.team_hide_referers_changed_sig&&TS.prefs.team_hide_referers_changed_sig.add(TS.utility.resetRefererSafeLinkCache),d=TS.utility.normalizeDevHost(`https://${document.location.hostname}/files`),m=TS.utility.normalizeDevHost(`https://${document.location.hostname}/team`)},keymap:{alt:18,ctrl:17,cmd_ff:224,cmd_other:91,cmd_right:93,esc:27,shift:16,tab:9,del:8,delete:46,enter:13,left:37,up:38,right:39,down:40,pageup:33,pagedown:34,end:35,home:36,space:32,semicolon:59,equals_sign:187,minus_sign:189,comma:188,period:190,left_square_bracket:219,right_square_bracket:221,V:86,a:65,e:69,b:66,k:75,i:73,z:90,y:89,insert:45,slash:191,f6:117,num_lock:144,insert_extended:96,caps_lock:20},email_regex:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,regexpEscape:function(u,f){return f=Math.min(f||5e5,5e5),u.length>f&&(u=u.slice(0,f)),_.escapeRegExp(u)},makeComparableVersion:function(u){var f=u.split("-")[0];return _.reduce(f.split("."),function(p,v){return p*1e3+parseInt(v,10)},0)},compareSemanticVersions:function(u,f){var p=TS.utility.makeComparableVersion(u),v=TS.utility.makeComparableVersion(f);return p===v?0:p>v?1:-1},doesRectContainRect:function(u,f,p,v){return p=p||0,f.top<u.top-p||f.bottom>u.bottom+p?!1:v?!0:!(f.left<u.left-p||f.right>u.right+p)},shouldLinksHaveTargets:function(){return!1},parseJSONOrElse:function(u,f){if(u==="")return f;try{return JSON.parse(u)}catch{return f}},removeUrlParam:function(u,f){var p=f.split("?")[0],v=f.indexOf("?")!==-1?f.split("?")[1]:"",S=[],k;if(v!==""){S=v.split("&");for(var P=S.length-1;P>=0;P-=1)k=S[P].split("=")[0],k===u&&S.splice(P,1);p=S.length?`${p}?${S.join("&")}`:p}return p},getPathFromSlackUrl:function(u){var f=u.match(i),p=f&&f[2];if(p){var v=u.split(p),S=v[1].split("?")[0];return(p+S).split("/")}},getAppliedClasses:function(u){return _.reduce(u,function(f,p,v){return p&&f.push(v),f},[]).join(" ")},numberWithK:function(u){return u>999?(u=Math.round(u/1e3*10)/10,`${TS.interop.i18n.number(u)||""}K`):TS.interop.i18n.number(u)||""},openInNewTab:function(u,f){let{dontEncodeHash:p=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(u.indexOf("/")===0&&TS.boot_data.team_url){var v=TS.boot_data.team_url;v=v.substr(0,v.length-1),u=v+u}var S=u,k="",P=S.indexOf("?"),O=TS.interop.utility.urlNeedsRefererHiding(u);if(P!==-1){O&&(u=_.escape(u.substring(0,P)));var I=S.substring(P+1,S.length);if(S=S.substring(0,P),I.length){var q=TS.interop.url.queryStringParse(I),Y=TS.interop.url.parseUrl(u),F=!1;Y&&Y.hostname=="accounts.google.com"&&Y.pathname=="/o/oauth2/auth"&&(F=!0),_.forEach(q,function(H,te){O?(u=TS.interop.url.setUrlQueryStringValue(u,te,H||"",F),p&&(u=u.replace("%23","#"))):k+=`<input type="hidden" name="${_.escape(te)}" value="${_.escape(H||"")}">`})}}O&&(k=`<input type="hidden" name="url" value="${_.escape(u)}">`,S=`https://${TS.boot_data.redir_domain}/link`),$(`<form>${k}</form>`).attr({method:"GET",action:S,target:f}).appendTo("body").submit().remove()},isScalar:function(u){return/boolean|number|string/.test(typeof u)},sanitizeHTML:function(u,f,p,v){var S=o(function(I){var q=I.tagName.toLowerCase();return f.indexOf(q)<0?null:(Array.prototype.slice.apply(I.attributes).forEach(function(Y){p.indexOf(Y.name)<0&&I.attributes.removeNamedItem(Y.name)}),Array.prototype.slice.apply(I.children).forEach(function(Y){var F=S(Y);F||I.removeChild(Y)}),I)},"_sanitizeNode");s=s||new DOMParser;var k=s.parseFromString(u,"text/html")||s.parseFromString(u,"text/xml"),P=k.body;if(P.children.length!=1)return"";var O=S(P.children[0]);return P=null,k=null,O?v?O:O.outerHTML:""},getChildTextNodes:function(u){var f=[];if(!u)return f;if(u instanceof Text)return f.push(u),f;for(var p=document.createTreeWalker(u,NodeFilter.SHOW_TEXT,null,!1),v=p.nextNode();v;)f.push(v),v=p.nextNode();return f},linkify:function(u,f,p,v){return u&&(u=u.replace(TS.interop.url.URL_REGEXP,function(S){var k;if(S.toLowerCase().indexOf("www.")===0){if(!p)return S;k=`http://${S}`}else k=S;return v?`<${k}|${S}>`:`<a ${TS.utility.makeRefererSafeLink(k)} target="${f||""}">${S}</a>`}),u)},getActiveElementProp:function(u){return document.activeElement?u==="NODENAME"?document.activeElement.nodeName?document.activeElement.nodeName.toUpperCase():"":document.activeElement[u]:""},isTabCompleteShowing:function(){return!!$("#chat_input_tab_ui").length},referer_safe_url_map:{},makeRefererSafeLink:function(u){if(typeof u!="string"){TS.error(`Expected url to be a string, got: ${typeof u}`);return}u=u.replace(/\ue000/g,"").replace(/\ue001/g,""),n(u);var f=u.replace(/&amp;/g,"&");f.match(/javascript(:|&colon;)/gi)&&(f="#");var p=!0,v=TS.utility.sanitizeHTML(`<a href="${f}"></a>`,["a"],["href"],p)||null;v&&(f=v.href),f=_.escape(f).replace(/&amp;/g,"&").replace(/(%27|&#39;)/g,"'"),u&&u.lastIndexOf("/")!==u.length-1&&f&&f.lastIndexOf("/")===f.length-1&&(f=f.slice(0,-1)),f=f||"#";var S=`href="${f}"`,k="onclick",P=TS.interop.utility.getRefererPolicy();if((!TS.model||!TS.model.is_our_app)&&P&&P.rewrite_on_right_click&&(k="onmousedown"),!TS.interop.utility.urlNeedsRefererHiding(u))return S;if(TS.utility.externalURLsNeedRedirecting()){var O=encodeURIComponent(f),I=`https://${TS.boot_data.redir_domain}/link?url=${O}${P&&P.redirect_type?`&v=${P.redirect_type}`:""}`,q=`url-${Math.random()}-${performance.now()}`;TS.utility.referer_safe_url_map[q]=f,S+=` data-referer-safe="1" ${k}="this.href=&quot;${I}&quot;" onmouseover="this.href=TS.utility.referer_safe_url_map[&quot;${q}&quot;]" data-referer-original-href="${f}" rel="noreferrer"`}else S+=' rel="noreferrer"';return S},resetRefererSafeLinkCache:function(){TS.utility.makeRefererSafeLink&&TS.utility.makeRefererSafeLink.cache&&TS.utility.makeRefererSafeLink.cache.clear()},makeSureAllExternalLinksAreRefererSafe:function(u){var f=[];TS.utility.externalURLsNeedRedirecting()?u.find("a[href]:not([data-referer-safe])").each(function(){var p=$(this),v=p.attr("href");if(TS.interop.utility.urlNeedsRefererHiding(v)){f.push(this.outerHTML),p.removeAttr("href");var S=this.outerHTML.replace("<a",function(){return`<a ${TS.utility.makeRefererSafeLink(v)} `});p.replaceWith(S),f[f.length-1]+=`
->
${S}`}}):u.find("a[href]:not([rel])").each(function(){var p=$(this),v=p.attr("href");v.indexOf("mailto")===0||v.indexOf("skype")===0||(v&&v!=="#"?TS.interop.utility.urlNeedsRefererHiding(v)&&(f.push(this.outerHTML),p.attr("rel","noreferrer"),f[f.length-1]+=`
->
${this.outerHTML}`):p.removeAttr("href"))})},sortTable:function(u,f,p,v,S){p=p==="desc"?"desc":"asc",S=S==="desc"?"desc":"asc";function k(q){return function(Y,F){var H=P(Y,q),te=P(F,q);return $.isNumeric(H)&&$.isNumeric(te)?H==te&&v?(H=P(Y,v),te=P(F,v),$.isNumeric(H)&&$.isNumeric(te)?S!=p?te-H:H-te:S!=p?TS.interop.i18n.sorter(te,H):TS.interop.i18n.sorter(H,te)):H-te:TS.interop.i18n.sorter(H,te)}}o(k,"sortFunc");function P(q,Y){return $(q).children("td").eq(Y).attr("data-sort-val")}o(P,"getCellValue");var O=u.find("tr:gt(0)").toArray().sort(k(f));p==="desc"&&(O=O.reverse());for(var I=0;I<O.length;I+=1)u.append(O[I])},getPercSmartly:function(u,f){if(!u||!f)return"0%";var p=u/f*100;return p!=100&&Math.round(p)==100?"99%":p<.7?"<1%":`${Math.round(p)}%`},hex2rgb:function(u){var f=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(u);return f?{r:parseInt(f[1],16),g:parseInt(f[2],16),b:parseInt(f[3],16)}:void 0},setImmediate:function(u){r(u)},debounce:function(u,f){var p;return function(){var v=this,S=arguments;clearTimeout(p),p=setTimeout(function(){u.apply(v,S)},f)}},debounceWithPromise:function(u,f){var p;return function(){var v=this,S=arguments;return p&&p.cancel(),p=new Promise(function(k){setTimeout(k,f)}).then(function(){return u.apply(v,S)}),p}},throttleFunc:function(u,f,p){var v={},S=o(function k(){var P=Array.prototype.slice.apply(arguments),O=_.some(P,_.isObject);O&&TS.error("You're passing non-scalar arguments to a function throttled with TS.utility.throttleFunc; it will likely not work as you want");var I=`f-${P.join("-")}`;if(v[I]&&v[I].context!==this)throw new Error(`Cannot use this function with different \`this\` contexts across different calls ${this} ${v[I].context}`);v[I]=v[I]||{requested:Date.now(),timeout:0,context:this},v[I].timeout||k.always_wait?v[I].requested=Date.now():u.apply(v[I].context,P),!v[I].timeout&&(v[I].timeout=setTimeout(o(function q(){var Y=Date.now()-v[I].requested;Y>=f?(u.apply(v[I].context,P),delete v[I]):v[I].timeout=setTimeout(q,f-Y)},"timerFunc"),f))},"funcReplacement");return S.always_wait=!!p,S},throttle:function(){var u,f;u={delay:200,timer_group:"generic"},f={timers:{},queues:{}};function p(S){var k,P;if(f.timers[S]){if(f.queues[S])for(k=0,P=f.queues[S].length;k<P;k+=1)f.queues[S][k]&&f.queues[S][k]();f.queues[S]=null,f.timers[S]=null}}o(p,"processQueue");function v(S,k,P){if(!S)return!1;k=k||u.timer_group,f.timers[k]||(P=P||u.delay,f.timers[k]=window.setTimeout(function(){p(k)},P)),f.queues[k]||(f.queues[k]=[]),f.queues[k].indexOf?f.queues[k].indexOf(S)===-1&&f.queues[k].push(S):f.queues[k].push(S)}return o(v,"method"),{method:v}}(),getImgProxyURL:function(u,f,p){return TS.utility.getImgProxyURLWithOptions(u,{width:f,height:p})},getImgProxyURLWithOptions:function(u){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u&&TS.interop.utility.getImgProxyUrl({url:u,height:f.height,width:f.width,rotate:f.rotate,renderSvg:f.render_svg,stopAnimations:f.stop_animations,emoji:f.emoji,convertIco:f.convert_ico})},rAF:function(){var u=["ms","moz","webkit","o"],f=window.requestAnimationFrame,p;for(p=0;p<u.length&&!f;p+=1)f=window[`${u[p]}RequestAnimationFrame`];if(!f){var v=0;return function(S){var k=Date.now(),P=Math.max(0,16-(k-v)),O=window.setTimeout(function(){S(k+P)},P);return v=k+P,O}}return function(S){return f.call(window,S)}}(),getLocationHashString:function(u){u=u||document;var f=u.location.hash;return f&&f.length?f.substr(1):f},externalURLsNeedRedirecting:function(){return!!(TS.model.team&&TS.prefs.getTeamPref("hide_referers")&&!TS.model.is_our_app)},isArrowKey:function(u){var f=TS.utility.keymap;return u==f.down||u==f.up||u==f.right||u==f.left},normalizeDevHost:function(u){return u.replace(/\.dev[0-9]*.slack.com/i,".dev.slack.com").replace(/\.staging.slack.com/i,".slack.com").replace(/\.staging-master.slack.com/i,".slack.com").replace(/\.staging-sandbox.slack.com/i,".slack.com")},areSimpleObjectsEqual:o(function u(f,p){if(f===p)return!0;if(f===void 0&&p||p===void 0&&f||typeof f!=typeof p||f===null&&p||p===null&&f||f.length!==p.length)return!1;var v;for(v in p){if(typeof f[v]>"u"&&typeof p[v]<"u")return!1;if(p[v])switch(typeof p[v]){case"object":if(!u(f[v],p[v]))return!1;break;case"function":if(String(p[v])!=String(f[v]))return!1;break;default:if(p[v]!==f[v])return!1}else if(f[v])return!1}for(v in f)if(typeof p[v]>"u"&&typeof f[v]<"u")return!1;return!0},"recurse"),deepDiffObjects:function(u,f){if(_.isEmpty(u))return{};if(_.isEmpty(f))return u;var p={};return _.each(u,function(v,S){var k=f[S];if(k!==v)if(typeof v!=typeof k)p[S]=v;else if(_.isArray(v))p[S]=_.difference(v,k);else if(_.isPlainObject(v)){var P=TS.utility.deepDiffObjects(v,k);_.isEmpty(P)||(p[S]=P)}else p[S]=v}),p},makeWebWorker:function(u,f){var p=URL.createObjectURL(new Blob(["(",u,")()"],{type:"application/javascript"})),v=new Worker(p);return URL.revokeObjectURL(p),v.onmessage=f,v},truncateToNearestWordBoundary:function(u,f){if(u.string&&(u=u.string),u.length<=f)return u;var p="\u2026",v=u.substring(0,f),S=v.lastIndexOf(" ");return S>0&&S>f-15?v.substring(0,S)+p:v.substring(0,v.length-1)+p},getCachedScript:function(u,f){return f=$.extend(f||{},{dataType:"script",cache:!0,url:u}),jQuery.ajax(f)},disableElement:function(u,f){u=$(u),u.attr("disabled",f),u.attr("aria-disabled",f)},enableFeatureForUser:function(u){return u<0||u>100?(TS.warn("TS.utility.enableFeatureForUser() expects a number between 0 and 100"),!1):_.random(0,100)<u},roundToThree:function(u){return+`${Math.round(`${u}e+3`)}e-3`},exampleEmailAddress:function(u){return u==="you"?TS.interop.i18n.t("you@{example_com}","utility")({example_com:"example.com"}):TS.interop.i18n.t("name@{example_com}","utility")({example_com:"example.com"})},test:function(){var u={};return Object.defineProperty(u,"_files_url",{get:function(){return d},set:function(f){d=f}}),Object.defineProperty(u,"_team_url",{get:function(){return m},set:function(f){m=f}}),u}});var s,r=window.setImmediate;if(!r)if(window.MutationObserver){var a=document.createElement("div"),t=[];new MutationObserver(function(){var u=t.slice();t.length=0,u.forEach(function(f){f()})}).observe(a,{attributes:!0}),r=o(function(u){t.length||a.setAttribute("yes","no"),t.push(u)},"_set_immediate_fn")}else r=o(function(u){setTimeout(u,0)},"_set_immediate_fn");var n=o(function(u){var f=TS.utility.getPathFromSlackUrl(u);if(f&&f.length>1){var p={messages:!0,archives:!0}[f[0]],v=decodeURIComponent(f[1]);p&&v&&TS.interop.utility.looksLikeChannelId(v)&&!TS.interop.channels.hasChannelWithId(v)&&TS.redux.channels.getEntityById(v)}},"_fetchUnknownChannelSlackUrl"),i=/([^.:/]+)(?:\.[^.]+)?\.slack\.com\/((?:messages|archives|unreads|threads|team|page)\/)/,d=null,m=null})()},8380120867:()=>{(function(){TS.registerModule("utility.teams",{getMembersForTeam:function(s){if(_.isObject(s)&&s.id){var r=_.filter(TS.model.members,{team_id:s.id});return r}}})})()},5247437737:(s,r,a)=>{"use strict";var t=a(6081137529),n=a.n(t),i=a(2845147576),d=a.n(i),m=a(5717746259),u=a.n(m),f=a(4421161189),p=a.n(f),v=a(9267224555),S=a.n(v),k=a(4233675150),P=a.n(k),O=a(5387777188),I=a.n(O),q=a(977307490),Y=a.n(q),F=a(6424224313),H=a.n(F),te=a(9158920351),c=a.n(te),A=a(72910410),re=a.n(A),J=a(7750274637),ee=a.n(J),Q=a(5015647131),ne=a.n(Q),ce=a(5630507953),L=a.n(ce),z=a(4739508455),j=a.n(z),X=a(4760354203),N=a.n(X),y=a(9645596735),U=a.n(y),h=a(6191325158),w=a.n(h),R=a(1401661375),C=a.n(R),B=a(9032035136),G=a.n(B),K=a(7490519501),ie=a.n(K),ue=a(8380120867),oe=a.n(ue),le=a(1913226118),ae=a.n(le),me=a(3572352884),x=a.n(me),l=a(4592601333),g=a.n(l),b=a(2955023073),M=a.n(b),Z=a(450769953),V=a.n(Z),_e=a(3592604942),fe=a.n(_e),he=a(6358327438),ye=a.n(he),Te=a(2112272339),Be=a.n(Te),Pe=a(733042761),Ue=a.n(Pe),Ee=a(5764283451),Ce=a.n(Ee),Me=a(2657130564),He=a.n(Me),xe=a(1225006787),Fe=a.n(xe),Ie=a(5001124838),Ne=a.n(Ie),Le=a(3092528472),We=a.n(Le),Oe=a(3476953684),je=a.n(Oe),Ae=a(2083408393),ze=a.n(Ae),De=a(4449762740),Ke=a.n(De),Re=a(1489906838),e=a.n(Re),T=a(5406923728),D=a.n(T),E=a(8205917172),W=a.n(E),se=a(7487487633),de=a.n(se),pe=a(855542745),ge=a.n(pe),ve=a(7503965831),we=a.n(ve),Se=a(712551907),$e=a.n(Se),be=a(7223983431),ke=a.n(be),Ge=a(1345352986),Ze=a.n(Ge),Ve=a(2584623857),et=a.n(Ve),Ye=a(9007475922),tt=a.n(Ye),Je=a(7523642072),rt=a.n(Je),Qe=a(8293793871),nt=a.n(Qe),qe=a(3357051215),it=a.n(qe)}},s=>{var r=o(t=>s(s.s=t),"__webpack_exec__"),a=r(5247437737)}]);})();
